



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="露の世" href="https://lhchen74.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="露の世" href="https://lhchen74.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="露の世" href="https://lhchen74.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="r" />


<link rel="canonical" href="https://lhchen74.github.io/2021/05/13/r-tutorial/">



  <title>
R tutorial - manual |
D E W = 露の世</title>
<meta name="generator" content="Hexo 5.4.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">R tutorial
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2021-05-13 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2021-05-13T00:00:00+08:00">2021-05-13</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">D E W</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipet4bz0yj20zk0m8e81.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipevarprfj20zk0m8npd.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipex2cdtbj20zk0m8x6p.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicitcxhpij20zk0m8hdt.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span><i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/manual/" itemprop="item" rel="index" title="In manual"><span itemprop="name">manual</span></a>
<meta itemprop="position" content="1" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://lhchen74.github.io/2021/05/13/r-tutorial/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="江边鸟">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="露の世">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h2 id="basic-operation"><a class="markdownIt-Anchor" href="#basic-operation">#</a> basic operation</h2>
<h3 id="create-read-list-remove-object"><a class="markdownIt-Anchor" href="#create-read-list-remove-object">#</a> create, read, list, remove object</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create</span></span><br><span class="line">a &lt;- 1</span><br><span class="line">b &lt;- 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># read</span></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># list</span></span><br><span class="line">ls()</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove variables a &amp; b</span></span><br><span class="line">rm(a, b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># clear enviroment</span></span><br><span class="line">rm(<span class="built_in">list</span> = ls())</span><br></pre></td></tr></table></figure>
<h3 id="getwd-setwd"><a class="markdownIt-Anchor" href="#getwd-setwd">#</a> getwd, setwd</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">getwd()</span><br><span class="line"><span class="comment"># set work dir</span></span><br><span class="line">setwd(<span class="string">&quot;D:\\study\\r&quot;</span>)</span><br><span class="line">getwd()</span><br></pre></td></tr></table></figure>
<h3 id="package"><a class="markdownIt-Anchor" href="#package">#</a> package</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&quot;RColorBrewer&quot;</span>)</span><br><span class="line"><span class="comment"># load package</span></span><br><span class="line">library(RColorBrewer)</span><br><span class="line"><span class="comment"># use package</span></span><br><span class="line">display.brewer.all()</span><br><span class="line"></span><br><span class="line"><span class="comment"># detach package</span></span><br><span class="line">detach(package:RColorBrewer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># list loaded packages</span></span><br><span class="line">search()</span><br><span class="line"></span><br><span class="line"><span class="comment"># assign install directory</span></span><br><span class="line">install.packages(<span class="string">&quot;RColorBrewer&quot;</span>, <span class="string">&quot;D:\\study\\r\\library&quot;</span>)</span><br><span class="line">library(RColorBrewer, lib.loc = <span class="string">&quot;D:\\study\\r\\library&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="help"><a class="markdownIt-Anchor" href="#help">#</a> help</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?print</span><br><span class="line">help(print)</span><br></pre></td></tr></table></figure>
<h2 id="vector"><a class="markdownIt-Anchor" href="#vector">#</a> vector</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">?<span class="built_in">c</span></span><br><span class="line"></span><br><span class="line">num1 &lt;- <span class="built_in">c</span>(<span class="number">1.1</span>, <span class="number">2.2</span>, <span class="number">3.3</span>)</span><br><span class="line">num2 &lt;- 1:<span class="number">3</span></span><br><span class="line">char &lt;- <span class="built_in">c</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">logit &lt;- <span class="built_in">c</span>(<span class="literal">TRUE</span>, <span class="literal">FALSE</span>, <span class="built_in">T</span>, <span class="built_in">F</span>)</span><br><span class="line">char2 &lt;- <span class="built_in">c</span>(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="literal">TRUE</span>)</span><br><span class="line"></span><br><span class="line">num1[<span class="number">1</span>]</span><br><span class="line">num1[<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">3</span>)]</span><br><span class="line">num1[<span class="built_in">c</span>(<span class="built_in">T</span>, <span class="built_in">F</span>, <span class="built_in">T</span>)]</span><br><span class="line">num1[-<span class="number">2</span>] <span class="comment"># delete element whitch location is 2</span></span><br><span class="line"></span><br><span class="line">sex &lt;- <span class="built_in">c</span>(<span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;M&#x27;</span>)</span><br><span class="line">sexf &lt;- factor(sex)</span><br><span class="line">sexf</span><br><span class="line"><span class="comment"># [1] F M F M</span></span><br><span class="line"><span class="comment"># Levels: F M</span></span><br><span class="line"></span><br><span class="line">num3 &lt;- <span class="built_in">c</span>(<span class="string">&#x27;first&#x27;</span>=<span class="number">1</span>, <span class="string">&#x27;second&#x27;</span>=<span class="number">2</span>, <span class="string">&#x27;third&#x27;</span>=<span class="number">3</span>)</span><br><span class="line">num3[<span class="built_in">c</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;third&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a &lt;- 20:<span class="number">30</span></span><br><span class="line">a%%2==<span class="number">0</span></span><br><span class="line"><span class="comment"># [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE</span></span><br><span class="line">a[a%%2==<span class="number">0</span>]</span><br><span class="line"><span class="comment"># [1] 20 22 24 26 28 30</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">num1[<span class="number">1</span>] &lt;- <span class="number">100</span></span><br><span class="line">num1[<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">3</span>)] &lt;- <span class="built_in">c</span>(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">class</span>(num1)</span><br><span class="line"><span class="comment"># [1] &quot;numeric&quot;</span></span><br><span class="line"><span class="built_in">class</span>(char)</span><br><span class="line"><span class="comment"># [1] &quot;character&quot;</span></span><br><span class="line"><span class="built_in">class</span>(logit)</span><br><span class="line"><span class="comment"># [1] &quot;logical&quot;</span></span><br><span class="line"><span class="built_in">class</span>(sexf)</span><br><span class="line"><span class="comment"># [1] &quot;factor&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">is.character</span>(num1)</span><br><span class="line"><span class="comment"># [1] FALSE</span></span><br><span class="line">num1 = <span class="built_in">as.character</span>(num1)</span><br><span class="line">num1</span><br><span class="line"><span class="comment"># [1] &quot;1&quot;   &quot;2.2&quot; &quot;3&quot;</span></span><br><span class="line"><span class="built_in">is.numeric</span>(num2)</span><br><span class="line"><span class="comment"># [1] TRUE</span></span><br><span class="line"><span class="built_in">is.logical</span>(logit)</span><br><span class="line"><span class="comment"># [1] TRUE</span></span><br><span class="line"><span class="built_in">as.logical</span>(<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line"><span class="comment"># [1]  TRUE FALSE  TRUE</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="literal">NA</span></span><br><span class="line"><span class="literal">NaN</span></span><br><span class="line"><span class="literal">Inf</span></span><br><span class="line">-<span class="literal">Inf</span></span><br><span class="line"><span class="literal">NULL</span></span><br><span class="line">b &lt;- <span class="built_in">c</span>(<span class="literal">NA</span>, <span class="number">0</span>/<span class="number">1</span>, <span class="built_in">sqrt</span>(-<span class="number">1</span>), <span class="number">1</span>/<span class="number">0</span>, -<span class="number">1</span>/<span class="number">0</span>, <span class="literal">NULL</span>)</span><br><span class="line">b</span><br><span class="line"><span class="comment"># [1]   NA    0  NaN  Inf -Inf</span></span><br><span class="line"><span class="built_in">is.na</span>(b) <span class="comment"># NA, NaN</span></span><br><span class="line"><span class="built_in">is.finite</span>(b)</span><br><span class="line"><span class="built_in">is.infinite</span>(b)</span><br></pre></td></tr></table></figure>
<h2 id="matrix"><a class="markdownIt-Anchor" href="#matrix">#</a> matrix</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">?matrix</span><br><span class="line"></span><br><span class="line">m &lt;- matrix(<span class="number">1</span>:<span class="number">6</span>, nrow=<span class="number">2</span>, ncol = <span class="number">3</span>, <span class="built_in">dimnames</span> = <span class="built_in">list</span>(<span class="built_in">c</span>(<span class="string">&quot;r1&quot;</span>, <span class="string">&quot;r2&quot;</span>), <span class="built_in">c</span>(<span class="string">&quot;c1&quot;</span>, <span class="string">&quot;c2&quot;</span>, <span class="string">&quot;c3&quot;</span>)))</span><br><span class="line">m</span><br><span class="line"></span><br><span class="line"><span class="comment">#    c1 c2 c3</span></span><br><span class="line"><span class="comment"># r1  1  3  5</span></span><br><span class="line"><span class="comment"># r2  2  4  6</span></span><br><span class="line"></span><br><span class="line">m &lt;- matrix(<span class="number">1</span>:<span class="number">6</span>, nrow=<span class="number">2</span>, ncol = <span class="number">3</span>, byrow = <span class="built_in">T</span>, <span class="built_in">dimnames</span> = <span class="built_in">list</span>(<span class="built_in">c</span>(<span class="string">&quot;r1&quot;</span>, <span class="string">&quot;r2&quot;</span>), <span class="built_in">c</span>(<span class="string">&quot;c1&quot;</span>, <span class="string">&quot;c2&quot;</span>, <span class="string">&quot;c3&quot;</span>)))</span><br><span class="line">m</span><br><span class="line"><span class="comment">#    c1 c2 c3</span></span><br><span class="line"><span class="comment"># r1  1  2  3</span></span><br><span class="line"><span class="comment"># r2  4  5  6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">class</span>(m)</span><br><span class="line"><span class="comment"># [1] &quot;matrix&quot; &quot;array&quot;</span></span><br><span class="line">m[<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">m[<span class="number">1</span>,]</span><br><span class="line">m[,<span class="number">1</span>]</span><br><span class="line">m[<span class="built_in">c</span>(<span class="built_in">T</span>, <span class="built_in">F</span>), ]</span><br><span class="line">m[<span class="string">&#x27;r1&#x27;</span>,]</span><br><span class="line">m[<span class="number">1</span>,] = <span class="built_in">c</span>(<span class="number">100</span>, <span class="number">99</span>, <span class="number">98</span>)</span><br><span class="line">m</span><br><span class="line">m[<span class="number">1</span>,] = <span class="number">100</span></span><br><span class="line">m</span><br><span class="line"><span class="comment">#     c1  c2  c3</span></span><br><span class="line"><span class="comment"># r1 100 100 100</span></span><br><span class="line"><span class="comment"># r2   4   5   6</span></span><br><span class="line"></span><br><span class="line">t(m) <span class="comment"># 矩阵转置</span></span><br><span class="line"><span class="comment">#     r1 r2</span></span><br><span class="line"><span class="comment"># c1 100  4</span></span><br><span class="line"><span class="comment"># c2 100  5</span></span><br><span class="line"><span class="comment"># c3 100  6</span></span><br></pre></td></tr></table></figure>
<h2 id="dataframe"><a class="markdownIt-Anchor" href="#dataframe">#</a> data.frame</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">student &lt;- data.frame(id=<span class="built_in">c</span>(<span class="number">1001</span>, <span class="number">1002</span>, <span class="number">1003</span>),</span><br><span class="line">                      name=<span class="built_in">c</span>(<span class="string">&quot;lily&quot;</span>, <span class="string">&quot;babb&quot;</span>, <span class="string">&quot;bob&quot;</span>),</span><br><span class="line">                      sex=<span class="built_in">c</span>(<span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;M&#x27;</span>))</span><br><span class="line">student</span><br><span class="line"></span><br><span class="line">student &lt;- data.frame(id=<span class="built_in">c</span>(<span class="number">1001</span>, <span class="number">1002</span>, <span class="number">1003</span>),</span><br><span class="line">                      name=<span class="built_in">c</span>(<span class="string">&quot;lily&quot;</span>, <span class="string">&quot;babb&quot;</span>, <span class="string">&quot;bob&quot;</span>),</span><br><span class="line">                      sex=<span class="built_in">c</span>(<span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;M&#x27;</span>), stringsAsFactors = <span class="built_in">T</span>)</span><br><span class="line">student</span><br><span class="line"><span class="comment">#     id name sex</span></span><br><span class="line"><span class="comment"># 1 1009 lily   F</span></span><br><span class="line"><span class="comment"># 2 1002 babb   M</span></span><br><span class="line"><span class="comment"># 3 1003  bob   M</span></span><br><span class="line"></span><br><span class="line">student[<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">student[<span class="number">1</span>,]</span><br><span class="line">student[,<span class="number">1</span>]</span><br><span class="line">a &lt;- student[, <span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">b &lt;- student[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">c &lt;- student$id</span><br><span class="line">typeof(a) <span class="comment"># double</span></span><br><span class="line">typeof(b) <span class="comment"># list</span></span><br><span class="line">typeof(<span class="built_in">c</span>) <span class="comment"># double</span></span><br><span class="line"><span class="built_in">class</span>(a) <span class="comment"># numeric</span></span><br><span class="line"><span class="built_in">class</span>(b) <span class="comment"># data.frame</span></span><br><span class="line"><span class="built_in">class</span>(<span class="built_in">c</span>) <span class="comment"># numeric</span></span><br><span class="line"></span><br><span class="line">student[<span class="built_in">c</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)]</span><br><span class="line">student[<span class="number">1</span>, <span class="number">1</span>] = <span class="number">100</span></span><br><span class="line">student</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vNumeric &lt;- <span class="built_in">c</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">vCharacter &lt;- <span class="built_in">c</span>(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)</span><br><span class="line">vLogical &lt;- <span class="built_in">c</span>(<span class="built_in">T</span>, <span class="built_in">F</span>, <span class="built_in">T</span>)</span><br><span class="line"></span><br><span class="line">dfa &lt;- cbind(vNumeric, vvCharacter, vLogical)</span><br><span class="line">dfa <span class="comment"># Matrix of one data type</span></span><br><span class="line"></span><br><span class="line">df &lt;- as.data.frame(bind(vNumeric, vvCharacter, vLogical))</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<h3 id="dataframe-example"><a class="markdownIt-Anchor" href="#dataframe-example">#</a> data.frame example</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&quot;readxl&quot;</span>)</span><br><span class="line"></span><br><span class="line">library(readxl)</span><br><span class="line"></span><br><span class="line">tm &lt;- read_excel(<span class="string">&quot;data/tianmaoTV.xlsx&quot;</span>, skip = <span class="number">1</span>)</span><br><span class="line">View(tm)  <span class="comment"># R is case sensitive, View not equal view</span></span><br><span class="line"></span><br><span class="line">tm[<span class="string">&#x27;total_sales&#x27;</span>] &lt;- tm$current_price * tm$month_sales_count</span><br><span class="line">tm[<span class="built_in">c</span>(<span class="string">&#x27;current_price&#x27;</span>, <span class="string">&#x27;month_sales_count&#x27;</span>, <span class="string">&#x27;total_sales&#x27;</span>)]</span><br><span class="line">tm$discount &lt;- tm$current_price / tm$original_price</span><br><span class="line"></span><br><span class="line">a &lt;- 1:<span class="number">10</span></span><br><span class="line">ifelse(a%%2==<span class="number">0</span>, <span class="string">&#x27;even&#x27;</span>, <span class="string">&#x27;old&#x27;</span>)</span><br><span class="line"></span><br><span class="line">tm[<span class="string">&#x27;price_class&#x27;</span>] &lt;- ifelse(tm$current_price &lt; <span class="number">1000</span>, <span class="string">&#x27;low&#x27;</span>,</span><br><span class="line">                            ifelse(tm$current_price &lt; <span class="number">2000</span>, <span class="string">&#x27;middle&#x27;</span>, <span class="string">&#x27;high&#x27;</span>))</span><br><span class="line">tm[<span class="built_in">c</span>(<span class="string">&#x27;price_class&#x27;</span>, <span class="string">&#x27;current_price&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># rename</span></span><br><span class="line"><span class="built_in">names</span>(tm)</span><br><span class="line"><span class="built_in">names</span>(tm)[<span class="number">1</span>] &lt;- <span class="string">&#x27;mingcheng&#x27;</span></span><br><span class="line"><span class="built_in">names</span>(tm)%in%<span class="string">&quot;weight&quot;</span></span><br><span class="line"><span class="built_in">names</span>(tm)[<span class="built_in">names</span>(tm)%in%<span class="string">&quot;weight&quot;</span>] &lt;- <span class="string">&quot;zhongliang&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># extract subset</span></span><br><span class="line">ntm &lt;- tm[, -<span class="built_in">c</span>(<span class="number">1</span>:<span class="number">3</span>)] <span class="comment"># exclude 1:3</span></span><br><span class="line">cols &lt;- <span class="built_in">c</span>(<span class="string">&quot;mingcheng&quot;</span>, <span class="string">&quot;description&quot;</span>, <span class="string">&quot;current_price&quot;</span>)</span><br><span class="line">logit &lt;- <span class="built_in">names</span>(tm)%in%cols</span><br><span class="line">ntm &lt;- tm[,!logit]</span><br><span class="line"></span><br><span class="line">tm[<span class="number">1</span>,]</span><br><span class="line">logit &lt;- tm$brand == <span class="string">&quot;Xiaomi/小米&quot;</span></span><br><span class="line">xm &lt;- tm[logit,]</span><br><span class="line">View(xm)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xm2 &lt;- subset(tm, brand==<span class="string">&quot;Xiaomi/小米&quot;</span>, <span class="built_in">c</span>(<span class="string">&quot;mingcheng&quot;</span>, <span class="string">&quot;description&quot;</span>, <span class="string">&quot;current_price&quot;</span>))</span><br><span class="line">View(xm2)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620888031089.png" class="">
<h2 id="plot"><a class="markdownIt-Anchor" href="#plot">#</a> plot</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">?plot</span><br><span class="line">?par</span><br><span class="line">?pch</span><br><span class="line"></span><br><span class="line">plot(mtcars$wt)</span><br><span class="line">plot(mtcars$wt, mtcars$disp)</span><br><span class="line">plot(mtcars)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620874821951.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type</span></span><br><span class="line">rm(mtcars)  <span class="comment"># Restore default R dataset after edits</span></span><br><span class="line">order(mtcars$wt)</span><br><span class="line">mtcars &lt;- mtcars[order(mtcars$wt), ]</span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;l&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;h&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;s&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type=<span class="string">&#x27;n&#x27;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620874908819.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">plot(mtcars$wt, mtcars$disp)</span><br><span class="line"><span class="comment"># pch (shape)</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, pch=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># cex (size)</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, pch=<span class="number">2</span>, cex = <span class="number">2</span>)</span><br><span class="line"><span class="comment"># lty (line type)</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, lty=<span class="number">3</span>)</span><br><span class="line"><span class="comment"># lwd (line width)</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, lty=<span class="number">3</span>, lwd = <span class="number">2</span>)</span><br><span class="line"><span class="comment"># col (color)</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, lty=<span class="number">3</span>, lwd = <span class="number">2</span>, col=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, lty=<span class="number">3</span>, lwd = <span class="number">2</span>, col=<span class="number">4</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, lty=<span class="number">3</span>, lwd = <span class="number">2</span>, col=<span class="string">&#x27;#0000FF&#x27;</span>)</span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, lty=<span class="number">3</span>, lwd = <span class="number">2</span>, col=rgb(red = <span class="number">0</span>, green = <span class="number">0</span>, blue=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620875126617.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># xlim, ylim</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, xlim = <span class="built_in">c</span>(<span class="number">3</span>, <span class="number">4</span>), ylim = <span class="built_in">c</span>(<span class="number">200</span>, <span class="number">300</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># main</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, main = <span class="string">&quot;wt&amp;disp&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sub</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, main = <span class="string">&quot;wt&amp;disp&quot;</span>, sub=<span class="string">&quot;2021/05/08&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># xlab, ylab</span></span><br><span class="line">plot(mtcars$wt, mtcars$disp, type = <span class="string">&#x27;l&#x27;</span>, xlab = <span class="string">&quot;wt&quot;</span>, ylab = <span class="string">&quot;disp&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620875217735.png" class="">
<h2 id="lines-points"><a class="markdownIt-Anchor" href="#lines-points">#</a> lines, points</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setwd(<span class="string">&quot;D:/study/r&quot;</span>)</span><br><span class="line"></span><br><span class="line">library(readxl)</span><br><span class="line">s &lt;- read_excel(<span class="string">&quot;data/stock.xlsx&quot;</span>)</span><br><span class="line">View(s)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620875566548.png" class="">...
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">plot(s$date, s$SH_closing_price, type=<span class="string">&quot;l&quot;</span>)</span><br><span class="line">abline(h=<span class="number">3000</span>, v=as.POSIXct(<span class="string">&#x27;2015-01-30&#x27;</span>), lty=<span class="number">4</span>, col=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line"><span class="comment"># 显示不完整，因为 lines 是基于 plot 绘制的, range 差异较大</span></span><br><span class="line">lines(s$date, s$SZ_closing_price, lty = <span class="number">2</span>)</span><br><span class="line"><span class="built_in">range</span>(s$SH_closing_price)</span><br><span class="line"><span class="comment"># [1] 1979.206 4611.744</span></span><br><span class="line"><span class="built_in">range</span>(s$SZ_closing_price)</span><br><span class="line"><span class="comment"># [1]  2649.28 12219.79</span></span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620875856551.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plot(s$date, s$SH_closing_price, type=<span class="string">&quot;l&quot;</span>, ylim=<span class="built_in">c</span>(<span class="number">1500</span>, <span class="number">13000</span>))</span><br><span class="line">abline(h=<span class="number">3000</span>, v=as.POSIXct(<span class="string">&#x27;2015-01-30&#x27;</span>), lty=<span class="number">4</span>, col=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">lines(s$date, s$SZ_closing_price, lty = <span class="number">2</span>, col=<span class="string">&quot;blue&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620876136850.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plot(s$SH_closing_price, s$investor_confidence_index, type=<span class="string">&#x27;l&#x27;</span>)</span><br><span class="line">order(<span class="built_in">c</span>(<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>)) <span class="comment"># [1] 3 2 1</span></span><br><span class="line"><span class="built_in">c</span>(<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>)[order(<span class="built_in">c</span>(<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>))] <span class="comment"># [1] 7 8 9</span></span><br><span class="line">s1 &lt;- s[order(s$SH_closing_price),]</span><br><span class="line">plot(s1$SH_closing_price, s1$investor_confidence_index, type=<span class="string">&#x27;l&#x27;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620876275618.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">s$class &lt;- ifelse(s$SH_closing_price &lt; <span class="number">3000</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">s[<span class="built_in">c</span>(<span class="string">&#x27;SH_closing_price&#x27;</span>, <span class="string">&#x27;class&#x27;</span>)]</span><br><span class="line"><span class="comment"># s1 &lt;- subset(s, class == 1)</span></span><br><span class="line"><span class="comment"># s2 &lt;- subset(s, class == 2)</span></span><br><span class="line"><span class="comment"># plot(s1$SH_closing_price, s1$investor_confidence_index,</span></span><br><span class="line"><span class="comment">#     pch = 16, col=&#x27;blue&#x27;, xlim= range(s$SH_closing_price), ylim = range(s$investor_confidence_index))</span></span><br><span class="line"><span class="comment"># points(s2$SH_closing_price, s2$investor_confidence_index, pch=17, col= &quot;green&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">c</span>(<span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;green&#x27;</span>)[<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>)]</span><br><span class="line"><span class="comment"># [1] &quot;blue&quot;  &quot;green&quot; &quot;blue&quot;  &quot;green&quot;</span></span><br><span class="line"></span><br><span class="line">plot(s$SH_closing_price, s$investor_confidence_index,</span><br><span class="line">     col=<span class="built_in">c</span>(<span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;green&#x27;</span>)[s$<span class="built_in">class</span>], pch=<span class="built_in">c</span>(<span class="number">16</span>, <span class="number">17</span>)[s$<span class="built_in">class</span>])</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620876366853.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matplot(s$date, s[, <span class="number">2</span>:<span class="number">4</span>], lty = <span class="number">1</span>:<span class="number">3</span>, type=<span class="string">&quot;l&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620876699689.png" class="">
<h2 id="biaxial"><a class="markdownIt-Anchor" href="#biaxial">#</a> biaxial</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">library(readxl)</span><br><span class="line">s &lt;- read_excel(<span class="string">&#x27;data/stock.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line">par()$mar</span><br><span class="line">par(mar=<span class="built_in">c</span>(<span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>)) <span class="comment"># adjust margin size</span></span><br><span class="line">plot(s$date, s$SH_closing_price, type=<span class="string">&quot;l&quot;</span>, xlab = <span class="string">&quot;time&quot;</span>, ylab=<span class="string">&quot;SH_closing_price&quot;</span>)</span><br><span class="line">par(new=<span class="built_in">T</span>)  <span class="comment"># second plot show at first plot</span></span><br><span class="line">plot(s$date, s$investor_confidence_index, type=<span class="string">&quot;l&quot;</span>, lty=<span class="number">2</span>, ann = <span class="built_in">F</span>, yaxt = <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">axis(side = <span class="number">4</span>)</span><br><span class="line">mtext(text = <span class="string">&quot;investor_confidence_index&quot;</span>, side=<span class="number">4</span>, line = <span class="number">2</span>)</span><br><span class="line">legend(<span class="string">&#x27;topright&#x27;</span>, legend = <span class="built_in">c</span>(<span class="string">&#x27;SH_closing_price&#x27;</span>, <span class="string">&#x27;investor_confidence_index&#x27;</span>), lty=<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">2</span>), bty=<span class="string">&#x27;n&#x27;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620883414966.png" class="">
<h2 id="histogram-density"><a class="markdownIt-Anchor" href="#histogram-density">#</a> histogram, density</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">library(readxl)</span><br><span class="line">d &lt;- read_excel(<span class="string">&quot;data/returndaily.xlsx&quot;</span>)</span><br><span class="line">View(d)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620883584792.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x &lt;- d$SH_return_daily</span><br><span class="line">y &lt;- hist(x)</span><br><span class="line">y &lt;- hist(x, breaks = <span class="number">100</span>)</span><br><span class="line">breaks &lt;- seq(<span class="built_in">min</span>(x), <span class="built_in">max</span>(x), length.out = <span class="number">101</span>)</span><br><span class="line">y &lt;- hist(x, breaks = breaks)  <span class="comment"># Frequency</span></span><br><span class="line">y &lt;- hist(x, breaks = breaks, freq = <span class="built_in">F</span>) <span class="comment"># Density</span></span><br><span class="line">y$breaks[<span class="number">2</span>]-y$breaks[<span class="number">1</span>]</span><br><span class="line">y$counts</span><br><span class="line">y$density</span><br><span class="line">y$density * (y$breaks[<span class="number">2</span>] - y$breaks[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">sum</span>(y$density * (y$breaks[<span class="number">2</span>] - y$breaks[<span class="number">1</span>])) <span class="comment"># 1</span></span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620883771451.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">z &lt;- density(x, bw = <span class="number">0.001</span>)</span><br><span class="line">plot(z)</span><br><span class="line">z$bw</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620883821504.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hist(x, breaks = breaks, freq = <span class="built_in">F</span>, col=<span class="string">&#x27;red&#x27;</span>, border=<span class="string">&quot;white&quot;</span>)</span><br><span class="line">lines(density(x, bw=<span class="number">0.001</span>), col=<span class="string">&quot;blue&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620883868599.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &lt;- rnorm(<span class="number">10000</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">hist(a, col=<span class="string">&#x27;red&#x27;</span>, freq=<span class="built_in">F</span>, breaks=<span class="number">100</span>, border=<span class="string">&quot;white&quot;</span>)</span><br><span class="line">lines(density(a, bw=<span class="number">0.5</span>), col=<span class="string">&quot;blue&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620883911215.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&quot;fBasics&quot;</span>)</span><br><span class="line">library(fBasics)</span><br><span class="line"></span><br><span class="line">Sys.setlocale(category = <span class="string">&quot;LC_ALL&quot;</span>,local=<span class="string">&quot;chinese&quot;</span>)</span><br><span class="line">describe &lt;- <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  m &lt;- mean(x)</span><br><span class="line">  v &lt;- var(x)</span><br><span class="line">  s &lt;- sd(x)</span><br><span class="line">  skew &lt;- skewness(x)</span><br><span class="line">  k &lt;- kurtosis(x)</span><br><span class="line">  jar &lt;- jarqueberaTest(x)</span><br><span class="line">  p &lt;- jar@test$p.value</span><br><span class="line">  <span class="built_in">return</span> (<span class="built_in">c</span>(<span class="string">&quot;均值&quot;</span> = m, <span class="string">&quot;方差&quot;</span> = v, <span class="string">&quot;标准差&quot;</span> = s, <span class="string">&quot;偏度&quot;</span> = skew, <span class="string">&quot;峰度&quot;</span> = k, <span class="string">&quot;P值&quot;</span> = p))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">describe(x)</span><br></pre></td></tr></table></figure>
<h2 id="color"><a class="markdownIt-Anchor" href="#color">#</a> color</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">colors() <span class="comment"># 657 colors</span></span><br><span class="line">a = <span class="number">1</span>:<span class="number">26</span></span><br><span class="line">b = <span class="number">1</span>:<span class="number">26</span></span><br><span class="line">d = merge(a, b)</span><br><span class="line">View(d)</span><br><span class="line"></span><br><span class="line">d = d[<span class="number">1</span>:<span class="number">657</span>, ]</span><br><span class="line">plot(d, col=colors(), cex=<span class="number">3</span>, pch=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:<span class="number">26</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">1</span>:<span class="number">26</span>) &#123;</span><br><span class="line">    text(i, j, labels = i + (j - <span class="number">1</span>) * <span class="number">26</span>, cex = <span class="number">0.5</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620884214287.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># color palette</span></span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">10</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">10</span>), col=rainbow(<span class="number">10</span>), cex=<span class="number">4</span>, pch=<span class="number">15</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">10</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">10</span>), col=rainbow(<span class="number">10</span>, alpha = <span class="number">0.5</span>), cex=<span class="number">4</span>, pch=<span class="number">15</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">10</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">10</span>), col=heat.colors(<span class="number">10</span>), cex=<span class="number">4</span>, pch=<span class="number">15</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">10</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">10</span>), col=terrain.colors(<span class="number">10</span>), cex=<span class="number">4</span>, pch=<span class="number">15</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">10</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">10</span>), col=topo.colors(<span class="number">10</span>), cex=<span class="number">4</span>, pch=<span class="number">15</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">10</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">10</span>), col=cm.colors(<span class="number">10</span>), cex=<span class="number">4</span>, pch=<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620884412664.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># color extension</span></span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">cols &lt;- colorRampPalette(<span class="built_in">c</span>(<span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;red&quot;</span>))(<span class="number">50</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">50</span>, col=cols, pch=<span class="number">16</span>, cex = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">mtcars &lt;- mtcars[order(mtcars$wt),]</span><br><span class="line">plot(mtcars$wt, mtcars$disp, col=cols, pch=<span class="number">16</span>, cex = <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620884492368.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># color schema</span></span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># install.packages(&quot;RColorBrewer&quot;)</span></span><br><span class="line">library(RColorBrewer)</span><br><span class="line">display.brewer.all()</span><br><span class="line">cols &lt;- brewer.pal(<span class="number">8</span>, <span class="string">&quot;Accent&quot;</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">8</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">8</span>), col = cols, pch=<span class="number">16</span>, cex=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># install.packages(&quot;colorspace&quot;)</span></span><br><span class="line">library(colorspace)</span><br><span class="line"><span class="comment"># hcl_palettes(plot = T)</span></span><br><span class="line">cols &lt;- qualitative_hcl(<span class="number">8</span>, <span class="string">&quot;Dynamic&quot;</span>)</span><br><span class="line">plot(<span class="number">1</span>:<span class="number">8</span>, <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">8</span>), col = cols, pch=<span class="number">16</span>, cex=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620884817943.png" class="">
<h2 id="bar-pie-box"><a class="markdownIt-Anchor" href="#bar-pie-box">#</a> bar, pie, box</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">barplot(<span class="number">1</span>:<span class="number">5</span>)</span><br><span class="line">X &lt;- table(mtcars$gear)</span><br><span class="line">X</span><br><span class="line"><span class="comment">#  3  4  5</span></span><br><span class="line"><span class="comment"># 15 12  5</span></span><br><span class="line">barplot(X)</span><br><span class="line">barplot(X, names.arg = <span class="built_in">c</span>(<span class="string">&quot;gear-3&quot;</span>, <span class="string">&quot;gear-4&quot;</span>, <span class="string">&quot;gear-5&quot;</span>), ylim=<span class="built_in">c</span>(<span class="number">0</span>,<span class="number">20</span>))</span><br><span class="line">barplot(X, names.arg = <span class="built_in">c</span>(<span class="string">&quot;gear-3&quot;</span>, <span class="string">&quot;gear-4&quot;</span>, <span class="string">&quot;gear-5&quot;</span>), ylim=<span class="built_in">c</span>(<span class="number">0</span>,<span class="number">20</span>), width = <span class="built_in">c</span>(<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620885153011.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">X &lt;- table(mtcars[<span class="built_in">c</span>(<span class="string">&quot;vs&quot;</span>, <span class="string">&quot;gear&quot;</span>)])</span><br><span class="line">X</span><br><span class="line"><span class="comment">#    gear</span></span><br><span class="line"><span class="comment">#  vs  3  4  5</span></span><br><span class="line"><span class="comment">#   0 12  2  4</span></span><br><span class="line"><span class="comment">#   1  3 10  1</span></span><br><span class="line">barplot(X)</span><br><span class="line">barplot(X, beside = <span class="built_in">T</span>, col = <span class="built_in">c</span>(<span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;red&quot;</span>), legend.text = <span class="built_in">c</span>(<span class="string">&quot;VS-0&quot;</span>, <span class="string">&quot;VS-1&quot;</span>))</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620885375086.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">red &lt;- grep(<span class="string">&quot;red&quot;</span>, colors(), value=<span class="built_in">T</span>, ignore.case = <span class="built_in">T</span>)</span><br><span class="line">red</span><br><span class="line">barplot(<span class="built_in">rep</span>(<span class="number">1</span>, <span class="built_in">length</span>(red)), col=red, names.arg = red,</span><br><span class="line">        horiz = <span class="built_in">T</span>, las=<span class="number">1</span>, cex.names = <span class="number">0.5</span>, xaxt=<span class="string">&quot;n&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620885472964.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">a = <span class="number">1</span>:<span class="number">4</span></span><br><span class="line">pie(a)</span><br><span class="line">pie(a, labels = <span class="built_in">LETTERS</span>[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"><span class="built_in">names</span>(a) = <span class="built_in">LETTERS</span>[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">pie(a)</span><br><span class="line">pie(a, clockwise = <span class="built_in">T</span>, col = <span class="built_in">c</span>(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;yellow&quot;</span>), border = <span class="string">&quot;white&quot;</span>)</span><br><span class="line">pie(a, clockwise = <span class="built_in">T</span>, col = terrain.colors(<span class="number">4</span>), border = <span class="string">&quot;white&quot;</span>)</span><br><span class="line">pie(rev(a), clockwise = <span class="built_in">T</span>, col = rev(terrain.colors(<span class="number">4</span>)), border = <span class="string">&quot;white&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620885544619.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># boxplot</span></span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">r &lt;- rnorm(<span class="number">50</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">b &lt;- <span class="built_in">c</span>(r, <span class="number">5</span>, <span class="number">6</span>, -<span class="number">5</span>, -<span class="number">6</span>)</span><br><span class="line">y &lt;- boxplot(b)</span><br><span class="line">y</span><br><span class="line">y$stats</span><br><span class="line">y$out</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r2 &lt;- <span class="built_in">c</span>(rnorm(<span class="number">50</span>, <span class="number">0</span>, <span class="number">1</span>), rnorm(<span class="number">50</span>, <span class="number">10</span>, <span class="number">1</span>))</span><br><span class="line">r3 &lt;- <span class="built_in">c</span>(<span class="built_in">rep</span>(<span class="built_in">c</span>(<span class="string">&quot;class1&quot;</span>, <span class="string">&quot;class2&quot;</span>), times=<span class="built_in">c</span>(<span class="number">50</span>, <span class="number">50</span>)))</span><br><span class="line">rd &lt;- data.frame(r2, r3)</span><br><span class="line">View(rd)</span><br><span class="line">boxplot(r2~r3, data=rd)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620885757764.png" class="">
<h2 id="pairs-cor-smoothscatter-curve"><a class="markdownIt-Anchor" href="#pairs-cor-smoothscatter-curve">#</a> pairs, cor, smoothScatter, curve</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mdata &lt;- mtcars[<span class="built_in">c</span>(<span class="string">&#x27;mpg&#x27;</span>, <span class="string">&#x27;disp&#x27;</span>, <span class="string">&#x27;hp&#x27;</span>, <span class="string">&#x27;drat&#x27;</span>,<span class="string">&#x27;wt&#x27;</span>)]</span><br><span class="line">mdata</span><br><span class="line">pairs(mdata, col=<span class="string">&quot;blue&quot;</span>, pch=<span class="number">16</span>)</span><br><span class="line"><span class="comment"># pairs(mdata, col=&quot;blue&quot;, pch=16, upper.panel = NULL)</span></span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886169030.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">panelfunc &lt;- <span class="keyword">function</span>(x, y) &#123;</span><br><span class="line">  points(x, y, col=<span class="string">&quot;blue&quot;</span>)</span><br><span class="line">  abline(lm(y~x), col=<span class="string">&quot;green&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">pairs(mdata, panel = panelfunc, upper.panel = <span class="literal">NULL</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886265085.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&quot;car&quot;</span>)</span><br><span class="line">library(car)</span><br><span class="line">spm(mdata)</span><br><span class="line"><span class="comment"># diagnoal daɪˈæɡənl: 对角线</span></span><br><span class="line">spm(mdata, smooth=<span class="built_in">F</span>, diagonal=<span class="built_in">list</span>(method=<span class="string">&quot;histogram&quot;</span>))</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886317375.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 相关系数</span></span><br><span class="line">corr1 &lt;- cor(mdata)</span><br><span class="line">cor(mdata, method = <span class="string">&quot;spearman&quot;</span>)</span><br><span class="line">cor(mdata, method = <span class="string">&quot;kendall&quot;</span>)</span><br><span class="line"></span><br><span class="line">install.packages(<span class="string">&quot;ggcorrplot&quot;</span>)</span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">library(ggcorrplot)</span><br><span class="line">ggcorrplot(corr1)</span><br><span class="line">ggcorrplot(corr1, lab = <span class="built_in">T</span>)</span><br><span class="line">ggcorrplot(corr1, lab = <span class="built_in">T</span>, hc.order = <span class="built_in">T</span>)</span><br><span class="line">ggcorrplot(corr1, lab = <span class="built_in">T</span>, hc.order = <span class="built_in">T</span>, type = <span class="string">&quot;lower&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886476133.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 散点密度热图</span></span><br><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">a &lt;- rnorm(<span class="number">5000</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">b &lt;- rnorm(<span class="number">5000</span>, <span class="number">0</span>, <span class="number">3</span>)</span><br><span class="line">smoothScatter(a, b)</span><br><span class="line">smoothScatter(a, b, nrpoints = <span class="number">4</span>)</span><br><span class="line">smoothScatter(a, b, nrpoints = <span class="literal">Inf</span>)</span><br><span class="line">plot(a, b, col = densCols(a, b))</span><br><span class="line">plot(a, b, col = densCols(a, b, colramp = colorRampPalette(<span class="built_in">c</span>(<span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;red&quot;</span>))))</span><br><span class="line">plot(a, b, col = densCols(a, b, colramp = colorRampPalette(<span class="built_in">c</span>(<span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;red&quot;</span>))),</span><br><span class="line">     pch=<span class="number">20</span>, cex=<span class="number">1.5</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886599671.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数图像</span></span><br><span class="line">curve(<span class="built_in">log</span>(x) + <span class="built_in">sqrt</span>(x) + x^<span class="number">2</span>, from = <span class="number">1</span>, to=<span class="number">100</span>, n = <span class="number">1000</span>,</span><br><span class="line">      main=<span class="built_in">expression</span>(<span class="built_in">log</span>(x) + <span class="built_in">sqrt</span>(x) + x^<span class="number">2</span>), ylab = <span class="string">&quot;y&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886690964.png" class="">
<h2 id="symbols"><a class="markdownIt-Anchor" href="#symbols">#</a> symbols</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">symbols(mtcars$disp, mtcars$wt, circles = mtcars$mpg)</span><br><span class="line">symbols(mtcars$disp, mtcars$wt, squares = mtcars$mpg)</span><br><span class="line">symbols(mtcars$disp, mtcars$wt, circles = mtcars$mpg, inches = <span class="built_in">F</span>)</span><br><span class="line">symbols(mtcars$disp, mtcars$wt, circles = <span class="built_in">sqrt</span>(mtcars$mpg), inches = <span class="number">0.3</span>,</span><br><span class="line">        bg=<span class="string">&quot;red&quot;</span>, fg=<span class="string">&quot;green&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620886986943.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">n &lt;- nrow(mtcars)</span><br><span class="line">heatcols &lt;- heat.colors(n + <span class="number">2</span>, alpha = <span class="number">0.6</span>)</span><br><span class="line">barplot(<span class="built_in">rep</span>(<span class="number">1</span>, n), col = heatcols)</span><br><span class="line">mtcars &lt;- mtcars[order(mtcars$mpg, decreasing = <span class="built_in">T</span>),]</span><br><span class="line">symbols(mtcars$disp, mtcars$wt, circles = <span class="built_in">sqrt</span>(mtcars$mpg), inches = <span class="number">0.3</span>,</span><br><span class="line">        bg=heatcols, fg=heatcols)</span><br><span class="line"></span><br><span class="line">mdisp &lt;- mean(mtcars$disp)</span><br><span class="line">mwt &lt;- mean(mtcars$wt)</span><br><span class="line">abline(v=mdisp, h=mwt, col=<span class="string">&quot;grey&quot;</span>, lty=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620887124139.png" class="">
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mtcars[<span class="string">&quot;disp_wt_class&quot;</span>] &lt;- ifelse(</span><br><span class="line">  mtcars$disp&gt;mdisp&amp;mtcars$wt&gt;mwt, <span class="number">1</span>,</span><br><span class="line">  ifelse(mtcars$disp&lt;mdisp&amp;mtcars$wt&gt;mwt, <span class="number">2</span>,</span><br><span class="line">    ifelse(mtcars$disp&lt;mdisp&amp;mtcars$wt&lt;mwt, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line">mtcars[<span class="string">&quot;disp_wt_class&quot;</span>]</span><br><span class="line">library(RColorBrewer)</span><br><span class="line">display.brewer.all()</span><br><span class="line">piyg &lt;- brewer.pal(<span class="number">5</span>, <span class="string">&quot;PiYG&quot;</span>)</span><br><span class="line">piyg</span><br><span class="line">barplot(<span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">5</span>), col = piyg, names.arg = <span class="number">1</span>:<span class="number">5</span>)</span><br><span class="line">col1 &lt;- piyg[<span class="number">1</span>]</span><br><span class="line">col2 &lt;- piyg[<span class="number">2</span>]</span><br><span class="line">col3 &lt;- piyg[<span class="number">5</span>]</span><br><span class="line">col4 &lt;- piyg[<span class="number">4</span>]</span><br><span class="line">symbols(mtcars$disp, mtcars$wt, circles = <span class="built_in">sqrt</span>(mtcars$mpg), inches = <span class="number">0.3</span>,</span><br><span class="line">        bg=<span class="built_in">c</span>(col1, col2, col3, col4)[mtcars$disp_wt_class], fg=<span class="string">&quot;white&quot;</span>)</span><br><span class="line">abline(v=mdisp, h=mwt, col=<span class="string">&quot;grey&quot;</span>, lty=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620887196784.png" class="">
<h2 id="wordcloud"><a class="markdownIt-Anchor" href="#wordcloud">#</a> wordcloud</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install.packages(&quot;jiebaR&quot;)</span></span><br><span class="line">library(jiebaR)</span><br><span class="line">mixseg &lt;- worker(stop_word = <span class="string">&quot;data/chiese_stop_word.txt&quot;</span>)</span><br><span class="line">segment(<span class="string">&quot;我想吃饭&quot;</span>, mixseg)</span><br><span class="line"><span class="comment"># [1] &quot;想&quot;   &quot;吃饭&quot;</span></span><br><span class="line"></span><br><span class="line">library(readxl)</span><br><span class="line">tm &lt;- read_excel(<span class="string">&quot;data/tianmaoTV.xlsx&quot;</span>, skip=<span class="number">1</span>)</span><br><span class="line">tm_word &lt;- segment(tm$name, mixseg)</span><br><span class="line">tm_word</span><br><span class="line">mixseg &lt;- worker(stop_word = <span class="string">&quot;data/chiese_stop_word.txt&quot;</span>)</span><br><span class="line">tm_word &lt;- segment(tm$name, mixseg)</span><br><span class="line"><span class="string">&quot;吋&quot;</span>%in%tm_word</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;超高清&quot;</span>%in%tm_word</span><br><span class="line">show_dictpath()</span><br><span class="line">edit_dict()</span><br><span class="line">mixseg &lt;- worker(stop_word = <span class="string">&quot;data/chiese_stop_word.txt&quot;</span>)</span><br><span class="line">tm_word &lt;- segment(tm$name, mixseg)</span><br><span class="line"><span class="string">&quot;超高清&quot;</span>%in%tm_word</span><br><span class="line"></span><br><span class="line">gsub(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;abcA&#x27;</span>)</span><br><span class="line">gsub(<span class="string">&#x27;\\d&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;1234abc567&#x27;</span>)</span><br><span class="line">tm_name &lt;- gsub(<span class="string">&quot;\\d&quot;</span>, <span class="string">&quot;&quot;</span>, tm$name) <span class="comment"># replace number to empty</span></span><br><span class="line">tm_word &lt;- segment(tm_name, mixseg)</span><br><span class="line">tm_word</span><br><span class="line"></span><br><span class="line">tm_freq = table(tm_word)</span><br><span class="line">tm_freq = sort(tm_freq, decreasing = <span class="built_in">T</span>)</span><br><span class="line"><span class="comment"># install.packages(&quot;wordcloud2&quot;)</span></span><br><span class="line">library(wordcloud2)</span><br><span class="line">wordcloud2(tm_freq)</span><br><span class="line">tm_freq = <span class="built_in">sqrt</span>(tm_freq)</span><br><span class="line">wordcloud2(tm_freq)</span><br><span class="line">wordcloud2(tm_freq, size=<span class="number">0.6</span>)</span><br><span class="line">tm_freq &lt;- tm_freq[tm_freq &gt; <span class="number">3</span>]</span><br><span class="line">tm_freq</span><br><span class="line">wordcloud2(tm_freq)</span><br><span class="line">wordcloud2(tm_freq, size=<span class="number">0.6</span>, color = <span class="string">&quot;random-light&quot;</span>, fontWeight = <span class="string">&quot;bold&quot;</span>)</span><br><span class="line"></span><br><span class="line">library(RColorBrewer)</span><br><span class="line">display.brewer.all()</span><br><span class="line">cols &lt;- brewer.pal(<span class="number">11</span>, <span class="string">&quot;Set3&quot;</span>)</span><br><span class="line">cols_ramp &lt;- colorRampPalette(cols)(<span class="built_in">length</span>(tm_freq))</span><br><span class="line">wordcloud2(tm_freq, size=<span class="number">0.6</span>, color = cols_ramp, fontWeight = <span class="string">&quot;bold&quot;</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620887567176.png" class="">
<h2 id="comprehensive-case"><a class="markdownIt-Anchor" href="#comprehensive-case">#</a> comprehensive case</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">library(readxl)</span><br><span class="line">tm &lt;- read_excel(<span class="string">&quot;data/tianmaoTV.xlsx&quot;</span>, skip=<span class="number">1</span>)</span><br><span class="line">typeof(tm[<span class="string">&quot;current_price&quot;</span>])</span><br><span class="line">typeof(tm$current_price)</span><br><span class="line">price_brands = aggregate(tm[<span class="string">&quot;current_price&quot;</span>], by=<span class="built_in">list</span>(brand=tm$brand), mean)</span><br><span class="line">price_brands$current_price</span><br><span class="line">price_brands &lt;- price_brands[order(price_brands$current_price, decreasing = <span class="built_in">T</span>), ][<span class="number">1</span>:<span class="number">10</span>,]</span><br><span class="line">price_brands</span><br><span class="line">price_brands$brand</span><br><span class="line">china &lt;- <span class="built_in">c</span>(<span class="string">&quot;AOC&quot;</span>, <span class="string">&quot;Hisense/海信&quot;</span>, <span class="string">&quot;乐视TV&quot;</span>, <span class="string">&quot;Skyworth/创维&quot;</span>, <span class="string">&quot;Haier/海尔&quot;</span>)</span><br><span class="line">price_brands$china &lt;- ifelse(price_brands$brand%in%china, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">price_brands</span><br><span class="line">par()$mar</span><br><span class="line">par(mar=<span class="built_in">c</span>(<span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">price_brands &lt;- price_brands[order(price_brands$current_price),]</span><br><span class="line">x &lt;- barplot(price_brands$current_price, names.arg = price_brands$brand,</span><br><span class="line">        horiz = <span class="built_in">T</span>, las=<span class="number">1</span>,</span><br><span class="line">        cex.names = <span class="number">0.6</span>,</span><br><span class="line">        border = <span class="literal">NA</span>,</span><br><span class="line">        col = <span class="string">&quot;grey&quot;</span>,</span><br><span class="line">        axes = <span class="built_in">F</span>,</span><br><span class="line">        xlim = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">10000</span>))</span><br><span class="line">china_price_vector &lt;- price_brands$current_price * price_brands$china</span><br><span class="line">china_price_vector</span><br><span class="line">barplot(china_price_vector, names.arg = <span class="built_in">F</span>,</span><br><span class="line">        horiz = <span class="built_in">T</span>, las=<span class="number">1</span>,</span><br><span class="line">        border = <span class="literal">NA</span>,</span><br><span class="line">        col = <span class="string">&quot;orange1&quot;</span>,</span><br><span class="line">        axes = <span class="built_in">F</span>,</span><br><span class="line">        add = <span class="built_in">T</span>)</span><br><span class="line">axis(side = <span class="number">1</span>, at = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">2000</span>, <span class="number">4000</span>, <span class="number">6000</span>, <span class="number">8000</span>, <span class="number">10000</span>),</span><br><span class="line">     labels = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="string">&#x27;10(千元)&#x27;</span>),</span><br><span class="line">     tick = <span class="built_in">F</span>, cex.axis = <span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">rect(<span class="number">0</span>, -<span class="number">0.5</span>, <span class="number">5000</span>, x[<span class="number">10</span>] + x[<span class="number">1</span>], col = rgb(<span class="number">191</span>, <span class="number">239</span>, <span class="number">255</span>, <span class="number">80</span>, maxColorValue = <span class="number">255</span>), border = <span class="literal">NA</span>)</span><br><span class="line">rect(<span class="number">5000</span>, -<span class="number">0.5</span>, <span class="number">10000</span>, x[<span class="number">10</span>] + x[<span class="number">1</span>], col = rgb(<span class="number">191</span>, <span class="number">239</span>, <span class="number">255</span>, <span class="number">110</span>, maxColorValue = <span class="number">255</span>), border = <span class="literal">NA</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2021/05/13/r-tutorial/1620887873765.png" class="">
<h2 id="connect-oracle"><a class="markdownIt-Anchor" href="#connect-oracle">#</a> connect Oracle</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&quot;RJDBC&quot;</span>)</span><br><span class="line"></span><br><span class="line">Sys.setenv(JAVA_HOME=<span class="string">&#x27;C:\\Program Files\\Java\\jdk1.8.0_181\\jre&#x27;</span>)</span><br><span class="line"></span><br><span class="line">library(RJDBC)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tell R where your JDBC driver is located</span></span><br><span class="line">driver &lt;- JDBC(<span class="string">&quot;oracle.jdbc.driver.OracleDriver&quot;</span>, <span class="string">&quot;D:/maven/mavenlocal/com/oracle/ojdbc14/11.2.0/ojdbc14-11.2.0.jar&quot;</span>, identifier.quote=<span class="string">&quot;`&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make a connection using your JDBC driver and connection URL</span></span><br><span class="line">conn &lt;- dbConnect(driver, <span class="string">&quot;jdbc:oracle:thin:@//ip:port/instance&quot;</span>, <span class="string">&quot;username&quot;</span>, <span class="string">&quot;password&quot;</span>)</span><br><span class="line">conn</span><br><span class="line"></span><br><span class="line"><span class="comment"># options(java.parameters = &quot;-Xmx800m&quot;)</span></span><br><span class="line"></span><br><span class="line">data &lt;- dbGetQuery(conn, <span class="string">&quot;SELECT * FROM som_edi_temp_d&quot;</span>)</span><br><span class="line">data &lt;- subset(data, EDI_TYPE==<span class="string">&#x27;850&#x27;</span>, <span class="built_in">c</span>(<span class="string">&#x27;CUSTOMER_ID&#x27;</span>, <span class="string">&#x27;ORDERED_QUANTITY&#x27;</span>, <span class="string">&#x27;UNIT_SELLING_PRICE&#x27;</span>))</span><br><span class="line">data$TOTAL_PRICE &lt;- data$ORDERED_QUANTITY * data$UNIT_SELLING_PRICE</span><br><span class="line">data = aggregate(data[<span class="string">&quot;TOTAL_PRICE&quot;</span>], by=data[<span class="string">&quot;CUSTOMER_ID&quot;</span>], <span class="built_in">sum</span>)</span><br><span class="line"></span><br><span class="line">par()$mar</span><br><span class="line">par(mar=<span class="built_in">c</span>(<span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">barplot(data$TOTAL_PRICE, names.arg = data$CUSTOMER_ID, axes=<span class="built_in">F</span>, ylim = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">2000000000</span>))</span><br><span class="line">axis(side = <span class="number">2</span>, at = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">500000000</span>, <span class="number">1000000000</span>, <span class="number">1500000000</span>, <span class="number">2000000000</span>),</span><br><span class="line">     labels = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="string">&#x27;20(亿)&#x27;</span>))</span><br></pre></td></tr></table></figure>

      <div class="tags">
          <a href="/tags/r/" rel="tag"><i class="ic i-tag"></i> r</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2021-10-18 13:27:19" itemprop="dateModified" datetime="2021-10-18T13:27:19+08:00">2021-10-18</time>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2021/05/12/r-subset/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclg5ms2rj20zk0m8u0x.jpg" title="Subset Data Frame Rows in R">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Subset Data Frame Rows in R</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2021/05/16/excerpt-anime/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciub8ja1j20zk0m81ky.jpg" title="动漫摘抄">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> excerpt</span>
  <h3>动漫摘抄</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#basic-operation"><span class="toc-number">1.</span> <span class="toc-text"> basic operation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#create-read-list-remove-object"><span class="toc-number">1.1.</span> <span class="toc-text"> create, read, list, remove object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getwd-setwd"><span class="toc-number">1.2.</span> <span class="toc-text"> getwd, setwd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package"><span class="toc-number">1.3.</span> <span class="toc-text"> package</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#help"><span class="toc-number">1.4.</span> <span class="toc-text"> help</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vector"><span class="toc-number">2.</span> <span class="toc-text"> vector</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#matrix"><span class="toc-number">3.</span> <span class="toc-text"> matrix</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dataframe"><span class="toc-number">4.</span> <span class="toc-text"> data.frame</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dataframe-example"><span class="toc-number">4.1.</span> <span class="toc-text"> data.frame example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#plot"><span class="toc-number">5.</span> <span class="toc-text"> plot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lines-points"><span class="toc-number">6.</span> <span class="toc-text"> lines, points</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#biaxial"><span class="toc-number">7.</span> <span class="toc-text"> biaxial</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#histogram-density"><span class="toc-number">8.</span> <span class="toc-text"> histogram, density</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#color"><span class="toc-number">9.</span> <span class="toc-text"> color</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bar-pie-box"><span class="toc-number">10.</span> <span class="toc-text"> bar, pie, box</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pairs-cor-smoothscatter-curve"><span class="toc-number">11.</span> <span class="toc-text"> pairs, cor, smoothScatter, curve</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#symbols"><span class="toc-number">12.</span> <span class="toc-text"> symbols</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wordcloud"><span class="toc-number">13.</span> <span class="toc-text"> wordcloud</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#comprehensive-case"><span class="toc-number">14.</span> <span class="toc-text"> comprehensive case</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#connect-oracle"><span class="toc-number">15.</span> <span class="toc-text"> connect Oracle</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
        <ul>
          <li><a href="/2019/06/06/bat/" rel="bookmark" title="Window Bat">Window Bat</a></li><li><a href="/2019/06/06/oracle/" rel="bookmark" title="Oracle">Oracle</a></li><li><a href="/2019/06/06/python/" rel="bookmark" title="Python">Python</a></li><li><a href="/2019/10/12/linux-vim/" rel="bookmark" title="Vim">Vim</a></li><li><a href="/2020/09/01/sql-advance/" rel="bookmark" title="SQL Advance">SQL Advance</a></li><li><a href="/2021/01/01/a-resource/" rel="bookmark" title="Resources">Resources</a></li><li><a href="/2021/04/06/japanese/" rel="bookmark" title="Japanese">Japanese</a></li><li><a href="/2021/04/25/excel/" rel="bookmark" title="Excel Basic">Excel Basic</a></li><li><a href="/2021/05/06/edi-flow/" rel="bookmark" title="EDI Flow">EDI Flow</a></li><li class="active"><a href="/2021/05/13/r-tutorial/" rel="bookmark" title="R tutorial">R tutorial</a></li><li><a href="/2021/07/10/rust-for-node/" rel="bookmark" title="Deep Dive into Rust for Node.js Developers">Deep Dive into Rust for Node.js Developers</a></li><li><a href="/2021/07/20/python-daily-tool/" rel="bookmark" title="Daily Tool">Daily Tool</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="江边鸟"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">江边鸟</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">286</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">2</span>
        <span class="name">categories</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">40</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xoY2hlbjc0" title="https:&#x2F;&#x2F;github.com&#x2F;lhchen74"><i class="ic i-github"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item about" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2xoY2hlbjc0" title="https:&#x2F;&#x2F;codepen.io&#x2F;lhchen74"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>About</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>Friends</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2021/05/12/r-subset/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2021/05/16/excerpt-anime/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2022</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">江边鸟 @ D E W</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2021/05/13/r-tutorial/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
