



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="露の世" href="https://lhchen74.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="露の世" href="https://lhchen74.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="露の世" href="https://lhchen74.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CFira%20Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="java,json" />


<link rel="canonical" href="https://lhchen74.github.io/2025/07/29/java-jackson/">



  <title>
Jackson Annotation Examples |
D E W = 露の世</title>
<meta name="generator" content="Hexo 5.4.2"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Jackson Annotation Examples
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2025-07-29 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2025-07-29T00:00:00+08:00">2025-07-29</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">D E W</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="/anime/index/怪医黑杰克.jpg"></li>
          <li class="item" data-background-image="/anime/index/侧耳倾听-2.jpg"></li>
          <li class="item" data-background-image="/anime/index/轻音少女.jpg"></li>
          <li class="item" data-background-image="/anime/index/我的英雄学院.jpg"></li>
          <li class="item" data-background-image="/anime/index/宝石之国.jpg"></li>
          <li class="item" data-background-image="/anime/index/一周的朋友.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://lhchen74.github.io/2025/07/29/java-jackson/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="江边鸟">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="露の世">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <blockquote>
<p>repost: <span class="exturl" data-url="aHR0cHM6Ly93d3cuYmFlbGR1bmcuY29tL2phY2tzb24tYW5ub3RhdGlvbnM=">Jackson Annotation Examples</span></p>
</blockquote>
<h2 id="1-overview"><a class="markdownIt-Anchor" href="#1-overview">#</a> 1. Overview</h2>
<p>In this tutorial, we’ll do a deep dive into <strong>Jackson Annotations</strong>.</p>
<p>We’ll see how to use the existing annotations, how to create custom ones, and finally, how to disable them.</p>
<h2 id="2-jackson-serialization-annotations"><a class="markdownIt-Anchor" href="#2-jackson-serialization-annotations">#</a> 2. Jackson Serialization Annotations</h2>
<p>First, we’ll take a look at the serialization annotations.</p>
<h3 id="21-jsonanygetter"><a class="markdownIt-Anchor" href="#21-jsonanygetter">#</a> 2.1. @JsonAnyGetter</h3>
<p>The <em>@JsonAnyGetter</em> annotation allows for the flexibility of using a <em>Map</em> field as standard properties.</p>
<p>For example, the <em>ExtendableBean</em> entity has the <em>name</em> property and a set of extendable attributes in the form of key/value pairs:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtendableBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; properties;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonAnyGetter</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">getProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> properties;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>When we serialize an instance of this entity, we get all the key-values in the <em>Map</em> as standard, plain properties:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;My bean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;attr2&quot;</span>:<span class="string">&quot;val2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;attr1&quot;</span>:<span class="string">&quot;val1&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s how the serialization of this entity looks in practice:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonAnyGetter_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    ExtendableBean bean = <span class="keyword">new</span> ExtendableBean(<span class="string">&quot;My bean&quot;</span>);</span><br><span class="line">    bean.add(<span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;val1&quot;</span>);</span><br><span class="line">    bean.add(<span class="string">&quot;attr2&quot;</span>, <span class="string">&quot;val2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;attr1&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;val1&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can also use the optional argument <em>enabled</em> as <em>false</em> to disable <em>@JsonAnyGetter().</em> In this case, the <em>Map</em> will be converted as JSON and will appear under the <em>properties</em> variable after serialization.</p>
<h3 id="22-jsongetter"><a class="markdownIt-Anchor" href="#22-jsongetter">#</a> 2.2. @JsonGetter</h3>
<p><strong>The @JsonGetter annotation is an alternative to the @JsonProperty annotation, which marks a method as a getter method.</strong></p>
<p>In the following example, we specify the method <em>getTheName()</em> as the getter method of the <em>name</em> property of a <em>MyBean</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonGetter(&quot;name&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getTheName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s how this works in practice:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonGetter_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    MyBean bean = <span class="keyword">new</span> MyBean(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="23-jsonpropertyorder"><a class="markdownIt-Anchor" href="#23-jsonpropertyorder">#</a> 2.3. @JsonPropertyOrder</h3>
<p>We can use the <em>@JsonPropertyOrder</em> annotation to specify <strong>the order of properties on serialization</strong>.</p>
<p>Let’s set a custom order for the properties of a <em>MyBean</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonPropertyOrder(&#123; &quot;name&quot;, &quot;id&quot; &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s the output of serialization:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;My bean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;id&quot;</span>:1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then we can do a simple test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonPropertyOrder_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    MyBean bean = <span class="keyword">new</span> MyBean(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can also use <em>@JsonPropertyOrder(alphabetic=true)</em> to order the properties alphabetically. In that case, the output of serialization will be:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>:1,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;My bean&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="24-jsonrawvalue"><a class="markdownIt-Anchor" href="#24-jsonrawvalue">#</a> 2.4. @JsonRawValue</h3>
<p>The <em>@JsonRawValue</em> annotation can <strong>instruct Jackson to serialize a property exactly as is</strong>.</p>
<p>In the following example, we use <em>@JsonRawValue</em> to embed some custom JSON as a value of an entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RawBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonRawValue</span></span><br><span class="line">    <span class="keyword">public</span> String json;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The output of serializing the entity is:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;My bean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;json&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;attr&quot;</span>:<span class="keyword">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Next, here’s a simple test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonRawValue_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    RawBean bean = <span class="keyword">new</span> RawBean(<span class="string">&quot;My bean&quot;</span>, <span class="string">&quot;&#123;\&quot;attr\&quot;:false&#125;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;&#123;\&quot;attr\&quot;:false&#125;&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can also use the optional boolean argument <em>value</em> that defines whether this annotation is active or not.</p>
<h3 id="25-jsonvalue"><a class="markdownIt-Anchor" href="#25-jsonvalue">#</a> 2.5. @JsonValue</h3>
<p><em>@JsonValue</em> indicates a single method the library will use to serialize the entire instance.</p>
<p>For example, in an enum, we annotate the <em>getName</em> with <em>@JsonValue</em> so that any such entity is serialized via its name:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">TypeEnumWithValue</span> </span>&#123;</span><br><span class="line">    TYPE1(<span class="number">1</span>, <span class="string">&quot;Type A&quot;</span>), TYPE2(<span class="number">2</span>, <span class="string">&quot;Type 2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// standard constructors</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonValue</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now here’s our test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonValue_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonParseException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    String enumAsString = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(TypeEnumWithValue.TYPE1);</span><br><span class="line"></span><br><span class="line">    assertThat(enumAsString, is(<span class="string">&quot;&quot;</span>Type A<span class="string">&quot;&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="26-jsonrootname"><a class="markdownIt-Anchor" href="#26-jsonrootname">#</a> 2.6. @JsonRootName</h3>
<p>The <em>@JsonRootName</em> annotation is used, if the wrapping is enabled, to specify the name of the root wrapper to be used.</p>
<p>Wrapping means that instead of serializing a <em>User</em> to something like:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It’s going to be wrapped like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;User&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>So let’s look at an example. **W****e’re going to use the @JsonRootName annotation to indicate the name of this potential wrapper entity**:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonRootName(value = &quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserWithRoot</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>By default, the name of the wrapper would be the name of the class – <em>UserWithRoot</em>. By using the annotation, we get the cleaner looking <em>user:</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonRootName_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    UserWithRoot user = <span class="keyword">new</span> User(<span class="number">1</span>, <span class="string">&quot;John&quot;</span>);</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    mapper.enable(SerializationFeature.WRAP_ROOT_VALUE);</span><br><span class="line">    String result = mapper.writeValueAsString(user);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;John&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;user&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s the output of serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;user&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>:<span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>:<span class="string">&quot;John&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Since Jackson 2.4, a new optional argument <em>namespace</em> is available with data formats such as XML. If we add it, it will become part of the fully qualified name:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonRootName(value = &quot;user&quot;, namespace=&quot;users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserWithRootNamespace</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If we serialize it with <em>XmlMapper,</em> the output will be:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">xmlns</span>=<span class="string">&quot;users&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">xmlns</span>=<span class="string">&quot;&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span> <span class="attr">xmlns</span>=<span class="string">&quot;&quot;</span>&gt;</span>John<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">items</span> <span class="attr">xmlns</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="27-jsonserialize"><a class="markdownIt-Anchor" href="#27-jsonserialize">#</a> 2.7. @JsonSerialize</h3>
<p><strong>@JsonSerialize indicates a custom serializer to use when</strong> marshalling <strong>the entity.</strong></p>
<p>Let’s look at a quick example. We’re going to use <em>@JsonSerialize</em> to serialize the <em>eventDate</em> property with a <em>CustomDateSerializer</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventWithSerializer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonSerialize(using = CustomDateSerializer.class)</span></span><br><span class="line">    <span class="keyword">public</span> Date eventDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s the simple custom Jackson serializer:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomDateSerializer</span> <span class="keyword">extends</span> <span class="title">StdSerializer</span>&lt;<span class="title">Date</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SimpleDateFormat formatter</span><br><span class="line">      = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;dd-MM-yyyy hh:mm:ss&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomDateSerializer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomDateSerializer</span><span class="params">(Class&lt;Date&gt; t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">serialize</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">      Date value, JsonGenerator gen, SerializerProvider arg2)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> IOException, JsonProcessingException </span>&#123;</span><br><span class="line">        gen.writeString(formatter.format(value));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now let’s use these in a test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonSerialize_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException, ParseException </span>&#123;</span><br><span class="line"></span><br><span class="line">    SimpleDateFormat df</span><br><span class="line">      = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;dd-MM-yyyy hh:mm:ss&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String toParse = <span class="string">&quot;20-12-2014 02:30:00&quot;</span>;</span><br><span class="line">    Date date = df.parse(toParse);</span><br><span class="line">    EventWithSerializer event = <span class="keyword">new</span> EventWithSerializer(<span class="string">&quot;party&quot;</span>, date);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(event);</span><br><span class="line">    assertThat(result, containsString(toParse));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-jackson-deserialization-annotations"><a class="markdownIt-Anchor" href="#3-jackson-deserialization-annotations">#</a> 3. Jackson Deserialization Annotations</h2>
<p>Next let’s explore the Jackson deserialization annotations.</p>
<h3 id="31-jsoncreator"><a class="markdownIt-Anchor" href="#31-jsoncreator">#</a> 3.1. @JsonCreator</h3>
<p><strong>We can use the @JsonCreator annotation to tune the constructor/factory used in deserialization.</strong></p>
<p>It’s very useful when we need to deserialize some JSON that doesn’t exactly match the target entity we need to get.</p>
<p>Let’s look at an example. Say we need to deserialize the following JSON:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>:1,</span><br><span class="line">    <span class="string">&quot;theName&quot;</span>:<span class="string">&quot;My bean&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>However, there is no <em>theName</em> field in our target entity, there is only a <em>name</em> field. Now we don’t want to change the entity itself, we just need a little more control over the unmarshalling process by annotating the constructor with <em>@JsonCreator,</em> and using the <em>@JsonProperty</em> annotation as well:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithCreator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonCreator</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BeanWithCreator</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">      <span class="meta">@JsonProperty(&quot;id&quot;)</span> <span class="keyword">int</span> id,</span></span></span><br><span class="line"><span class="function"><span class="params">      <span class="meta">@JsonProperty(&quot;theName&quot;)</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Let’s see this in action:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingUsingJsonCreator_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    String json = <span class="string">&quot;&#123;\&quot;id\&quot;:1,\&quot;theName\&quot;:\&quot;My bean\&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    BeanWithCreator bean = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .readerFor(BeanWithCreator.class)</span><br><span class="line">      .readValue(json);</span><br><span class="line">    assertEquals(<span class="string">&quot;My bean&quot;</span>, bean.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="32-jacksoninject"><a class="markdownIt-Anchor" href="#32-jacksoninject">#</a> 3.2. @JacksonInject</h3>
<p><strong>@JacksonInject indicates that a property will get its value from the injection and not from the JSON data.</strong></p>
<p>In the following example, we use <em>@JacksonInject</em> to inject the property <em>id</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithInject</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JacksonInject</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s how it works:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingUsingJsonInject_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    String json = <span class="string">&quot;&#123;\&quot;name\&quot;:\&quot;My bean\&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    InjectableValues inject = <span class="keyword">new</span> InjectableValues.Std()</span><br><span class="line">      .addValue(<span class="keyword">int</span>.class, <span class="number">1</span>);</span><br><span class="line">    BeanWithInject bean = <span class="keyword">new</span> ObjectMapper().reader(inject)</span><br><span class="line">      .forType(BeanWithInject.class)</span><br><span class="line">      .readValue(json);</span><br><span class="line"></span><br><span class="line">    assertEquals(<span class="string">&quot;My bean&quot;</span>, bean.name);</span><br><span class="line">    assertEquals(<span class="number">1</span>, bean.id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="33-jsonanysetter"><a class="markdownIt-Anchor" href="#33-jsonanysetter">#</a> 3.3. @JsonAnySetter</h3>
<p><em>@JsonAnySetter</em> allows us the flexibility of using a <em>Map</em> as standard properties. On deserialization, the properties from JSON will simply be added to the map.</p>
<p>First, we’ll use <em>@JsonAnySetter</em> to deserialize the entity <em>ExtendableBean</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtendableBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; properties;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonAnySetter</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String key, String value)</span> </span>&#123;</span><br><span class="line">        properties.put(key, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is the JSON we need to deserialize:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;My bean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;attr2&quot;</span>:<span class="string">&quot;val2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;attr1&quot;</span>:<span class="string">&quot;val1&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then here’s how it all ties in together:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingUsingJsonAnySetter_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    String json</span><br><span class="line">      = <span class="string">&quot;&#123;\&quot;name\&quot;:\&quot;My bean\&quot;,\&quot;attr2\&quot;:\&quot;val2\&quot;,\&quot;attr1\&quot;:\&quot;val1\&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    ExtendableBean bean = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .readerFor(ExtendableBean.class)</span><br><span class="line">      .readValue(json);</span><br><span class="line"></span><br><span class="line">    assertEquals(<span class="string">&quot;My bean&quot;</span>, bean.name);</span><br><span class="line">    assertEquals(<span class="string">&quot;val2&quot;</span>, bean.getProperties().get(<span class="string">&quot;attr2&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="34-jsonsetter"><a class="markdownIt-Anchor" href="#34-jsonsetter">#</a> 3.4. @JsonSetter</h3>
<p><em>@JsonSetter</em> is an alternative to <em>@JsonProperty</em> that marks the method as a setter method.</p>
<p>This is incredibly useful when we need to read some JSON data, but <strong>the target entity class doesn’t exactly match that data</strong>, and so we need to tune the process to make it fit.</p>
<p>In the following example, we’ll specify the method s<em>etTheName()</em> as the setter of the <em>name</em> property in our <em>MyBean</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonSetter(&quot;name&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTheName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now when we need to unmarshall some JSON data, this works perfectly well:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingUsingJsonSetter_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    String json = <span class="string">&quot;&#123;\&quot;id\&quot;:1,\&quot;name\&quot;:\&quot;My bean\&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    MyBean bean = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .readerFor(MyBean.class)</span><br><span class="line">      .readValue(json);</span><br><span class="line">    assertEquals(<span class="string">&quot;My bean&quot;</span>, bean.getTheName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="35-jsondeserialize"><a class="markdownIt-Anchor" href="#35-jsondeserialize">#</a> 3.5. @JsonDeserialize</h3>
<p><strong>@JsonDeserialize indicates the use of a custom deserializer.</strong></p>
<p>First, we’ll use <em>@JsonDeserialize</em> to deserialize the <em>eventDate</em> property with the <em>CustomDateDeserializer</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventWithSerializer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonDeserialize(using = CustomDateDeserializer.class)</span></span><br><span class="line">    <span class="keyword">public</span> Date eventDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s the custom deserializer:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomDateDeserializer</span></span></span><br><span class="line"><span class="class">  <span class="keyword">extends</span> <span class="title">StdDeserializer</span>&lt;<span class="title">Date</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SimpleDateFormat formatter</span><br><span class="line">      = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;dd-MM-yyyy hh:mm:ss&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomDateDeserializer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomDateDeserializer</span><span class="params">(Class&lt;?&gt; vc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(vc);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">deserialize</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">      JsonParser jsonparser, DeserializationContext context)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        String date = jsonparser.getText();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> formatter.parse(date);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Next here’s the back-to-back test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingUsingJsonDeserialize_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    String json</span><br><span class="line">      = <span class="string">&quot;&#123;&quot;</span>name<span class="string">&quot;:&quot;</span>party<span class="string">&quot;,&quot;</span>eventDate<span class="string">&quot;:&quot;</span><span class="number">20</span>-<span class="number">12</span>-<span class="number">2014</span> <span class="number">02</span>:<span class="number">30</span>:<span class="number">00</span><span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    SimpleDateFormat df</span><br><span class="line">      = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;dd-MM-yyyy hh:mm:ss&quot;</span>);</span><br><span class="line">    EventWithSerializer event = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .readerFor(EventWithSerializer.class)</span><br><span class="line">      .readValue(json);</span><br><span class="line"></span><br><span class="line">    assertEquals(</span><br><span class="line">      <span class="string">&quot;20-12-2014 02:30:00&quot;</span>, df.format(event.eventDate));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="36-jsonalias"><a class="markdownIt-Anchor" href="#36-jsonalias">#</a> 3.6. <em>@JsonAlias</em></h3>
<p>The <em>@JsonAlias</em> defines <strong>one or more alternative names for a property during deserialization</strong>.</p>
<p>Let’s see how this annotation works with a quick example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AliasBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonAlias(&#123; &quot;fName&quot;, &quot;f_name&quot; &#125;)</span></span><br><span class="line">    <span class="keyword">private</span> String firstName;</span><br><span class="line">    <span class="keyword">private</span> String lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here we have a POJO, and we want to deserialize JSON with values such as <em>fName</em>, <em>f_name</em>, and <em>firstName</em> into the <em>firstName</em> variable of the POJO.</p>
<p>Below is a test making sure this annotation works as expected:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingUsingJsonAlias_thenCorrect</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    String json = <span class="string">&quot;&#123;\&quot;fName\&quot;: \&quot;John\&quot;, \&quot;lastName\&quot;: \&quot;Green\&quot;&#125;&quot;</span>;</span><br><span class="line">    AliasBean aliasBean = <span class="keyword">new</span> ObjectMapper().readerFor(AliasBean.class).readValue(json);</span><br><span class="line">    assertEquals(<span class="string">&quot;John&quot;</span>, aliasBean.getFirstName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-jackson-property-inclusion-annotations"><a class="markdownIt-Anchor" href="#4-jackson-property-inclusion-annotations">#</a> 4. Jackson Property Inclusion Annotations</h2>
<h3 id="41-jsonignoreproperties"><a class="markdownIt-Anchor" href="#41-jsonignoreproperties">#</a> 4.1. @JsonIgnoreProperties</h3>
<p><strong>@JsonIgnoreProperties is a class-level annotation that marks a property or a list of properties that Jackson will ignore.</strong></p>
<p>Let’s look at a quick example ignoring the property <em>id</em> from serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonIgnoreProperties(&#123; &quot;id&quot; &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithIgnore</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now here’s the test making sure the ignore happens:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonIgnoreProperties_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    BeanWithIgnore bean = <span class="keyword">new</span> BeanWithIgnore(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;id&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>To ignore any unknown properties in JSON input without exception, we can set <em>ignoreUnknown=true</em> of <em>@JsonIgnoreProperties</em> annotation.</p>
<h3 id="42-jsonignore"><a class="markdownIt-Anchor" href="#42-jsonignore">#</a> 4.2. @JsonIgnore</h3>
<p><strong>In contrast, the @JsonIgnore annotation is used to mark a property to be ignored at the field level.</strong></p>
<p>Let’s use <em>@JsonIgnore</em> to ignore the property <em>id</em> from serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithIgnore</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonIgnore</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then we’ll test to make sure that <em>id</em> was successfully ignored:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonIgnore_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    BeanWithIgnore bean = <span class="keyword">new</span> BeanWithIgnore(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;id&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="43-jsonignoretype"><a class="markdownIt-Anchor" href="#43-jsonignoretype">#</a> 4.3. @JsonIgnoreType</h3>
<p><strong>@JsonIgnoreType marks all properties of an annotated type to be ignored.</strong></p>
<p>We can use the annotation to mark all properties of type <em>Name</em> to be ignored:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> Name name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonIgnoreType</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Name</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> String firstName;</span><br><span class="line">        <span class="keyword">public</span> String lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can also test to ensure the ignore works correctly:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonIgnoreType_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException, ParseException </span>&#123;</span><br><span class="line"></span><br><span class="line">    User.Name name = <span class="keyword">new</span> User.Name(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>);</span><br><span class="line">    User user = <span class="keyword">new</span> User(<span class="number">1</span>, name);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(user);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;name&quot;</span>)));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;John&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="44-jsoninclude"><a class="markdownIt-Anchor" href="#44-jsoninclude">#</a> 4.4. @JsonInclude</h3>
<p><strong>We can use @JsonInclude to exclude properties with empty/null/default values.</strong></p>
<p>Let’s look at an example excluding nulls from serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonInclude(Include.NON_NULL)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s the full test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonInclude_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    MyBean bean = <span class="keyword">new</span> MyBean(<span class="number">1</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;name&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="45-jsonincludeproperties"><a class="markdownIt-Anchor" href="#45-jsonincludeproperties">#</a> 4.5. @JsonIncludeProperties</h3>
<p><em>@JsonIncludeProperties</em> is one of the most requested Jackson features. It was introduced in Jackson 2.12 and <strong>can be used to mark a property or a list of properties that Jackson will include during serialization and deserialization.</strong></p>
<p>Let’s look at a quick example including the property <em>name</em> from serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonIncludeProperties(&#123; &quot;name&quot; &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithInclude</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now here’s a test making sure we include only the <em>name</em> property:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonIncludeProperties_thenCorrect</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> BeanWithInclude bean = <span class="keyword">new</span> BeanWithInclude(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line">    <span class="keyword">final</span> String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;id&quot;</span>)));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="46-jsonautodetect"><a class="markdownIt-Anchor" href="#46-jsonautodetect">#</a> 4.6. @JsonAutoDetect</h3>
<p><em>@JsonAutoDetect</em> can override the default semantics of <strong>which properties are visible and which are not</strong>.</p>
<p>First, let’s take a look at how the annotation can be very helpful with a simple example; let’s enable serializing private properties:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonAutoDetect(fieldVisibility = Visibility.ANY)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrivateBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then the test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonAutoDetect_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    PrivateBean bean = <span class="keyword">new</span> PrivateBean(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-jackson-polymorphic-type-handling-annotations"><a class="markdownIt-Anchor" href="#5-jackson-polymorphic-type-handling-annotations">#</a> 5. Jackson Polymorphic Type Handling Annotations</h2>
<p>Next let’s take a look at Jackson polymorphic type handling annotations:</p>
<ul>
<li><em>@JsonTypeInfo</em> – indicates details of what type information to include in serialization</li>
<li><em>@JsonSubTypes</em> – indicates sub-types of the annotated type</li>
<li><em>@JsonTypeName</em> – defines a logical type name to use for annotated class</li>
</ul>
<p>Let’s examine a more complex example, and use all three – <em>@JsonTypeInfo</em>, <em>@JsonSubTypes,</em> and <em>@JsonTypeName –</em> to serialize/deserialize the entity <em>Zoo</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Zoo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Animal animal;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonTypeInfo(</span></span><br><span class="line"><span class="meta">      use = JsonTypeInfo.Id.NAME,</span></span><br><span class="line"><span class="meta">      include = As.PROPERTY,</span></span><br><span class="line"><span class="meta">      property = &quot;type&quot;)</span></span><br><span class="line">    <span class="meta">@JsonSubTypes(&#123;</span></span><br><span class="line"><span class="meta">        @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;),</span></span><br><span class="line"><span class="meta">        @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> String name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonTypeName(&quot;dog&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">double</span> barkVolume;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonTypeName(&quot;cat&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> likesCream;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> lives;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>When we do serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingPolymorphic_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    Zoo.Dog dog = <span class="keyword">new</span> Zoo.Dog(<span class="string">&quot;lacy&quot;</span>);</span><br><span class="line">    Zoo zoo = <span class="keyword">new</span> Zoo(dog);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writeValueAsString(zoo);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;type&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;dog&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s what serializing the <em>Zoo</em> instance with the <em>Dog</em> will result in:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;animal&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;dog&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;lacy&quot;</span>,</span><br><span class="line">        <span class="string">&quot;barkVolume&quot;</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now for de-serialization. Let’s start with the following JSON input:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;animal&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>:<span class="string">&quot;lacy&quot;</span>,</span><br><span class="line">        <span class="string">&quot;type&quot;</span>:<span class="string">&quot;cat&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then let’s see how that gets unmarshalled to a <em>Zoo</em> instance:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDeserializingPolymorphic_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    String json = <span class="string">&quot;&#123;\&quot;animal\&quot;:&#123;\&quot;name\&quot;:\&quot;lacy\&quot;,\&quot;type\&quot;:\&quot;cat\&quot;&#125;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    Zoo zoo = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .readerFor(Zoo.class)</span><br><span class="line">      .readValue(json);</span><br><span class="line"></span><br><span class="line">    assertEquals(<span class="string">&quot;lacy&quot;</span>, zoo.animal.name);</span><br><span class="line">    assertEquals(Zoo.Cat.class, zoo.animal.getClass());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-jackson-general-annotations"><a class="markdownIt-Anchor" href="#6-jackson-general-annotations">#</a> 6. Jackson General Annotations</h2>
<p>Next let’s discuss some of Jackson’s more general annotations.</p>
<h3 id="61-jsonproperty"><a class="markdownIt-Anchor" href="#61-jsonproperty">#</a> 6.1. @JsonProperty</h3>
<p>We can add <strong>the @JsonProperty annotation to indicate the property name in JSON</strong>.</p>
<p>Let’s use <em>@JsonProperty</em> to serialize/deserialize the property <em>name</em> when we’re dealing with non-standard getters and setters:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonProperty(&quot;name&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTheName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonProperty(&quot;name&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getTheName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Next is our test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenUsingJsonProperty_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    MyBean bean = <span class="keyword">new</span> MyBean(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line"></span><br><span class="line">    MyBean resultBean = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .readerFor(MyBean.class)</span><br><span class="line">      .readValue(result);</span><br><span class="line">    assertEquals(<span class="string">&quot;My bean&quot;</span>, resultBean.getTheName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="62-jsonformat"><a class="markdownIt-Anchor" href="#62-jsonformat">#</a> 6.2. @JsonFormat</h3>
<p><strong>The @JsonFormat annotation specifies a format when serializing Date/Time values.</strong></p>
<p>In the following example, we use <em>@JsonFormat</em> to control the format of the property <em>eventDate</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventWithFormat</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonFormat(</span></span><br><span class="line"><span class="meta">      shape = JsonFormat.Shape.STRING,</span></span><br><span class="line"><span class="meta">      pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Date eventDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then here’s the test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonFormat_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException, ParseException </span>&#123;</span><br><span class="line">    SimpleDateFormat df = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;dd-MM-yyyy hh:mm:ss&quot;</span>);</span><br><span class="line">    df.setTimeZone(TimeZone.getTimeZone(<span class="string">&quot;UTC&quot;</span>));</span><br><span class="line"></span><br><span class="line">    String toParse = <span class="string">&quot;20-12-2014 02:30:00&quot;</span>;</span><br><span class="line">    Date date = df.parse(toParse);</span><br><span class="line">    EventWithFormat event = <span class="keyword">new</span> EventWithFormat(<span class="string">&quot;party&quot;</span>, date);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(event);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(toParse));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="63-jsonunwrapped"><a class="markdownIt-Anchor" href="#63-jsonunwrapped">#</a> 6.3. @JsonUnwrapped</h3>
<p><strong>@JsonUnwrapped defines values that should be unwrapped/flattened when serialized/deserialized.</strong></p>
<p>Let’s see exactly how this works; we’ll use the annotation to unwrap the property <em>name</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UnwrappedUser</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonUnwrapped</span></span><br><span class="line">    <span class="keyword">public</span> Name name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Name</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> String firstName;</span><br><span class="line">        <span class="keyword">public</span> String lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now let’s serialize an instance of this class:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonUnwrapped_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException, ParseException </span>&#123;</span><br><span class="line">    UnwrappedUser.Name name = <span class="keyword">new</span> UnwrappedUser.Name(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>);</span><br><span class="line">    UnwrappedUser user = <span class="keyword">new</span> UnwrappedUser(<span class="number">1</span>, name);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(user);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;John&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;name&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Finally, here’s what the output looks like – the fields of the static nested class unwrapped along with the other field:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;firstName&quot;</span>:<span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="string">&quot;lastName&quot;</span>:<span class="string">&quot;Doe&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="64-jsonview"><a class="markdownIt-Anchor" href="#64-jsonview">#</a> 6.4. @JsonView</h3>
<p><strong>@JsonView indicates the View in which the property will be included for serialization/deserialization.</strong></p>
<p>For example, we’ll use <em>@JsonView</em> to serialize an instance of <em>Item</em> entity.</p>
<p>First, let’s start with the views:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Views</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Public</span> </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Internal</span> <span class="keyword">extends</span> <span class="title">Public</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Next here’s the <em>Item</em> entity using the views:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonView(Views.Public.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonView(Views.Public.class)</span></span><br><span class="line">    <span class="keyword">public</span> String itemName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonView(Views.Internal.class)</span></span><br><span class="line">    <span class="keyword">public</span> String ownerName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Finally, the full test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonView_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    Item item = <span class="keyword">new</span> Item(<span class="number">2</span>, <span class="string">&quot;book&quot;</span>, <span class="string">&quot;John&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writerWithView(Views.Public.class)</span><br><span class="line">      .writeValueAsString(item);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;book&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;2&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;John&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="65-jsonmanagedreference-jsonbackreference"><a class="markdownIt-Anchor" href="#65-jsonmanagedreference-jsonbackreference">#</a> 6.5. @JsonManagedReference, @JsonBackReference</h3>
<p><strong>The @JsonManagedReference and @JsonBackReference annotations can handle parent/child relationships</strong> and work around loops.</p>
<p>In the following example, we use <em>@JsonManagedReference</em> and <em>@JsonBackReference</em> to serialize our <em>ItemWithRef</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemWithRef</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String itemName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonManagedReference</span></span><br><span class="line">    <span class="keyword">public</span> UserWithRef owner;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Our <em>UserWithRef</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserWithRef</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonBackReference</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;ItemWithRef&gt; userItems;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then the test:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJacksonReferenceAnnotation_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    UserWithRef user = <span class="keyword">new</span> UserWithRef(<span class="number">1</span>, <span class="string">&quot;John&quot;</span>);</span><br><span class="line">    ItemWithRef item = <span class="keyword">new</span> ItemWithRef(<span class="number">2</span>, <span class="string">&quot;book&quot;</span>, user);</span><br><span class="line">    user.addItem(item);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(item);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;book&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;John&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;userItems&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="66-jsonidentityinfo"><a class="markdownIt-Anchor" href="#66-jsonidentityinfo">#</a> 6.6. @JsonIdentityInfo</h3>
<p><em>@JsonIdentityInfo</em> indicates that Object Identity should be used when serializing/deserializing values, like when dealing with infinite recursion types of problems, for instance.</p>
<p>In the following example, we have an <em>ItemWithIdentity</em> entity with a bidirectional relationship with the <em>UserWithIdentity</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonIdentityInfo(</span></span><br><span class="line"><span class="meta">  generator = ObjectIdGenerators.PropertyGenerator.class,</span></span><br><span class="line"><span class="meta">  property = &quot;id&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemWithIdentity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String itemName;</span><br><span class="line">    <span class="keyword">public</span> UserWithIdentity owner;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <em>UserWithIdentity</em> entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonIdentityInfo(</span></span><br><span class="line"><span class="meta">  generator = ObjectIdGenerators.PropertyGenerator.class,</span></span><br><span class="line"><span class="meta">  property = &quot;id&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserWithIdentity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> List&lt;ItemWithIdentity&gt; userItems;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now <strong>let’s see how the infinite recursion problem is handled</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonIdentityInfo_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    UserWithIdentity user = <span class="keyword">new</span> UserWithIdentity(<span class="number">1</span>, <span class="string">&quot;John&quot;</span>);</span><br><span class="line">    ItemWithIdentity item = <span class="keyword">new</span> ItemWithIdentity(<span class="number">2</span>, <span class="string">&quot;book&quot;</span>, user);</span><br><span class="line">    user.addItem(item);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(item);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;book&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;John&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;userItems&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here’s the full output of the serialized item and user:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&quot;itemName&quot;</span>: <span class="string">&quot;book&quot;</span>,</span><br><span class="line">    <span class="string">&quot;owner&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">        <span class="string">&quot;userItems&quot;</span>: [</span><br><span class="line">            <span class="number">2</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="67-jsonfilter"><a class="markdownIt-Anchor" href="#67-jsonfilter">#</a> 6.7. @JsonFilter</h3>
<p><strong>The @JsonFilter annotation specifies a filter to use during serialization.</strong></p>
<p>First, we define the entity and we point to the filter:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonFilter(&quot;myFilter&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now in the full test, we define the filter, which excludes all other properties except <em>name</em> from serialization:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingJsonFilter_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    BeanWithFilter bean = <span class="keyword">new</span> BeanWithFilter(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>);</span><br><span class="line"></span><br><span class="line">    FilterProvider filters</span><br><span class="line">      = <span class="keyword">new</span> SimpleFilterProvider().addFilter(</span><br><span class="line">        <span class="string">&quot;myFilter&quot;</span>,</span><br><span class="line">        SimpleBeanPropertyFilter.filterOutAllExcept(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper()</span><br><span class="line">      .writer(filters)</span><br><span class="line">      .writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;id&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-custom-jackson-annotation"><a class="markdownIt-Anchor" href="#7-custom-jackson-annotation">#</a> 7. Custom Jackson Annotation</h2>
<p>Next let’s see how to create a custom Jackson annotation. <strong>We can make use of the @JacksonAnnotationsInside annotation:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line">    <span class="meta">@JacksonAnnotationsInside</span></span><br><span class="line">    <span class="meta">@JsonInclude(Include.NON_NULL)</span></span><br><span class="line">    <span class="meta">@JsonPropertyOrder(&#123; &quot;name&quot;, &quot;id&quot;, &quot;dateCreated&quot; &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@interface</span> CustomAnnotation &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>Now if we use the new annotation on an entity:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CustomAnnotation</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanWithCustomAnnotation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> Date dateCreated;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can see how it combines the existing annotations into a simple custom one that we can use as a shorthand:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingCustomAnnotation_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    BeanWithCustomAnnotation bean</span><br><span class="line">      = <span class="keyword">new</span> BeanWithCustomAnnotation(<span class="number">1</span>, <span class="string">&quot;My bean&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;My bean&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;dateCreated&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The output of the serialization process:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;My bean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;id&quot;</span>:1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-jackson-mixin-annotations"><a class="markdownIt-Anchor" href="#8-jackson-mixin-annotations">#</a> 8. Jackson MixIn Annotations</h2>
<p>Next let’s see how to use Jackson MixIn annotations.</p>
<p>For example, let’s use the MixIn annotations to ignore properties of type <em>User</em>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String itemName;</span><br><span class="line">    <span class="keyword">public</span> User owner;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@JsonIgnoreType</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMixInForIgnoreType</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>Then let’s see this in action:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSerializingUsingMixInAnnotation_thenCorrect</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    Item item = <span class="keyword">new</span> Item(<span class="number">1</span>, <span class="string">&quot;book&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    String result = <span class="keyword">new</span> ObjectMapper().writeValueAsString(item);</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;owner&quot;</span>));</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    mapper.addMixIn(User.class, MyMixInForIgnoreType.class);</span><br><span class="line"></span><br><span class="line">    result = mapper.writeValueAsString(item);</span><br><span class="line">    assertThat(result, not(containsString(<span class="string">&quot;owner&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-disable-jackson-annotation"><a class="markdownIt-Anchor" href="#9-disable-jackson-annotation">#</a> 9. Disable Jackson Annotation</h2>
<p>Finally, let’s see how we can <strong>disable all Jackson annotations</strong>. We can do this by disabling the *MapperFeature.*USE_ANNOTATIONS as in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonInclude(Include.NON_NULL)</span></span><br><span class="line"><span class="meta">@JsonPropertyOrder(&#123; &quot;name&quot;, &quot;id&quot; &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now, after disabling annotations, these should have no effect and the defaults of the library should apply:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenDisablingAllAnnotations_thenAllDisabled</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    MyBean bean = <span class="keyword">new</span> MyBean(<span class="number">1</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    mapper.disable(MapperFeature.USE_ANNOTATIONS);</span><br><span class="line">    String result = mapper.writeValueAsString(bean);</span><br><span class="line"></span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">    assertThat(result, containsString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The result of serialization before disabling annotations:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;id&quot;</span>:1&#125;</span><br></pre></td></tr></table></figure>
<p>The result of serialization after disabling annotations:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>:1,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-conclusion"><a class="markdownIt-Anchor" href="#10-conclusion">#</a> 10. Conclusion</h2>
<p>In this article, we examined Jackson annotations, just scratching the surface of the kind of flexibility we can get by using them correctly.</p>

      <div class="tags">
          <a href="/tags/java/" rel="tag"><i class="ic i-tag"></i> java</a>
          <a href="/tags/json/" rel="tag"><i class="ic i-tag"></i> json</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2025-07-29 11:00:48" itemprop="dateModified" datetime="2025-07-29T11:00:48+08:00">2025-07-29</time>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2025/07/18/java-microsoft-word/" itemprop="url" rel="prev" data-background-image="&#x2F;anime&#x2F;index&#x2F;齐木楠雄的灾难.jpg" title="Microsoft Word Processing in Java with Apache PO">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Microsoft Word Processing in Java with Apache PO</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2025/07/29/java-jackson-xml/" itemprop="url" rel="next" data-background-image="&#x2F;anime&#x2F;index&#x2F;风之谷-3.jpg" title="XML Serialization and Deserialization with Jackson">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>XML Serialization and Deserialization with Jackson</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-overview"><span class="toc-number">1.</span> <span class="toc-text"> 1. Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-jackson-serialization-annotations"><span class="toc-number">2.</span> <span class="toc-text"> 2. Jackson Serialization Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-jsonanygetter"><span class="toc-number">2.1.</span> <span class="toc-text"> 2.1. @JsonAnyGetter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-jsongetter"><span class="toc-number">2.2.</span> <span class="toc-text"> 2.2. @JsonGetter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-jsonpropertyorder"><span class="toc-number">2.3.</span> <span class="toc-text"> 2.3. @JsonPropertyOrder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-jsonrawvalue"><span class="toc-number">2.4.</span> <span class="toc-text"> 2.4. @JsonRawValue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-jsonvalue"><span class="toc-number">2.5.</span> <span class="toc-text"> 2.5. @JsonValue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-jsonrootname"><span class="toc-number">2.6.</span> <span class="toc-text"> 2.6. @JsonRootName</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27-jsonserialize"><span class="toc-number">2.7.</span> <span class="toc-text"> 2.7. @JsonSerialize</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-jackson-deserialization-annotations"><span class="toc-number">3.</span> <span class="toc-text"> 3. Jackson Deserialization Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-jsoncreator"><span class="toc-number">3.1.</span> <span class="toc-text"> 3.1. @JsonCreator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-jacksoninject"><span class="toc-number">3.2.</span> <span class="toc-text"> 3.2. @JacksonInject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-jsonanysetter"><span class="toc-number">3.3.</span> <span class="toc-text"> 3.3. @JsonAnySetter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-jsonsetter"><span class="toc-number">3.4.</span> <span class="toc-text"> 3.4. @JsonSetter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#35-jsondeserialize"><span class="toc-number">3.5.</span> <span class="toc-text"> 3.5. @JsonDeserialize</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#36-jsonalias"><span class="toc-number">3.6.</span> <span class="toc-text"> 3.6. @JsonAlias</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-jackson-property-inclusion-annotations"><span class="toc-number">4.</span> <span class="toc-text"> 4. Jackson Property Inclusion Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-jsonignoreproperties"><span class="toc-number">4.1.</span> <span class="toc-text"> 4.1. @JsonIgnoreProperties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-jsonignore"><span class="toc-number">4.2.</span> <span class="toc-text"> 4.2. @JsonIgnore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-jsonignoretype"><span class="toc-number">4.3.</span> <span class="toc-text"> 4.3. @JsonIgnoreType</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44-jsoninclude"><span class="toc-number">4.4.</span> <span class="toc-text"> 4.4. @JsonInclude</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45-jsonincludeproperties"><span class="toc-number">4.5.</span> <span class="toc-text"> 4.5. @JsonIncludeProperties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#46-jsonautodetect"><span class="toc-number">4.6.</span> <span class="toc-text"> 4.6. @JsonAutoDetect</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-jackson-polymorphic-type-handling-annotations"><span class="toc-number">5.</span> <span class="toc-text"> 5. Jackson Polymorphic Type Handling Annotations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-jackson-general-annotations"><span class="toc-number">6.</span> <span class="toc-text"> 6. Jackson General Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#61-jsonproperty"><span class="toc-number">6.1.</span> <span class="toc-text"> 6.1. @JsonProperty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#62-jsonformat"><span class="toc-number">6.2.</span> <span class="toc-text"> 6.2. @JsonFormat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#63-jsonunwrapped"><span class="toc-number">6.3.</span> <span class="toc-text"> 6.3. @JsonUnwrapped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#64-jsonview"><span class="toc-number">6.4.</span> <span class="toc-text"> 6.4. @JsonView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#65-jsonmanagedreference-jsonbackreference"><span class="toc-number">6.5.</span> <span class="toc-text"> 6.5. @JsonManagedReference, @JsonBackReference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#66-jsonidentityinfo"><span class="toc-number">6.6.</span> <span class="toc-text"> 6.6. @JsonIdentityInfo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#67-jsonfilter"><span class="toc-number">6.7.</span> <span class="toc-text"> 6.7. @JsonFilter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-custom-jackson-annotation"><span class="toc-number">7.</span> <span class="toc-text"> 7. Custom Jackson Annotation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-jackson-mixin-annotations"><span class="toc-number">8.</span> <span class="toc-text"> 8. Jackson MixIn Annotations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-disable-jackson-annotation"><span class="toc-number">9.</span> <span class="toc-text"> 9. Disable Jackson Annotation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-conclusion"><span class="toc-number">10.</span> <span class="toc-text"> 10. Conclusion</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="江边鸟"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">江边鸟</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">378</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">2</span>
        <span class="name">categories</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">51</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xoY2hlbjc0" title="https:&#x2F;&#x2F;github.com&#x2F;lhchen74"><i class="ic i-github"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item codepen" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2xoY2hlbjc0" title="https:&#x2F;&#x2F;codepen.io&#x2F;lhchen74"><i class="ic i-address-card"></i></span>
      <span class="exturl item anki" data-url="aHR0cHM6Ly9hbmtpd2ViLm5ldC9kZWNrcy8=" title="https:&#x2F;&#x2F;ankiweb.net&#x2F;decks&#x2F;"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>About</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>Friends</a>
  </li>

    
  <li class="item">
    <a href="/anime/" rel="section"><i class="ic i-magic"></i>Anime</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2025/07/18/java-microsoft-word/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2025/07/29/java-jackson-xml/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">江边鸟 @ D E W</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2025/07/29/java-jackson/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
