



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="露の世" href="https://lhchen74.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="露の世" href="https://lhchen74.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="露の世" href="https://lhchen74.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="db" />


<link rel="canonical" href="https://lhchen74.github.io/2020/08/13/oracel-dynamic-sql/">



  <title>
Oracle Dynamic SQL |
Dew's World = 露の世</title>
<meta name="generator" content="Hexo 5.4.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Oracle Dynamic SQL
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2020-08-13 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2020-08-13T00:00:00+08:00">2020-08-13</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Dew's World</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gicljitigmj20zk0m87fp.jpg"></li>
          <li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipet8c1a2j20zk0m8kct.jpg"></li>
          <li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gicli9lfebj20zk0m84qp.jpg"></li>
          <li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1giclize41wj20zk0m87gk.jpg"></li>
          <li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipewr8iypj20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gicitspjpbj20zk0m81ky.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://lhchen74.github.io/2020/08/13/oracel-dynamic-sql/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="江边鸟">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="露の世">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <blockquote>
<p>reproduced:<span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvQjEyMDM3XzAxL2FwcGRldi4xMDEvYjEwODA3LzExX2R5bmFtLmh0bSNpMTQ1MDA=">Performing SQL Operations with Native Dynamic SQL</span></p>
</blockquote>
<h1 id="performing-sql-operations-with-native-dynamic-sql"><a class="markdownIt-Anchor" href="#performing-sql-operations-with-native-dynamic-sql">#</a> Performing SQL Operations with Native Dynamic SQL</h1>
<p><em>A happy and gracious flexibility … —</em> Matthew Arnold</p>
<p>This chapter shows you how to use native dynamic SQL (dynamic SQL for short), a PL/SQL interface that makes your programs more flexible, by building and processing SQL statements at run time.</p>
<p>With dynamic SQL, you can directly execute any kind of SQL statement (even data definition and data control statements). You can build statements where you do not know table names,  <code>WHERE</code>  clauses, and other information in advance.</p>
<h2 id="why-use-dynamic-sql"><a class="markdownIt-Anchor" href="#why-use-dynamic-sql">#</a> Why Use Dynamic SQL?</h2>
<p>You need dynamic SQL in the following situations:</p>
<ul>
<li>You want to execute a SQL data definition statement (such as  <code>CREATE</code> ), a data control statement (such as  <code>GRANT</code> ), or a session control statement (such as  <code>ALTER</code>   <code>SESSION</code> ). Unlike  <code>INSERT</code> ,  <code>UPDATE</code> , and  <code>DELETE</code>  statements, these statements cannot be included directly in a PL/SQL program.</li>
<li>You want more flexibility. For example, you might want to pass the name of a schema object as a parameter to a procedure. You might want to build different search conditions for the  <code>WHERE</code>  clause of a  <code>SELECT</code>  statement.</li>
<li>You want to issue a query where you do not know the number, names, or datatypes of the columns in advance. In this case, you use the  <code>DBMS_SQL</code>  package rather than the  <code>OPEN-FOR</code>  statement.</li>
</ul>
<p>If you have older code that uses the  <code>DBMS_SQL</code>  package, the techniques described in this chapter using  <code>EXECUTE IMMEDIATE</code>  and  <code>OPEN-FOR</code>  generally provide better performance, more readable code, and extra features such as support for objects and collections. (For a comparison with DBMS*SQL, see <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvQjEyMDM3XzAxL2FwcGRldi4xMDEvYjEwNzk1L3RvYy5odG0=">_Oracle Database Application Developer’s Guide - Fundamentals*</span>.)</p>
<h2 id="building-a-dynamic-query-with-dynamic-sql"><a class="markdownIt-Anchor" href="#building-a-dynamic-query-with-dynamic-sql">#</a> Building a Dynamic Query with Dynamic SQL</h2>
<p>You use three statements to process a dynamic multi-row query:  <code>OPEN-FOR</code> ,  <code>FETCH</code> , and  <code>CLOSE</code> . First, you  <code>OPEN</code>  a cursor variable  <code>FOR</code>  a multi-row query. Then, you  <code>FETCH</code>  rows from the result set one at a time. When all the rows are processed, you  <code>CLOSE</code>  the cursor variable. (For more information about cursor variables, see <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvQjEyMDM3XzAxL2FwcGRldi4xMDEvYjEwODA3LzA2X29yYS5odG0jaTcxMDY=">“Using Cursor Variables (REF CURSORs)”</span>.)</p>
<h2 id="examples-of-dynamic-sql-for-records-objects-and-collections"><a class="markdownIt-Anchor" href="#examples-of-dynamic-sql-for-records-objects-and-collections">#</a> Examples of Dynamic SQL for Records, Objects, and Collections</h2>
<p><strong>Example 7-3 Dynamic SQL Fetching into a Record</strong></p>
<p>As the following example shows, you can fetch rows from the result set of a dynamic multi-row query into a record:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">   TYPE EmpCurTyp <span class="keyword">IS</span> <span class="keyword">REF</span> <span class="keyword">CURSOR</span>;</span><br><span class="line">   emp_cv   EmpCurTyp;</span><br><span class="line">   emp_rec  emp<span class="operator">%</span>ROWTYPE;</span><br><span class="line">   sql_stmt VARCHAR2(<span class="number">200</span>);</span><br><span class="line">   my_job   VARCHAR2(<span class="number">15</span>) :<span class="operator">=</span> <span class="string">&#x27;CLERK&#x27;</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   sql_stmt :<span class="operator">=</span> <span class="string">&#x27;SELECT * FROM emp WHERE job = :j&#x27;</span>;</span><br><span class="line">   <span class="keyword">OPEN</span> emp_cv <span class="keyword">FOR</span> sql_stmt <span class="keyword">USING</span> my_job;</span><br><span class="line">   LOOP</span><br><span class="line">      <span class="keyword">FETCH</span> emp_cv <span class="keyword">INTO</span> emp_rec;</span><br><span class="line">      EXIT <span class="keyword">WHEN</span> emp_cv<span class="operator">%</span>NOTFOUND;</span><br><span class="line">      <span class="comment">-- process record</span></span><br><span class="line">   <span class="keyword">END</span> LOOP;</span><br><span class="line">   <span class="keyword">CLOSE</span> emp_cv;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p><strong>Example 7-4 Dynamic SQL for Object Types and Collections</strong></p>
<p>The next example illustrates the use of objects and collections. Suppose you define object type  <code>Person</code>  and  <code>VARRAY</code>  type  <code>Hobbies</code> , as follows:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> TYPE Person <span class="keyword">AS</span> OBJECT (name VARCHAR2(<span class="number">25</span>), age NUMBER);</span><br><span class="line"><span class="keyword">CREATE</span> TYPE Hobbies <span class="keyword">IS</span> VARRAY(<span class="number">10</span>) <span class="keyword">OF</span> VARCHAR2(<span class="number">25</span>);</span><br></pre></td></tr></table></figure>
<p>Using dynamic SQL, you can write a package that uses these types:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE PACKAGE teams <span class="keyword">AS</span></span><br><span class="line">   <span class="keyword">PROCEDURE</span> create_table (tab_name VARCHAR2);</span><br><span class="line">   <span class="keyword">PROCEDURE</span> insert_row (tab_name VARCHAR2, p Person, h Hobbies);</span><br><span class="line">   <span class="keyword">PROCEDURE</span> print_table (tab_name VARCHAR2);</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE PACKAGE BODY teams <span class="keyword">AS</span></span><br><span class="line">   <span class="keyword">PROCEDURE</span> create_table (tab_name VARCHAR2) <span class="keyword">IS</span></span><br><span class="line">   <span class="keyword">BEGIN</span></span><br><span class="line">      <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;CREATE TABLE &#x27;</span> <span class="operator">||</span> tab_name <span class="operator">||</span></span><br><span class="line">         <span class="string">&#x27; (pers Person, hobbs Hobbies)&#x27;</span>;</span><br><span class="line">   <span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">PROCEDURE</span> insert_row (</span><br><span class="line">      tab_name VARCHAR2,</span><br><span class="line">      p Person,</span><br><span class="line">      h Hobbies) <span class="keyword">IS</span></span><br><span class="line">   <span class="keyword">BEGIN</span></span><br><span class="line">      <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;INSERT INTO &#x27;</span> <span class="operator">||</span> tab_name <span class="operator">||</span></span><br><span class="line">         <span class="string">&#x27; VALUES (:1, :2)&#x27;</span> <span class="keyword">USING</span> p, h;</span><br><span class="line">   <span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">PROCEDURE</span> print_table (tab_name VARCHAR2) <span class="keyword">IS</span></span><br><span class="line">      TYPE RefCurTyp <span class="keyword">IS</span> <span class="keyword">REF</span> <span class="keyword">CURSOR</span>;</span><br><span class="line">      cv RefCurTyp;</span><br><span class="line">      p  Person;</span><br><span class="line">      h  Hobbies;</span><br><span class="line">   <span class="keyword">BEGIN</span></span><br><span class="line">      <span class="keyword">OPEN</span> cv <span class="keyword">FOR</span> <span class="string">&#x27;SELECT pers, hobbs FROM &#x27;</span> <span class="operator">||</span> tab_name;</span><br><span class="line">      LOOP</span><br><span class="line">         <span class="keyword">FETCH</span> cv <span class="keyword">INTO</span> p, h;</span><br><span class="line">         EXIT <span class="keyword">WHEN</span> cv<span class="operator">%</span>NOTFOUND;</span><br><span class="line">         <span class="comment">-- print attributes of &#x27;p&#x27; and elements of &#x27;h&#x27;</span></span><br><span class="line">      <span class="keyword">END</span> LOOP;</span><br><span class="line">      <span class="keyword">CLOSE</span> cv;</span><br><span class="line">   <span class="keyword">END</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p>From an anonymous block, you might call the procedures in package  <code>TEAMS</code> :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">   team_name VARCHAR2(<span class="number">15</span>);</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   team_name :<span class="operator">=</span> <span class="string">&#x27;Notables&#x27;</span>;</span><br><span class="line">   teams.create_table(team_name);</span><br><span class="line">   teams.insert_row(team_name, Person(<span class="string">&#x27;John&#x27;</span>, <span class="number">31</span>),</span><br><span class="line">      Hobbies(<span class="string">&#x27;skiing&#x27;</span>, <span class="string">&#x27;coin collecting&#x27;</span>, <span class="string">&#x27;tennis&#x27;</span>));</span><br><span class="line">   teams.insert_row(team_name, Person(<span class="string">&#x27;Mary&#x27;</span>, <span class="number">28</span>),</span><br><span class="line">      Hobbies(<span class="string">&#x27;golf&#x27;</span>, <span class="string">&#x27;quilting&#x27;</span>, <span class="string">&#x27;rock climbing&#x27;</span>));</span><br><span class="line">   teams.print_table(team_name);</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<h2 id="guidelines-for-dynamic-sql"><a class="markdownIt-Anchor" href="#guidelines-for-dynamic-sql">#</a> Guidelines for Dynamic SQL</h2>
<p>This section shows you how to take full advantage of dynamic SQL and how to avoid some common pitfalls.</p>
<h3 id="when-to-use-or-omit-the-semicolon-with-dynamic-sql"><a class="markdownIt-Anchor" href="#when-to-use-or-omit-the-semicolon-with-dynamic-sql">#</a> When to Use or Omit the Semicolon with Dynamic SQL</h3>
<p>When building up a single SQL statement in a string, do not include any semicolon at the end.</p>
<p>When building up a PL/SQL anonymous block, include the semicolon at the end of each PL/SQL statement and at the end of the anonymous block.</p>
<p>For example:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;dbms_output.put_line(&#x27;&#x27;No semicolon&#x27;&#x27;)&#x27;</span>;</span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;BEGIN dbms_output.put_line(&#x27;&#x27;semicolons&#x27;&#x27;); END;&#x27;</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<h3 id="improving-performance-of-dynamic-sql-with-bind-variables"><a class="markdownIt-Anchor" href="#improving-performance-of-dynamic-sql-with-bind-variables">#</a> Improving Performance of Dynamic SQL with Bind Variables</h3>
<p>When you code  <code>INSERT</code> ,  <code>UPDATE</code> ,  <code>DELETE</code> , and  <code>SELECT</code>  statements directly in PL/SQL, PL/SQL turns the variables into bind variables automatically, to make the statements work efficiently with SQL. When you build up such statements in dynamic SQL, you need to specify the bind variables yourself to get the same performance.</p>
<p>In the example below, Oracle opens a different cursor for each distinct value of  <code>emp_id</code> . This can lead to resource contention and poor performance as each statement is parsed and cached.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> fire_employee (emp_id NUMBER) <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE</span><br><span class="line">      <span class="string">&#x27;DELETE FROM emp WHERE empno = &#x27;</span> <span class="operator">||</span> TO_CHAR(emp_id);</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p>You can improve performance by using a bind variable, which allows Oracle to reuse the same cursor for different values of  <code>emp_id</code> :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> fire_employee (emp_id NUMBER) <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE</span><br><span class="line">      <span class="string">&#x27;DELETE FROM emp WHERE empno = :num&#x27;</span> <span class="keyword">USING</span> emp_id;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<h3 id="passing-schema-object-names-as-parameters"><a class="markdownIt-Anchor" href="#passing-schema-object-names-as-parameters">#</a> Passing Schema Object Names As Parameters</h3>
<p>Suppose you need a procedure that accepts the name of any database table, then drops that table from your schema. You must build a string with a statement that includes the object names, then use  <code>EXECUTE IMMEDIATE</code>  to execute the statement:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> drop_table (table_name <span class="keyword">IN</span> VARCHAR2) <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;DROP TABLE &#x27;</span> <span class="operator">||</span> table_name;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p>Use concatenation to build the string, rather than trying to pass the table name as a bind variable through the  <code>USING</code>  clause.</p>
<h3 id="using-duplicate-placeholders-with-dynamic-sql"><a class="markdownIt-Anchor" href="#using-duplicate-placeholders-with-dynamic-sql">#</a> Using Duplicate Placeholders with Dynamic SQL</h3>
<p>Placeholders in a dynamic SQL statement are associated with bind arguments in the  <code>USING</code>  clause by position, not by name. If you specify a sequence of placeholders like  <code>:a, :a, :b, :b</code> , you must include four items in the  <code>USING</code>  clause. For example, given the dynamic string</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sql_stmt :<span class="operator">=</span> <span class="string">&#x27;INSERT INTO payroll VALUES (:x, :x, :y, :x)&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>the fact that the name X is repeated is not significant. You can code the corresponding  <code>USING</code>  clause with four different bind variables:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> IMMEDIATE sql_stmt <span class="keyword">USING</span> a, a, b, a;</span><br></pre></td></tr></table></figure>
<p>If the dynamic statement represents a PL/SQL block, the rules for duplicate placeholders are different. Each unique placeholder maps to a single item in the  <code>USING</code>  clause. If the same placeholder appears two or more times, all references to that name correspond to one bind argument in the  <code>USING</code>  clause. In the following example, all references to the placeholder  <code>X</code>  are associated with the first bind argument  <code>A</code> , and the second unique placeholder  <code>Y</code>  is associated with the second bind argument B.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">   a NUMBER :<span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">   b NUMBER :<span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   plsql_block :<span class="operator">=</span> <span class="string">&#x27;BEGIN calc_stats(:x, :x, :y, :x); END;&#x27;</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE plsql_block <span class="keyword">USING</span> a, b;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<h3 id="using-cursor-attributes-with-dynamic-sql"><a class="markdownIt-Anchor" href="#using-cursor-attributes-with-dynamic-sql">#</a> Using Cursor Attributes with Dynamic SQL</h3>
<p>The SQL cursor attributes  <code>%FOUND</code> ,  <code>%ISOPEN</code> ,  <code>%NOTFOUND</code> , and  <code>%ROWCOUNT</code>  work when you issue an  <code>INSERT</code> ,  <code>UPDATE</code> ,  <code>DELETE</code> , or single-row  <code>SELECT</code>  statement in dynamic SQL:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;DELETE FROM employees WHERE employee_id &gt; 1000&#x27;</span>;</span><br><span class="line">rows_deleted :<span class="operator">=</span> <span class="keyword">SQL</span><span class="operator">%</span>ROWCOUNT;</span><br></pre></td></tr></table></figure>
<p>Likewise, when appended to a cursor variable name, the cursor attributes return information about the execution of a multi-row query:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">OPEN</span> c1 <span class="keyword">FOR</span> <span class="string">&#x27;SELECT * FROM employees&#x27;</span>;</span><br><span class="line"><span class="keyword">FETCH</span> c1 BULK <span class="keyword">COLLECT</span> <span class="keyword">INTO</span> rec_tab;</span><br><span class="line">rows_fetched :<span class="operator">=</span> c1<span class="operator">%</span>ROWCOUNT;</span><br></pre></td></tr></table></figure>
<p>For more information about cursor attributes, see <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvQjEyMDM3XzAxL2FwcGRldi4xMDEvYjEwODA3LzA2X29yYS5odG0jaTQ0OTEz">“Using Cursor Expressions”</span>.</p>
<h3 id="passing-nulls-to-dynamic-sql"><a class="markdownIt-Anchor" href="#passing-nulls-to-dynamic-sql">#</a> Passing Nulls to Dynamic SQL</h3>
<p>The literal  <code>NULL</code>  is not allowed in the  <code>USING</code>  clause. To work around this restriction, replace the keyword  <code>NULL</code>  with an uninitialized variable:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">   a_null <span class="type">CHAR</span>(<span class="number">1</span>); <span class="comment">-- set to NULL automatically at run time</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;UPDATE emp SET comm = :x&#x27;</span> <span class="keyword">USING</span> a_null;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<h3 id="using-database-links-with-dynamic-sql"><a class="markdownIt-Anchor" href="#using-database-links-with-dynamic-sql">#</a> Using Database Links with Dynamic SQL</h3>
<p>PL/SQL subprograms can execute dynamic SQL statements that use database links to refer to objects on remote databases:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PROCEDURE</span> delete_dept (db_link VARCHAR2, dept_id <span class="type">INTEGER</span>) <span class="keyword">IS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;DELETE FROM departments@&#x27;</span> <span class="operator">||</span> db_link <span class="operator">||</span></span><br><span class="line">      <span class="string">&#x27; WHERE deptno = :num&#x27;</span> <span class="keyword">USING</span> dept_id;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p>The targets of remote procedure calls (RPCs) can contain dynamic SQL statements. For example, suppose the following standalone function, which returns the number of rows in a table, resides on the Chicago database:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> row_count (tab_name VARCHAR2) <span class="keyword">RETURN</span> <span class="type">INTEGER</span> <span class="keyword">AS</span></span><br><span class="line">   <span class="keyword">rows</span> <span class="type">INTEGER</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;SELECT COUNT(*) FROM &#x27;</span> <span class="operator">||</span> tab_name <span class="keyword">INTO</span> <span class="keyword">rows</span>;</span><br><span class="line">   <span class="keyword">RETURN</span> <span class="keyword">rows</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p>From an anonymous block, you might call the function remotely, as follows:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">   emp_count <span class="type">INTEGER</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   emp_count :<span class="operator">=</span> row_count<span class="variable">@chicago</span>(<span class="string">&#x27;employees&#x27;</span>);</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<h3 id="using-invoker-rights-with-dynamic-sql"><a class="markdownIt-Anchor" href="#using-invoker-rights-with-dynamic-sql">#</a> Using Invoker Rights with Dynamic SQL</h3>
<p>Dynamic SQL lets you write schema-management procedures that can be centralized in one schema, and can be called from other schemas and operate on the objects in those schemas.</p>
<p>For example, this procedure can drop any kind of database object:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> drop_it (kind <span class="keyword">IN</span> VARCHAR2, name <span class="keyword">IN</span></span><br><span class="line">VARCHAR2)</span><br><span class="line">AUTHID <span class="built_in">CURRENT_USER</span></span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;DROP &#x27;</span> <span class="operator">||</span> kind <span class="operator">||</span> <span class="string">&#x27; &#x27;</span> <span class="operator">||</span> name;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p>Let’s say that this procedure is part of the  <code>HR</code>  schema. Without the  <code>AUTHID</code>  clause, the procedure would always drop objects in the  <code>HR</code>  schema, regardless of who calls it. Even if you pass a fully qualified object name, this procedure would not have the privileges to make changes in other schemas.</p>
<p>The  <code>AUTHID</code>  clause lifts both of these restrictions. It lets the procedure run with the privileges of the user that invokes it, and makes unqualified references refer to objects in that user’s schema.</p>
<p>For details, see <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvQjEyMDM3XzAxL2FwcGRldi4xMDEvYjEwODA3LzA4X3N1YnMuaHRtI2kxODU3NA==">“Using Invoker’s Rights Versus Definer’s Rights (AUTHID Clause)”</span>.</p>
<h3 id="using-pragma-restrict_references-with-dynamic-sql"><a class="markdownIt-Anchor" href="#using-pragma-restrict_references-with-dynamic-sql">#</a> Using Pragma RESTRICT_REFERENCES with Dynamic SQL</h3>
<p>A function called from SQL statements must obey certain rules meant to control side effects. (See <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvQjEyMDM3XzAxL2FwcGRldi4xMDEvYjEwODA3LzA4X3N1YnMuaHRtI2kyMjIwNA==">“Controlling Side Effects of PL/SQL Subprograms”</span>.) To check for violations of the rules, you can use the pragma  <code>RESTRICT_REFERENCES</code> . The pragma asserts that a function does not read or write database tables or package variables. (For more information, See <a target="_blank" rel="noopener" href="https://docs.oracle.com/cd/B12037_01/appdev.101/b10795/toc.htm"><em>Oracle Database Application Developer’s Guide - Fundamentals</em></a>.)</p>
<p>If the function body contains a dynamic  <code>INSERT</code> ,  <code>UPDATE</code> , or  <code>DELETE</code>  statement, the function always violates the rules “write no database state” ( <code>WNDS</code> ) and “read no database state” ( <code>RNDS</code> ). PL/SQL cannot detect those side-effects automatically, because dynamic SQL statements are checked at run time, not at compile time. In an  <code>EXECUTE</code>   <code>IMMEDIATE</code>  statement, only the  <code>INTO</code>  clause can be checked at compile time for violations of  <code>RNDS</code> .</p>
<h3 id="avoiding-deadlocks-with-dynamic-sql"><a class="markdownIt-Anchor" href="#avoiding-deadlocks-with-dynamic-sql">#</a> Avoiding Deadlocks with Dynamic SQL</h3>
<p>In a few situations, executing a SQL data definition statement results in a deadlock. For example, the procedure below causes a deadlock because it attempts to drop itself. To avoid deadlocks, never try to  <code>ALTER</code>  or  <code>DROP</code>  a subprogram or package while you are still using it.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> calc_bonus (emp_id NUMBER) <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> IMMEDIATE <span class="string">&#x27;DROP PROCEDURE calc_bonus&#x27;</span>; <span class="comment">-- deadlock!</span></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<h3 id="backward-compatibility-of-the-using-clause"><a class="markdownIt-Anchor" href="#backward-compatibility-of-the-using-clause">#</a> Backward Compatibility of the USING Clause</h3>
<p>When a dynamic  <code>INSERT</code> ,  <code>UPDATE</code> , or  <code>DELETE</code>  statement has a  <code>RETURNING</code>  clause, output bind arguments can go in the  <code>RETURNING</code>   <code>INTO</code>  clause or the  <code>USING</code>  clause. In new applications, use the  <code>RETURNING</code>   <code>INTO</code>  clause. In old applications, you can continue to use the  <code>USING</code>  clause.</p>

      <div class="tags">
          <a href="/tags/db/" rel="tag"><i class="ic i-tag"></i> db</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2020-08-13 18:33:06" itemprop="dateModified" datetime="2020-08-13T18:33:06+08:00">2020-08-13</time>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2020/08/13/rust-question/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicljitigmj20zk0m87fp.jpg" title="Rust Question">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Rust Question</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2020/08/17/python-setattr-dict/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexbei4hj20zk0m8npd.jpg" title="python setattr and dict update">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>python setattr and dict update</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#performing-sql-operations-with-native-dynamic-sql"><span class="toc-number">1.</span> <span class="toc-text"> Performing SQL Operations with Native Dynamic SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#why-use-dynamic-sql"><span class="toc-number">1.1.</span> <span class="toc-text"> Why Use Dynamic SQL?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#building-a-dynamic-query-with-dynamic-sql"><span class="toc-number">1.2.</span> <span class="toc-text"> Building a Dynamic Query with Dynamic SQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#examples-of-dynamic-sql-for-records-objects-and-collections"><span class="toc-number">1.3.</span> <span class="toc-text"> Examples of Dynamic SQL for Records, Objects, and Collections</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#guidelines-for-dynamic-sql"><span class="toc-number">1.4.</span> <span class="toc-text"> Guidelines for Dynamic SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#when-to-use-or-omit-the-semicolon-with-dynamic-sql"><span class="toc-number">1.4.1.</span> <span class="toc-text"> When to Use or Omit the Semicolon with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#improving-performance-of-dynamic-sql-with-bind-variables"><span class="toc-number">1.4.2.</span> <span class="toc-text"> Improving Performance of Dynamic SQL with Bind Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#passing-schema-object-names-as-parameters"><span class="toc-number">1.4.3.</span> <span class="toc-text"> Passing Schema Object Names As Parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-duplicate-placeholders-with-dynamic-sql"><span class="toc-number">1.4.4.</span> <span class="toc-text"> Using Duplicate Placeholders with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-cursor-attributes-with-dynamic-sql"><span class="toc-number">1.4.5.</span> <span class="toc-text"> Using Cursor Attributes with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#passing-nulls-to-dynamic-sql"><span class="toc-number">1.4.6.</span> <span class="toc-text"> Passing Nulls to Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-database-links-with-dynamic-sql"><span class="toc-number">1.4.7.</span> <span class="toc-text"> Using Database Links with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-invoker-rights-with-dynamic-sql"><span class="toc-number">1.4.8.</span> <span class="toc-text"> Using Invoker Rights with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-pragma-restrict_references-with-dynamic-sql"><span class="toc-number">1.4.9.</span> <span class="toc-text"> Using Pragma RESTRICT_REFERENCES with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#avoiding-deadlocks-with-dynamic-sql"><span class="toc-number">1.4.10.</span> <span class="toc-text"> Avoiding Deadlocks with Dynamic SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#backward-compatibility-of-the-using-clause"><span class="toc-number">1.4.11.</span> <span class="toc-text"> Backward Compatibility of the USING Clause</span></a></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="江边鸟"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">江边鸟</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">248</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">32</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xoY2hlbjc0" title="https:&#x2F;&#x2F;github.com&#x2F;lhchen74"><i class="ic i-github"></i></span>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span>
      <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>About</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a>
  </li>

    
  <li class="item">
    <a href="/links/" rel="section"><i class="ic i-magic"></i>links</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2020/08/13/rust-question/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2020/08/17/python-setattr-dict/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2021</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">江边鸟 @ Dew's World</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2020/08/13/oracel-dynamic-sql/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
