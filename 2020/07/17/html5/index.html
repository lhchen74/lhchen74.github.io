



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="露の世" href="https://lhchen74.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="露の世" href="https://lhchen74.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="露の世" href="https://lhchen74.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="html" />


<link rel="canonical" href="https://lhchen74.github.io/2020/07/17/html5/">



  <title>
Html5 |
D E W = 露の世</title>
<meta name="generator" content="Hexo 5.4.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Html5
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2020-07-17 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2020-07-17T00:00:00+08:00">2020-07-17</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">D E W</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclgi503lj20zk0m8hdt.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipetlbztpj20zk0m84qp.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeu7txpzj20zk0m81kx.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeyhsblkj20zk0m81kx.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicliwyw55j20zk0m8hdt.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://lhchen74.github.io/2020/07/17/html5/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="江边鸟">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="露の世">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly9ib29rLmFwZWxhbmQuY24vZGV0YWlscy80ODkvIyVFNiU5NiVCMCVFNyU5QSU4NCVFNiU5MyU4RCVFNCVCRCU5QyVFNiU5NiVCOSVFNiVCMyU5NQ==">路飞学城 - 学习文档</span></p>
</blockquote>
<h3 id="html5-简介"><a class="markdownIt-Anchor" href="#html5-简介">#</a> HTML5 简介</h3>
<p>HTML5 是 HTML 最新的修订版版，2014 年 10 月由 W3C 完成标准制定。它的设计的目的是为了在移动设备上支持多媒体。并且 HTML5 简单易学。</p>
<h4 id="什么是-html5"><a class="markdownIt-Anchor" href="#什么是-html5">#</a> 什么是 HTML5</h4>
<p>HTML5 是下一代标准。HTML4.01 的上个版本诞生于 1999 年，HTML5 目前为止仍然处于完善之中。然而，大部分现代浏览器已经具备了某些 HTML5 支持</p>
<h4 id="html5-有趣的新特性"><a class="markdownIt-Anchor" href="#html5-有趣的新特性">#</a> HTML5 有趣的新特性</h4>
<ul>
<li>用于媒体播放的 video 和 audio 元素</li>
<li>新的特殊内容元素：比如 <code>article</code> , <code>footer</code> , <code>header</code> , <code>nav</code> , <code>section</code></li>
<li>新的表单控件：比如 <code>calendar</code> 、 <code>date</code> 、 <code>time</code> 、 <code>email</code> 、 <code>url</code> 、 <code>search</code></li>
<li>2D/3D 绘图 &amp; 效果</li>
<li>支持对本地离线存储</li>
</ul>
<h4 id="html5-的文档声明"><a class="markdownIt-Anchor" href="#html5-的文档声明">#</a> HTML5 的文档声明</h4>
<p>&lt;!doctype&gt; 声明必须位于 HTML5 文档中的第一行，使用非常简单:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>之前我们所编写的网页其实都是 HTML5 的文档，为了向后兼容。如果我们编写 HTML4 的文档声明，那么就可能不会兼容 HTML5 的新的标签支持。</p>
<h4 id="html5-浏览器支持"><a class="markdownIt-Anchor" href="#html5-浏览器支持">#</a> HTML5 浏览器支持</h4>
<p>最新版本的五个主流浏览器都支持某些 HTML5 特性，IE9 以上浏览器支持 HTML5 新特性。但是 IE8 以下的浏览器不支持</p>
<p>IE8 以下 (包含 IE8) 以下版本浏览器兼容 HTML5 的方法，我们必须使用 htmlshiv 垫片包，让其支持 HTML5 新特性</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if lt IE 9]&gt;</span></span><br><span class="line"><span class="comment">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">&lt;![endif]--&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="html5-新标签"><a class="markdownIt-Anchor" href="#html5-新标签">#</a> HTML5 新标签</h3>
<h4 id="8-个新语义元素和新属性"><a class="markdownIt-Anchor" href="#8-个新语义元素和新属性">#</a> 8 个新语义元素和新属性</h4>
<p><code>header</code> , <code>section</code> , <code>footer</code> , <code>aside</code> , <code>nav</code> , <code>main</code> , <code>article</code> , <code>figure</code>  所有的这些元素都是<strong>块级</strong>元素</p>
<h5 id="所有的标签都支持-html5-新属性"><a class="markdownIt-Anchor" href="#所有的标签都支持-html5-新属性">#</a> 所有的标签都支持 HTML5 新属性</h5>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
<th>浏览器支持性</th>
</tr>
</thead>
<tbody>
<tr>
<td>contenteditable</td>
<td>规定是否可编辑元素的内容</td>
<td>All</td>
</tr>
<tr>
<td>contextmenu</td>
<td>指定一个元素的上下文菜单。当用户右击该元素，出现上下文菜单</td>
<td>只有 Firefox 浏览器支持</td>
</tr>
<tr>
<td>data-*</td>
<td>嵌入自定义数据</td>
<td>All</td>
</tr>
<tr>
<td>draggable</td>
<td>规定元素是否可拖动。链接和图像默认是可拖动的。经常用它实现拖放操作</td>
<td>ie8 以下浏览器都支持，其它不支持</td>
</tr>
<tr>
<td>hidden</td>
<td>规定对元素进行隐藏。如果使用该属性，则会隐藏元素，隐藏的元素不会被显示，可以通过 js 来设置 hidden 属性为 true, 使得元素变得可见</td>
<td>All</td>
</tr>
</tbody>
</table>
<h5 id="1nav-标签"><a class="markdownIt-Anchor" href="#1nav-标签">#</a> 1.nav 标签</h5>
<p><code>&lt;nav&gt;</code>  标签定义导航链接的部分。</p>
<p>并不是所有的 HTML 文档都要使用到 <code>&lt;nav&gt;</code>  元素。 <code>&lt;nav&gt;</code>  元素只是作为标注一个导航链接的区域。</p>
<p>比如之前 HTML4 中我们定义导航的时候通常都这样写</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>python<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>linux<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>web前端<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Go<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>通过 HTML5 的 <code>nav</code>  标签我们可以这样表示：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>python<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>linux<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>web前端<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Go<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702121619942.png" alt=""></p>
<h5 id="2header-标签"><a class="markdownIt-Anchor" href="#2header-标签">#</a> 2.header 标签</h5>
<p><code>header</code>  标签定义文档的头部区域，它是作为网页的头部介绍内容或者是导航链接栏的容器。在一个文档中，你可以定义多个 <code>header</code>  元素</p>
<blockquote>
<p>注意：header 标签不能被放在 <code>footer</code> 、 <code>address</code>  或者另一个 <code>header</code>  元素内部</p>
</blockquote>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702121522178.png" alt=""></p>
<h5 id="3main-标签"><a class="markdownIt-Anchor" href="#3main-标签">#</a> 3.main 标签</h5>
<p>标签规定文档的主要内容。一个文档中只有一个 main 元素。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702122038020.png" alt=""></p>
<p>你会发现，把整个文档作为了主要内容。</p>
<h5 id="4aside-标签"><a class="markdownIt-Anchor" href="#4aside-标签">#</a> 4.aside 标签</h5>
<p><code>aside</code>  标签定义 <code>article</code>  标签外的内容。aside 的内容应该与附近的内容相关</p>
<p>比如像稀土掘金网站上</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702121436193.png" alt=""></p>
<h5 id="5section-标签"><a class="markdownIt-Anchor" href="#5section-标签">#</a> 5.section 标签</h5>
<p>section 标签定义了文档的某个区域。比如章节、头部、顶部或者文档的其他区域</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>小猿圈重大新闻<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        本阶段讲解HTML5+CSS3部分，下个阶段老师开始做直播课。欢迎大家光临。小猿圈上的视频全部免费</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>比如这个网站 aside 侧边栏中定制了三个 section<br>
<img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702122333918.png" alt=""></p>
<h5 id="6article-标签"><a class="markdownIt-Anchor" href="#6article-标签">#</a> 6.article 标签</h5>
<p>定义页面独立的内容。必须是独立于文档的其余部分。</p>
<p>article 通常都应用在：</p>
<ul>
<li>论坛帖子</li>
<li>博客文档</li>
<li>新闻故事</li>
<li>评论</li>
</ul>
<h5 id="7figure-标签"><a class="markdownIt-Anchor" href="#7figure-标签">#</a> 7.figure 标签</h5>
<p><code>figure</code>  标签规定独立的流内容 (图像、图标、照片、代码等)</p>
<p><code>figure</code>  元素的内容应该与主内容有关，同时元素的位置相对于主内容是独立的。如果被删除，则不应对文档流产生影响。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;flower.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;My 女神&quot;</span> <span class="attr">width</span>=<span class="string">&quot;304&quot;</span> <span class="attr">height</span>=<span class="string">&quot;228&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>我的女神照<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="8footer-标签"><a class="markdownIt-Anchor" href="#8footer-标签">#</a> 8.footer 标签</h5>
<p>定义文档或者文档一部分区域的页脚。该元素会包含文档闯作业的姓名、文档的版权信息、使用条款的链接、联系信息等等。在一个文档中，可以定义多个 footer。</p>
<p>比如小猿圈的底部就是用 footer</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702141520625.png" alt=""></p>
<h4 id="其它的新语义化标签"><a class="markdownIt-Anchor" href="#其它的新语义化标签">#</a> 其它的新语义化标签</h4>
<h5 id="mark"><a class="markdownIt-Anchor" href="#mark">#</a> mark</h5>
<p>高亮文本标签</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">mark</span>&gt;</span> 元素用于 <span class="tag">&lt;<span class="name">mark</span>&gt;</span>高亮<span class="tag">&lt;/<span class="name">mark</span>&gt;</span> 文本<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="progress"><a class="markdownIt-Anchor" href="#progress">#</a> progress</h5>
<p>用来显示一项任务的完成进度。</p>
<p>属性：</p>
<ul>
<li>max 最大值</li>
<li>value 当前进度</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">value</span>=<span class="string">&quot;70&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span>&gt;</span>70 %<span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="address"><a class="markdownIt-Anchor" href="#address">#</a> address</h5>
<p>个人或者某个组织的联系信息等等</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:jim@rock.com&quot;</span>&gt;</span>mjj67890@163.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tel:+13115552368&quot;</span>&gt;</span>(311) 555-2368<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>以上标签都是我们在网页中常见到的。还有很少可以在网页中见到的 HTML5 新标签。在这里我就不一一赘述了。大家可以参考这个链接去查阅相关资料：<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvR3VpZGUvSFRNTC9IVE1MNS9IVE1MNV9lbGVtZW50X2xpc3Q=">新标签</span></p>
<h4 id="新的表单特性"><a class="markdownIt-Anchor" href="#新的表单特性">#</a> 新的表单特性</h4>
<p>HTML5 新增了新的表单元素</p>
<ul>
<li>datalist</li>
<li>keygen</li>
<li>output</li>
</ul>
<h5 id="datalist"><a class="markdownIt-Anchor" href="#datalist">#</a> datalist</h5>
<p>该元素规定输入域的选项列表。规定了 form 或 input 应该拥有自动完成功能，都能够用户在自动完成域中开始输入是，浏览器应该在该域中显示填写的选项：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">list</span>=<span class="string">&quot;class&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;class&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;hello world&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;hello web&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;hello Go&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;hello python&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：input 中的 list 跟 datalist 中的 id 必须关联。</p>
</blockquote>
<h5 id="kegen了解"><a class="markdownIt-Anchor" href="#kegen了解">#</a> kegen (了解)</h5>
<p>是提供一种验证用户的可靠方法，当提交表达时，会生成两个键，一个是私钥，一个是公钥。</p>
<p>私钥存储于客户端，公钥则被发送给服务器。公钥可用于之后验证用户的客户端证书</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;hello.asp&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usr_name&quot;</span>&gt;</span></span><br><span class="line">加密: <span class="tag">&lt;<span class="name">keygen</span> <span class="attr">name</span>=<span class="string">&quot;security&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="output"><a class="markdownIt-Anchor" href="#output">#</a> output</h5>
<p>用于不同类型的输出，比如计算或脚本输出</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">oninput</span>=<span class="string">&quot;x.value=parseInt(a.value)+parseInt(b.value)&quot;</span>&gt;</span>0</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span> <span class="attr">value</span>=<span class="string">&quot;50&quot;</span>&gt;</span>100 +</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">id</span>=<span class="string">&quot;b&quot;</span> <span class="attr">value</span>=<span class="string">&quot;50&quot;</span>&gt;</span>=</span><br><span class="line"><span class="tag">&lt;<span class="name">output</span> <span class="attr">name</span>=<span class="string">&quot;x&quot;</span> <span class="attr">for</span>=<span class="string">&quot;a b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">output</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="html5-新的表单属性"><a class="markdownIt-Anchor" href="#html5-新的表单属性">#</a> HTML5 新的表单属性</h4>
<h5 id="form-新属性"><a class="markdownIt-Anchor" href="#form-新属性">#</a> form 新属性</h5>
<p><strong>autocomplete 属性</strong></p>
<p>此属性规定 form 或 input 应该拥有自动完成功能</p>
<p>当用户在自动完成域中开始输入时，浏览器应该在该域中显示填写的选项</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;on&quot;</span>&gt;</span></span><br><span class="line">    用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usr_name&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>当刷新网页，再次输入内容，查看效果</p>
<p><strong>novalidate 属性</strong></p>
<p>是一个布尔值，当为 true 时，表示规定在提交表单时，不应该验证 form 或 input 域</p>
<p>如果给 input 的 type 改成 email。则我们在输入邮箱时通常自动验证。如图所示</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702154639700.png" alt=""></p>
<p>如果将 form 设置此属性，则可以直接提交。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;on&quot;</span> <span class="attr">novalidate</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usr_name&quot;</span> &gt;</span></span><br><span class="line">    email: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="input-新属性"><a class="markdownIt-Anchor" href="#input-新属性">#</a> input 新属性</h5>
<p><strong>autofocus 属性</strong></p>
<p>在页面加载时，是否自动获得焦点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户名: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;usr_name&quot; autofocus&gt;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702155007003.png" alt=""></p>
<p><strong>formaction 属性</strong></p>
<p>该属性用于描述表单提交的 URL 地址。会覆盖 form 元素中的 action 属性。该属性用于 <code>type='submit'</code> 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;on&quot;</span> <span class="attr">novalidate</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usr_name&quot;</span> <span class="attr">autofocus</span>&gt;</span></span><br><span class="line">    email: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&#x27;提交到当前服务器&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">formaction</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">value</span>=<span class="string">&#x27;提交到百度服务器&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>formenctype 属性</strong></p>
<p>该属性描述了表单提交到服务器的数据编码 (只对 form 表单中 method=’post‘表单)</p>
<p>第一个提交按钮已默认编码发送表单数据，第二个提交按钮以 “multipart/form-data” 编码格式发送表单数据:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;on&quot;</span> <span class="attr">novalidate</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&#x27;post&#x27;</span>&gt;</span></span><br><span class="line">    用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usr_name&quot;</span> <span class="attr">autofocus</span>&gt;</span></span><br><span class="line">    email: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&#x27;提交到当前服务器&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">formenctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">value</span>=<span class="string">&quot;以 Multipart/form-data 提交&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>formmethod 属性</strong></p>
<p>formmethod 属性定义了表单提交的方式。</p>
<p>formmethod 属性覆盖了  <code>&lt;form&gt;</code>  元素的 method 属性。</p>
<p><strong>注意:</strong> 该属性可以与 type=”submit” 和 type=”image” 配合使用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;on&quot;</span> <span class="attr">novalidate</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&#x27;get&#x27;</span>&gt;</span></span><br><span class="line">    用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usr_name&quot;</span> <span class="attr">autofocus</span>&gt;</span></span><br><span class="line">    email: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&#x27;get提交&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">method</span>= <span class="string">&#x27;post&#x27;</span> <span class="attr">formenctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">value</span>=<span class="string">&quot;post提交&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>formnovalidate 属性</strong></p>
<p>novalidate 属性是一个 boolean 属性.</p>
<p>novalidate 属性描述了  <code>&lt;input&gt;</code>  元素在表单提交时无需被验证。</p>
<p>formnovalidate 属性会覆盖  <code>&lt;form&gt;</code>  元素的 novalidate 属性.</p>
<p><strong>注意:</strong> formnovalidate 属性与 type=”submit 一起使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    E-mail: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">formnovalidate</span> <span class="attr">value</span>=<span class="string">&quot;不验证提交&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>formtarget 属性</strong></p>
<p>formtarget 属性指定一个名称或一个关键字来指明表单提交数据接收后的展示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    密码: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">formtarget</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交到一个新的页面上&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>height 和 width 属性</strong></p>
<p>定义一个图像提交按钮，使用 width 和 height 属性</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img_submit.gif&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30&quot;</span> <span class="attr">height</span>=<span class="string">&quot;30&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702160933241.png" alt=""></p>
<p><strong>list 属性</strong></p>
<p>规定输入域的 datalist。datalist 是输入域的选项列表。前面有介绍</p>
<p><strong>multiple 属性</strong></p>
<p>规定 <code>input</code>  元素可以选择多个值。适用于像 input 标签：file</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">上传多个文件:选择图片:&lt;input type&#x3D;&#39;file&#39; name&#x3D; &#39;img&#39; multiple&gt;</span><br></pre></td></tr></table></figure>
<p><strong>pattern 属性</strong></p>
<p>描述了一个正则表达式用于验证 <code>input</code>  元素的值</p>
<p>注意：适用于以下类型 <code>input</code>  标签:text,search,url,tel,email,passworld</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    请输入正确的账号:</span><br><span class="line">    &lt;input</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        style=&quot;width: 200px;&quot;</span><br><span class="line">        placeholder=&quot;由字母,数字,下划线 组成,以字母开头 4-16位&quot;</span><br><span class="line">        pattern=&quot;^[a-zA-Z]\w&#123;3,15&#125;$&quot;</span><br><span class="line">        title=&quot;输入的账号不合法&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190702162408170.png" alt=""></p>
<p><strong>required 属性</strong></p>
<p>规定必须在提交之前输入框不能为空。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户名: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;usrname&quot; required&gt;</span><br></pre></td></tr></table></figure>
<h5 id="新的-input-类型"><a class="markdownIt-Anchor" href="#新的-input-类型">#</a> 新的 input 类型</h5>
<p>HTML5 拥有多个表单的输入类型。这些新特性提供了更好的输入控制和验证</p>
<p>新的输入类型</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">color : 取色</span><br><span class="line">date : 日期选择器</span><br><span class="line">datetime ：选择UTC时间</span><br><span class="line">datetime-local: 选择一个日期和时间(无时区)</span><br><span class="line">email：提交表单时。自动验证email的值是否有效</span><br><span class="line">month：选择月份</span><br><span class="line">number:输入数值</span><br><span class="line">range：包含一定范围内数字值的输入域</span><br><span class="line">search:搜索域</span><br><span class="line">tel:输入电话号码字段</span><br><span class="line">time:选择一个时间</span><br><span class="line">url:输入包含URL地址</span><br><span class="line">week:选择周和年</span><br></pre></td></tr></table></figure>
<h3 id="htm5-中的-api"><a class="markdownIt-Anchor" href="#htm5-中的-api">#</a> HTM5 中的 API</h3>
<h4 id="新的操作方法"><a class="markdownIt-Anchor" href="#新的操作方法">#</a> 新的操作方法</h4>
<h5 id="1获取元素的方法"><a class="markdownIt-Anchor" href="#1获取元素的方法">#</a> 1. 获取元素的方法</h5>
<p>获取单个元素，参数可以是我们任意的选择器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.querySelect(&#x27;选择器&#x27;);</span><br></pre></td></tr></table></figure>
<p>获取多个元素，参数是任意的选择器</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.querySelectAll(&#x27;选择器&#x27;);</span><br></pre></td></tr></table></figure>
<h5 id="2类的操作"><a class="markdownIt-Anchor" href="#2类的操作">#</a> 2. 类的操作</h5>
<p><strong>添加类</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv.classList.add(&#x27;类名&#x27;);</span><br></pre></td></tr></table></figure>
<p><strong>移除类</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv.classList.remove(&#x27;类名&#x27;);</span><br></pre></td></tr></table></figure>
<p><strong>检测类</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv.classList.contains(&#x27;类名&#x27;);</span><br></pre></td></tr></table></figure>
<p><strong>切换类</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv.classList.toggle(&#x27;类名&#x27;);//有则删除，无则添加</span><br></pre></td></tr></table></figure>
<h5 id="3自定义属性"><a class="markdownIt-Anchor" href="#3自定义属性">#</a> 3. 自定义属性</h5>
<p>我们可以通过 <code>data-自定义属性名</code> 来给元素添加自定义的属性名。一旦添加完成之后。通过 JS 可以获取以及设置自定义属性。</p>
<p>比如定义一个 <code>data-test</code>  属性名</p>
<p><strong>获取自定义的属性名</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv.dataset.test</span><br></pre></td></tr></table></figure>
<p><strong>设置自定义属性</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv.dataset.自定义属性名 = 值</span><br></pre></td></tr></table></figure>
<h4 id="文件读取"><a class="markdownIt-Anchor" href="#文件读取">#</a> 文件读取</h4>
<p>读取文件，首先先得将文件上传，可以通过 input 的 type 为 file 的表单控件实现</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>其次，通过 FileReader 读取文件。读取完文件之后，会将结果存储在 result 属性中，而不是直接返回</p>
<h5 id="filereader-常用方法"><a class="markdownIt-Anchor" href="#filereader-常用方法">#</a> FileReader 常用方法</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.readAsBinaryString: 将文件读取为二进制编码</span><br><span class="line">2.readAsDataURL: 将文件读取为DataURL</span><br><span class="line">3.readAsText:将文件读取为文本</span><br></pre></td></tr></table></figure>
<h5 id="filereader-提供的事件"><a class="markdownIt-Anchor" href="#filereader-提供的事件">#</a> FileReader 提供的事件</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.onabort</span><br><span class="line">读取文件中断时触发</span><br><span class="line">2.onerror</span><br><span class="line">读取文件出错时触发</span><br><span class="line">3.onload</span><br><span class="line">读取文件完成时触发，只在读取成功后触发</span><br><span class="line">4.onloadend</span><br><span class="line">读取文件完成时触发，无论读取成功或失败都会触发</span><br><span class="line">5.onloadstart</span><br><span class="line">读取文件开始时触发</span><br><span class="line">6.onprogress</span><br><span class="line">正在读取文件</span><br></pre></td></tr></table></figure>
<h5 id="读取文件实例"><a class="markdownIt-Anchor" href="#读取文件实例">#</a> 读取文件实例</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>read file<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> input = <span class="built_in">document</span>.querySelector(<span class="string">&quot;input&quot;</span>);</span></span><br><span class="line"><span class="javascript">    input.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 获取到文件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> file = <span class="built_in">this</span>.files[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 创建读取器</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 开始读取</span></span></span><br><span class="line">        reader.readAsText(file);</span><br><span class="line"><span class="javascript">        <span class="comment">// 文件读取完成后，获取读取的结果</span></span></span><br><span class="line"><span class="javascript">        reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(reader.result);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="获取网络状态"><a class="markdownIt-Anchor" href="#获取网络状态">#</a> 获取网络状态</h4>
<p><code>window.navigator.onlione</code>  返回浏览器的网络状态。联网状态返回 true, 断网状态时返回 false。</p>
<p><strong>实例代码</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>network status<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 获取当前网络状态</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> state = <span class="built_in">window</span>.navigator.onLine;</span></span><br><span class="line">    if (state) &#123;</span><br><span class="line"><span class="javascript">        alert(<span class="string">&quot;联网状态&quot;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&quot;断网状态&quot;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="地理位置定位"><a class="markdownIt-Anchor" href="#地理位置定位">#</a> 地理位置定位</h4>
<p>地理位置 api 允许用户向 web 应用程序提供他们的位置。处于隐私考虑，报告地理位置前会先请求用户许可</p>
<h5 id="geolocation-对象"><a class="markdownIt-Anchor" href="#geolocation-对象">#</a> geolocation 对象</h5>
<p>地理位置 API 通过 <code>navigator.geolocation</code>  提供</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(navigator.geolocation)&#123;</span><br><span class="line">    /*地理位置服务可用*/    </span><br><span class="line">&#125;else&#123;</span><br><span class="line">    /*地理位置服务不可用*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获取当前定位"><a class="markdownIt-Anchor" href="#获取当前定位">#</a> 获取当前定位</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if(navigator.geolocation)&#123;</span><br><span class="line">    /*地理位置服务可用*/</span><br><span class="line">    navigator.geolocation.getCurrentPosition(function(postion)&#123;</span><br><span class="line">        position.coords.latitude;//经度</span><br><span class="line">        position.coords.longitude;//纬度</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    /*地理位置服务不可用*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>据我最近测试，目前原生获取经纬的度的方法已不起作用，多次测试，猜测可能导致的问题是因为国内对浏览器定位有限制。</p>
<h5 id="百度地图定位"><a class="markdownIt-Anchor" href="#百度地图定位">#</a> 百度地图定位</h5>
<p>所以，为了实现定位，我们还是用第三方的好啊。比如 <span class="exturl" data-url="aHR0cDovL2xic3l1bi5iYWlkdS5jb20vaW5kZXgucGhwP3RpdGxlPWpzcG9wdWxhcjMuMA==">百度地图开发平台</span>，真的！！这个平台上想要什么都有。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;initial-scale=1.0, user-scalable=no&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span>, <span class="selector-tag">html</span>,<span class="selector-id">#allmap</span> &#123;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">100%</span>;<span class="attribute">overflow</span>: hidden;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">font-family</span>:<span class="string">&quot;微软雅黑&quot;</span>;&#125;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://api.map.baidu.com/api?v=2.0&amp;ak=您的密钥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>地图展示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;allmap&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 百度地图API功能</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> map = <span class="keyword">new</span> BMap.Map(<span class="string">&quot;allmap&quot;</span>);    <span class="comment">// 创建Map实例</span></span></span><br><span class="line"><span class="javascript">    map.centerAndZoom(<span class="keyword">new</span> BMap.Point(<span class="number">116.404</span>, <span class="number">39.915</span>), <span class="number">11</span>);  <span class="comment">// 初始化地图,设置中心点坐标和地图级别</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//添加地图类型控件</span></span></span><br><span class="line"><span class="javascript">    map.addControl(<span class="keyword">new</span> BMap.MapTypeControl(&#123;</span></span><br><span class="line">        mapTypes:[</span><br><span class="line">            BMAP_NORMAL_MAP,</span><br><span class="line">            BMAP_HYBRID_MAP</span><br><span class="line">        ]&#125;));      </span><br><span class="line"><span class="javascript">    map.setCurrentCity(<span class="string">&quot;北京&quot;</span>);          <span class="comment">// 设置地图显示的城市 此项是必须设置的</span></span></span><br><span class="line"><span class="javascript">    map.enableScrollWheelZoom(<span class="literal">true</span>);     <span class="comment">//开启鼠标滚轮缩放</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果显示:</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190704114429773.png" alt=""></p>
<blockquote>
<p>注意：一定要去申请自己的密钥。</p>
</blockquote>
<p>注册该网站完成之后，去这<span class="exturl" data-url="aHR0cDovL2xic3l1bi5iYWlkdS5jb20vYXBpY29uc29sZS9rZXkvY3JlYXRl">申请密钥</span></p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190704114633680.png" alt=""></p>
<p>在这提供了大量的<span class="exturl" data-url="aHR0cDovL2xic3l1bi5iYWlkdS5jb20vaW5kZXgucGhwP3RpdGxlPXdlYmFwaQ=="> Web 服务 API</span></p>
<p>百度地图 Web 服务 API 为开发者提供 http/https 接口，即开发者通过 http/https 形式发起检索请求，获取返回 json 或 xml 格式的检索数据。用户可以基于此开发 JavaScript、C#、C++、Java 等语言的地图应用。</p>
<p>不过下面的服务都是一些接口。目前我们没有学习 Ajax 技术。大家可以关注一下这个技术。非常重要的。等咱们学到 Ajax 技术之后我们就可以使用此些服务。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190704114838543.png" alt=""></p>
<h4 id="本地存储"><a class="markdownIt-Anchor" href="#本地存储">#</a> 本地存储</h4>
<p>HTML5 web 存储，一个比 cookie 更好的本地存储方式。</p>
<p>随着互联网的快速发展，基于网页的应用越来越普遍，同时也变得越来越复杂。为了满足各种各样的需求，会经常在本地存储大量的数据，传统方式我们会以 document.cookie 来进行存储，但是由于其存储大小只有 4k 左右，并且解析也相当的复杂，给开发带来诸多不便，HTML5 规范提出解决方案，使用 sessionStorage 和 localStorage 存储数据</p>
<h5 id="localstorage"><a class="markdownIt-Anchor" href="#localstorage">#</a> localStorage</h5>
<p>特点：</p>
<ol>
<li>永久存储</li>
<li>多窗口共享</li>
<li>容量大约为 20M</li>
</ol>
<h6 id="常用方法"><a class="markdownIt-Anchor" href="#常用方法">#</a> 常用方法</h6>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">window.localStorage.setItem(key,value); //设置存储的内容</span><br><span class="line">window.localStorage.getItem(key); //获取内容</span><br><span class="line">window.localStorage.removeItem(key);//删除内容</span><br><span class="line">window.localStorage.clear(); //清空内容</span><br></pre></td></tr></table></figure>
<h5 id="sessionstorage"><a class="markdownIt-Anchor" href="#sessionstorage">#</a> sessionStorage</h5>
<ol>
<li>生命周期为关闭当前浏览器窗口</li>
<li>可以在同一个窗口下访问</li>
<li>数据大小为 5M 左右</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.sessionStorage.setItem(key,value); //设置存储的内容</span><br><span class="line">window.sessionStorage.getItem(key); //获取内容</span><br><span class="line">window.sessionStorage.removeItem(key);//删除内容</span><br></pre></td></tr></table></figure>
<h4 id="音频-audio"><a class="markdownIt-Anchor" href="#音频-audio">#</a> 音频 audio</h4>
<p>HTML5 提供了播放音频文件的标准。直到现在，仍然不存在在网页上播放音频的标准。今天，大多数音频都是通过插件 (比如 Flash) 来播放的。然而，并非所有浏览器都拥有同样的插件。</p>
<h5 id="音频-audio-2"><a class="markdownIt-Anchor" href="#音频-audio-2">#</a> 音频 audio</h5>
<h5 id="基本使用"><a class="markdownIt-Anchor" href="#基本使用">#</a> 基本使用</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;my.mp3&quot;</span> <span class="attr">type</span>=<span class="string">&quot;audio/mp3&quot;</span> /&gt;</span></span><br><span class="line">    您的刘看齐不支持audio元素</span><br><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/17/image-20190702171528902.png" alt=""></p>
<ul>
<li>controls 属性添加音频的控件，播放、暂停和音量控件</li>
<li>autoplay: 使音频自动播放</li>
<li>loop: 使音频自动重复播放</li>
</ul>
<p>在 <code>&lt;audio&gt;</code>  与 <code>&lt;/audio&gt;</code>  之间插入浏览器不支持的提示文本。 <code>audio</code>  元素允许使用多个 <code>source</code>  标签， <code>source</code>  标签可以链接不同的音频文件，浏览器将使用第一个支持的音频文件。</p>
<h5 id="浏览器支持"><a class="markdownIt-Anchor" href="#浏览器支持">#</a> 浏览器支持</h5>
<p>目前，此标签支持三种音视频格式文件：MP3/Wav 和 Ogg;</p>
<table>
<thead>
<tr>
<th>浏览器</th>
<th>MP3</th>
<th>Wav</th>
<th>Ogg</th>
</tr>
</thead>
<tbody>
<tr>
<td>Internet Explorer 9+</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>Chrome 6+</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
<tr>
<td>Firefox 3.6+</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
<tr>
<td>Safari 5+</td>
<td>YES</td>
<td>YES</td>
<td>NO</td>
</tr>
<tr>
<td>Opera 10+</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
</tbody>
</table>
<p>同样，audio 可以配合 JS 来实现自己的音乐播放器</p>
<p>大家可以参考 MDN <code>video</code>  和 <code>audio</code>  标签的相关事件：<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvR3VpZGUvRXZlbnRzL01lZGlhX2V2ZW50cw==">媒体对象相关事件</span>，<span class="exturl" data-url="aHR0cDovL3d3dy53M3NjaG9vbC5jb20uY24vdGFncy9odG1sX3JlZl9hdWRpb192aWRlb19kb20uYXNw">DOM 相关事件</span></p>
<h5 id="纯-js-实现古风音乐播放器"><a class="markdownIt-Anchor" href="#纯-js-实现古风音乐播放器">#</a> 纯 js 实现古风音乐播放器</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>音乐播放器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btns-bg&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;PlayEy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;Btn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;Play&quot;</span>&gt;</span></span><br><span class="line">                &lt;audio</span><br><span class="line">                    id=&quot;audios&quot;</span><br><span class="line">                    src=&quot;http://music.163.com/song/media/outer/url?id=504924216.mp3&quot;</span><br><span class="line">                &gt;<span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>style.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-repeat</span>:no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>:<span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">../img/page-bg.png</span>);</span><br><span class="line">    <span class="attribute">background-size</span>:<span class="number">100%</span> auto;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#efebcb</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.PlayEy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:center;</span><br><span class="line">    <span class="attribute">align-items</span>:center;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">653px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">653px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">../img/bg_circle.png</span>), <span class="built_in">url</span>(<span class="string">../img/bg_center.png</span>) no-repeat center;</span><br><span class="line">    <span class="attribute">background-size</span>:<span class="number">100%</span> % auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Btn</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:center;</span><br><span class="line">    <span class="attribute">align-items</span>:center;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">95px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">95px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#ff0</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">../img/btn-bg.png</span>) no-repeat;</span><br><span class="line">    <span class="attribute">animation</span>:Btn-bg <span class="number">3s</span> linear infinite</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Play</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">29px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">background</span>:red;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">../img/pause.png</span>) no-repeat;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">5s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btns-bg</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:center;</span><br><span class="line">    <span class="attribute">align-items</span>:center;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">30px</span> auto;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">653px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">653px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> Btn-bg &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">360deg</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>script.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> oPlayEy = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;PlayEy&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> oPlay = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;Play&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> audios = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;audios&#x27;</span>);</span><br><span class="line">oPlay.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> seii = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        (i == <span class="number">360</span>) ? i = <span class="number">0</span>: i++;</span><br><span class="line">        oPlayEy.style.transform = <span class="string">&quot;rotate(&quot;</span> + i + <span class="string">&quot;deg)&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (audios.paused) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(seii)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">    <span class="keyword">if</span> (audios.paused) &#123;</span><br><span class="line">        audios.play();</span><br><span class="line">        oPlay.style.backgroundImage = <span class="string">&quot;url(img/play.png)&quot;</span>;</span><br><span class="line">        oPlay.style.width = <span class="number">32</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        oPlay.style.height = <span class="number">32</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        audios.pause();</span><br><span class="line">        oPlay.style.backgroundImage = <span class="string">&quot;url(img/pause.png)&quot;</span>;</span><br><span class="line">        oPlay.style.width = <span class="number">29</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        oPlay.style.height = <span class="number">36</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="视频-video"><a class="markdownIt-Anchor" href="#视频-video">#</a> 视频 video</h4>
<h5 id="基本使用-2"><a class="markdownIt-Anchor" href="#基本使用-2">#</a> 基本使用</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> <span class="attr">height</span>=<span class="string">&quot;&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;Hero.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;Hero.ogv&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/ogg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;Hero.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">当前浏览器不支持 video直接播放</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/17/image-20190702174917166.png" alt=""></p>
<p><video>  元素提供了 播放、暂停和音量控件来控制视频。</p>
<p>同时 <code>&lt;video&gt;</code>  元素也提供了 width 和 height 属性控制视频的尺寸。如果设置的高度和宽度，所需的视频空间会在页面加载时保留。如果没有设置这些属性，浏览器不知道大小的视频，浏览器就不能再加载时保留特定的空间，页面就会根据原始视频的大小而改变。</p>
<p><video>  与</video>  标签之间插入的内容是提供给不支持 video 元素的浏览器显示的。<br>
<video>  元素支持多个  <source>  元素. <source>  元素可以链接不同的视频文件。浏览器将使用第一个可识别的格式。</p>
<h5 id="浏览器支持-2"><a class="markdownIt-Anchor" href="#浏览器支持-2">#</a> 浏览器支持</h5>
<table>
<thead>
<tr>
<th>浏览器</th>
<th>MP4</th>
<th>WebM</th>
<th>Ogg</th>
</tr>
</thead>
<tbody>
<tr>
<td>Internet Explorer</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>Chrome</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
<tr>
<td>Firefox</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
<tr>
<td>Safari</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>Opera</td>
<td>YES (从 Opera 25 起)</td>
<td>YES</td>
<td>YES</td>
</tr>
</tbody>
</table>
<h5 id="简单视频的-dom-操作"><a class="markdownIt-Anchor" href="#简单视频的-dom-操作">#</a> 简单视频的 DOM 操作</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;playOrStop&quot;</span>&gt;</span>播放/暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> <span class="attr">height</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;Hero.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;Hero.ogv&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/ogg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;Hero.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">            当前浏览器不支持 video直接播放</span><br><span class="line">        <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> playOrStop  = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;playOrStop&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> video  = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;video&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.dir(video);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.dir(playOrStop);</span></span><br><span class="line"><span class="javascript">            playOrStop.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(video.paused);</span></span><br><span class="line">                if(video.paused)&#123;</span><br><span class="line">                    video.play();</span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line">                    video.pause();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="html5-实现调用摄像头"><a class="markdownIt-Anchor" href="#html5-实现调用摄像头">#</a> HTML5 实现调用摄像头</h4>
<p>要想实现调用摄像头，使用了 html5 的 <code>getUserMedia()</code> API</p>
<p>代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;video&quot;</span> <span class="attr">autoplay</span> <span class="attr">style</span>=<span class="string">&quot;width: 480px;height: 320px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;capture&quot;</span>&gt;</span>拍照<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 展示拍摄的照片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;480&quot;</span> <span class="attr">height</span>=<span class="string">&quot;320&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 1.获取标签</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> video = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;video&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> capture = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;capture&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>).getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 调用媒体对象</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 参数为constraints 一个约束对象  是video还是audio</span></span></span><br><span class="line">                navigator.mediaDevices.getUserMedia(&#123;</span><br><span class="line">                    video: &#123;</span><br><span class="line">                        width: 480,</span><br><span class="line">                        height: 320</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">stream</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取到window.URL对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> URL = <span class="built_in">window</span>.URL || <span class="built_in">window</span>.webkitURL;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 创建一个video的url字符串</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">try</span> &#123;</span></span><br><span class="line">                        video.src = URL.createObjectURL(stream);</span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line">                        video.srcObject = stream;</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    <span class="comment">// 视频播放</span></span></span><br><span class="line">                    video.play();</span><br><span class="line"><span class="javascript">                &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(err);</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">                <span class="comment">// 点击拍照按钮事件</span></span></span><br><span class="line"><span class="javascript">                capture.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                    ctx.drawImage(video,0,0,480,320);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="canvas-画布"><a class="markdownIt-Anchor" href="#canvas-画布">#</a> Canvas 画布</h3>
<h4 id="基本用法"><a class="markdownIt-Anchor" href="#基本用法">#</a> 基本用法</h4>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;150&quot;</span> <span class="attr">height</span>=<span class="string">&quot;150&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;canvas&gt;</code>  看起来跟 <code>img</code>  标签有点像，唯一不同的是它没有 src 属性和 alt 属性。实际上，canvas 标签只有两个属性: <code>width</code>  和 <code>height</code> 。</p>
<p>如果没有设置宽度和高度，默认的 canvas 会初始化 <code>width：300px,height:150px</code></p>
<h5 id="渲染上下文对象"><a class="markdownIt-Anchor" href="#渲染上下文对象">#</a> 渲染上下文对象</h5>
<p><code>canvas</code>  标签创造了一个固定大小的画布，它有一个或者多个<strong>渲染上下文对象</strong>，用它可以绘制和处理要展示的内容。接下来我们把注意力放在 2D 渲染上下文中。</p>
<p>canvas 起初是空白的。为了展示，首先脚本需要找到渲染上下文，然后在它的上面绘制。 <code>canvas</code>  元素有一个叫做  <code>getContext()</code>  的方法，这个方法是用来获得渲染上下文和它的绘画功能。 <code>getContext()</code>  只有一个参数，上下文的格式。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var canvas = document.getElementById(&#x27;myCanvas&#x27;);//获取绘画上下文对象var ctx =</span><br><span class="line">canvas.getContext(&#x27;2d&#x27;);</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703092814320.png" alt=""></p>
<h4 id="绘制形状"><a class="markdownIt-Anchor" href="#绘制形状">#</a> 绘制形状</h4>
<p>在这里你将学会如何绘制矩形、三角形、直线、圆弧和曲线。如果想绘制比较复杂的图形，我们需要掌握路径。</p>
<h5 id="栅格了解"><a class="markdownIt-Anchor" href="#栅格了解">#</a> 栅格 (了解)</h5>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703093242883_85zZ35d.png" alt=""></p>
<h5 id="绘制矩形常用-api"><a class="markdownIt-Anchor" href="#绘制矩形常用-api">#</a> 绘制矩形常用 API</h5>
<p>绘制一个填充的矩形</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fillRect(x,y,width,height);</span><br></pre></td></tr></table></figure>
<p>绘制一个矩形的边框</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strokeRect(x, y, width, height)</span><br></pre></td></tr></table></figure>
<p>清除指定矩形区域，让清除部分完全透明。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clearRect(x, y, width, height)</span><br></pre></td></tr></table></figure>
<p>上面提供的方法之中每个都包含了相同的参数。x 和 y 指定了 canvas 画布上所绘制的矩形的左上角 (相对于原点) 的坐标。width 和 height 设置矩形的尺寸。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        &lt;canvas</span><br><span class="line">            id=&quot;myCanvas&quot;</span><br><span class="line">            width=&quot;300&quot;</span><br><span class="line">            height=&quot;300&quot;</span><br><span class="line">            style=&quot;border:1px solid #666;&quot;</span><br><span class="line">        &gt;<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&quot;myCanvas&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line">            ctx.fillRect(25, 25, 100, 100);</span><br><span class="line">            ctx.clearRect(45, 45, 60, 60);</span><br><span class="line">            ctx.strokeRect(50, 50, 50, 50);</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果显示:</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703094320517.png" alt=""></p>
<h5 id="填充颜色和描边颜色设置"><a class="markdownIt-Anchor" href="#填充颜色和描边颜色设置">#</a> 填充颜色和描边颜色设置</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var canvas = document.getElementById(&#x27;myCanvas&#x27;);</span><br><span class="line">var ctx = canvas.getContext(&#x27;2d&#x27;);</span><br><span class="line">ctx.fillStyle = &#x27;red&#x27;;//填充颜色</span><br><span class="line">ctx.strokeStyle = &#x27;green&#x27;;//描边颜色</span><br></pre></td></tr></table></figure>
<h4 id="使用路径绘制图形"><a class="markdownIt-Anchor" href="#使用路径绘制图形">#</a> 使用路径绘制图形</h4>
<p>图形的基本元素是路径。路径是通过不同颜色和宽度的线段或曲线相连形成的不同形状的点的集合。一个路径，甚至一个子路径，都是闭合的。使用路径绘制图形我们需要做以下几步。</p>
<ol>
<li><strong>创建路径起始点</strong></li>
<li><strong>使用画布的各种方法划出路径</strong></li>
<li><strong>然后把路径封闭</strong></li>
<li><strong>一旦路径生成，你就能通过描边或填充路径区域来渲染图形</strong></li>
</ol>
<h5 id="绘制路径常用-api"><a class="markdownIt-Anchor" href="#绘制路径常用-api">#</a> 绘制路径常用 api</h5>
<h6 id="beginpath"><a class="markdownIt-Anchor" href="#beginpath">#</a> beginPath()</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">新建一条路径，生成之后，图形绘制api被指向到路径上生成路径。无参数</span><br></pre></td></tr></table></figure>
<h6 id="closepath"><a class="markdownIt-Anchor" href="#closepath">#</a> closePath()</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">闭合路径之后图形绘制api又重新指向了上下文中</span><br></pre></td></tr></table></figure>
<h6 id="stroke"><a class="markdownIt-Anchor" href="#stroke">#</a> stroke()</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过线条来绘制图形轮廓</span><br></pre></td></tr></table></figure>
<h6 id="fill"><a class="markdownIt-Anchor" href="#fill">#</a> fill()</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过填充路径的内容区域生成实心的图形</span><br></pre></td></tr></table></figure>
<h6 id="movetoxy"><a class="markdownIt-Anchor" href="#movetoxy">#</a> moveTo(x,y)</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:将画笔移动到指定的坐标x以及y上</span><br></pre></td></tr></table></figure>
<p>当 canvas 初始化或者 <code>beginPath()</code>  调用后，你通常会使用 <code>moveTo()</code>  函数设置起点。我们也能够使用 <code>moveTo()</code>  绘制一些不连续的路径</p>
<h6 id="linetoxy"><a class="markdownIt-Anchor" href="#linetoxy">#</a> lineTo(x,y)</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:绘制直线，绘制一条从当前位置到指定x以及y位置的直线</span><br></pre></td></tr></table></figure>
<p>该方法有两个参数：x 以及 y ，代表坐标系中直线结束的点。开始点和之前的绘制路径有关，之前路径的结束点就是接下来的开始点，等等。。。开始点也可以通过 <code>moveTo()</code>  函数改变。</p>
<p>看个例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border:1px solid #666;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;myCanvas&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 填充三角形</span></span></span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(25, 25);</span><br><span class="line">            ctx.lineTo(105, 25);</span><br><span class="line">            ctx.lineTo(25, 105);</span><br><span class="line">            ctx.fill();</span><br><span class="line"><span class="javascript">            <span class="comment">// 描边三角形</span></span></span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(125, 125);</span><br><span class="line">            ctx.lineTo(125, 45);</span><br><span class="line">            ctx.lineTo(45, 125);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.stroke();</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示：<br>
<img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703103427898.png" alt=""></p>
<h6 id="arc"><a class="markdownIt-Anchor" href="#arc">#</a> arc()</h6>
<p>绘制圆弧或者圆</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arc(x,y,radius,startAngle,endAngle,anticlockwise);</span><br></pre></td></tr></table></figure>
<p>圆心在 (x, y) 位置，半径为 radius ，根据 anticlockwise （默认为顺时针）指定的方向从 startAngle 开始绘制，到 endAngle 结束。</p>
<p>anticlockwise: 可选的，布尔值，如果为 true，逆时针绘制圆弧，反之，顺时针绘制</p>
<p><strong>笑脸例子</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border:1px solid #666;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;myCanvas&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line">            ctx.beginPath();</span><br><span class="line"><span class="javascript">            ctx.arc(<span class="number">75</span>, <span class="number">75</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">true</span>); <span class="comment">// 绘制</span></span></span><br><span class="line">            ctx.moveTo(110, 75);</span><br><span class="line"><span class="javascript">            ctx.arc(<span class="number">75</span>, <span class="number">75</span>, <span class="number">35</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI, <span class="literal">false</span>); <span class="comment">// 口(顺时针)</span></span></span><br><span class="line">            ctx.moveTo(65, 65);</span><br><span class="line"><span class="javascript">            ctx.arc(<span class="number">60</span>, <span class="number">65</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">true</span>); <span class="comment">// 左眼</span></span></span><br><span class="line">            ctx.moveTo(95, 65);</span><br><span class="line"><span class="javascript">            ctx.arc(<span class="number">90</span>, <span class="number">65</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">true</span>); <span class="comment">// 右眼</span></span></span><br><span class="line">            ctx.stroke();</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703104809071.png" alt=""></p>
<h6 id="quadraticcurvetocp1xcp1yxy"><a class="markdownIt-Anchor" href="#quadraticcurvetocp1xcp1yxy">#</a> quadraticCurveTo(cp1x,cp1y,x,y)</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">绘制二次贝塞尔曲线,cp1x,cp1y为一个控制点，x,y为结束点</span><br></pre></td></tr></table></figure>
<h6 id="beziercurvetocp1x-cp1y-cp2x-cp2y-x-y"><a class="markdownIt-Anchor" href="#beziercurvetocp1x-cp1y-cp2x-cp2y-x-y">#</a> bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">绘制三次贝塞尔曲线，cp1x,cp1y为控制点一，cp2x,cp2y为控制点二，x,y为结束点。</span><br></pre></td></tr></table></figure>
<p>看图：<br>
<img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703102603167.png" alt=""></p>
<p>参数 x、y 在两个方法中都是结束点坐标。cp1x,cp1y 为坐标的第一个控制点 (上图中的红色点)，cp2x,cp2y 为坐标中的第二个控制点</p>
<p><strong>二次贝赛尔曲线绘制对话气泡</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        &lt;canvas</span><br><span class="line">            id=&quot;myCanvas&quot;</span><br><span class="line">            width=&quot;300&quot;</span><br><span class="line">            height=&quot;300&quot;</span><br><span class="line">            style=&quot;border:1px solid #666;&quot;</span><br><span class="line">        &gt;<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&quot;myCanvas&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(75, 25);</span><br><span class="line">            ctx.quadraticCurveTo(25, 25, 25, 62.5);</span><br><span class="line">            ctx.quadraticCurveTo(25, 100, 50, 100);</span><br><span class="line">            ctx.quadraticCurveTo(50, 120, 30, 125);</span><br><span class="line">            ctx.quadraticCurveTo(60, 120, 65, 100);</span><br><span class="line">            ctx.quadraticCurveTo(125, 100, 125, 62.5);</span><br><span class="line">            ctx.quadraticCurveTo(125, 25, 75, 25);</span><br><span class="line">            ctx.stroke();</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示:</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/15/image-20190703103214627.png" alt=""></p>
<p>三次贝塞尔曲线绘制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;三次贝塞尔曲线 ctx.beginPath(); ctx.moveTo(75,40); ctx.bezierCurveTo(75,37,70,25,50,25); ctx.bezierCurveTo(20,25,20,62.5,20,62.5); ctx.bezierCurveTo(20,80,40,102,75,120); ctx.bezierCurveTo(110,102,130,80,130,62.5); ctx.bezierCurveTo(130,62.5,130,25,100,25); ctx.bezierCurveTo(85,25,75,37,75,40); ctx.fill();</span><br></pre></td></tr></table></figure>
<p>效果展示:</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703105124830.png" alt=""></p>
<h6 id="rectxywidthheight"><a class="markdownIt-Anchor" href="#rectxywidthheight">#</a> rect(x,y,width,height)</h6>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">绘制矩形</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：当你调用 fill () 函数时，所有没有闭合的形状都会自动闭合，所以你需要调用 closePath () 函数。但是调用 stroke () 时不会自动闭包</p>
</blockquote>
<h4 id="样式和颜色"><a class="markdownIt-Anchor" href="#样式和颜色">#</a> 样式和颜色</h4>
<ul>
<li>fillStyle = color: 设置图形的填充颜色</li>
<li>strokeStyle = color: 设置图形边框的颜色</li>
<li>globalAlpha : 设置透明度值，取值范围为 0~1 之间的数值</li>
<li>lineWidth = value: 设置线条宽度，数值无单位</li>
<li>lineCap = type 设置线段末端的样式
<ul>
<li>type:butt 默认值，方形</li>
<li>type:round 圆形</li>
<li>type:square 以方形结束，但是增加一个宽度和线段相同，宽度是线段宽度一半的矩形区域</li>
</ul>
</li>
<li>lineJoin = type: 设定线条和线条连接的样式
<ul>
<li>type:round 通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状。 圆角的半径是线段的宽度。</li>
<li>type:bevel 在相连部分的末端填充一个额外的以三角形为底的区域， 每个部分都有各自独立的矩形拐角。</li>
<li>type: miter 通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域</li>
</ul>
</li>
</ul>
<h4 id="绘制文本"><a class="markdownIt-Anchor" href="#绘制文本">#</a> 绘制文本</h4>
<p>canvas 提供了两种方法来渲染文本</p>
<ul>
<li><code>filleText(text,x,y,[,maxWidth])</code></li>
</ul>
<p>在指定的 (x,y) 位置填充指定的文本，绘制的最大宽度是可选的</p>
<ul>
<li><code>strokeText(text,x,y,[,maxWidth])</code></li>
</ul>
<p>在指定的 (x,y) 位置绘制文本边框，绘制的最大宽度是可选的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px solid #666;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 设置字体大小和字体</span></span></span><br><span class="line"><span class="javascript">            ctx.font = <span class="string">&#x27;30px 微软雅黑&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            ctx.fillText(<span class="string">&#x27;hello world&#x27;</span>,<span class="number">50</span>,<span class="number">50</span>);</span></span><br><span class="line"><span class="javascript">            ctx.strokeText(<span class="string">&#x27;hello world&#x27;</span>,<span class="number">50</span>,<span class="number">80</span>);</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703111440124.png" alt=""></p>
<h5 id="有样式的文本"><a class="markdownIt-Anchor" href="#有样式的文本">#</a> 有样式的文本</h5>
<ul>
<li><code>font = value</code></li>
</ul>
<p>当前我们用来绘制文本的样式。这个字符串使用和  <code>CSS font</code>  属性相同的语法。默认的字体是  <code>10px sans-serif</code> 。</p>
<ul>
<li><code>textAlign = value</code></li>
</ul>
<p>文本对齐选项。可选的值包括： <code>start</code> ,  <code>end</code> ,  <code>left</code> ,  <code>right</code>  or  <code>center</code> . 默认值是  <code>start</code> 。</p>
<ul>
<li><code>textBaseline = value</code></li>
</ul>
<p>基线对齐选项。可选的值包括： <code>top</code> ,  <code>hanging</code> ,  <code>middle</code> ,  <code>alphabetic</code> ,  <code>ideographic</code> ,  <code>bottom</code> 。默认值是  <code>alphabetic。</code></p>
<ul>
<li><code>direction = value</code></li>
</ul>
<p>文本方向。可能的值包括： <code>ltr</code> ,  <code>rtl</code> ,  <code>inherit</code> 。默认值是  <code>inherit。</code></p>
<h4 id="使用图片"><a class="markdownIt-Anchor" href="#使用图片">#</a> 使用图片</h4>
<p>canvas 更有意思的一项特性就是图像操作能力。可以用于动态的图像合成或者作为图形的背景，以及游戏界面（Sprites）等等。浏览器支持的任意格式的外部图片都可以使用，比如 PNG、GIF 或者 JPEG。 你甚至可以将同一个页面中其他 canvas 元素生成的图片作为图片源。</p>
<p>引入图像到 canvas 里需要以下两步基本操作：</p>
<ol>
<li>获得一个指向 <code>HTMLImageElement</code>  的对象或者另一个 canvas 元素的引用作为源，也可以通过提供一个 URL 的方式来使用图片</li>
<li>使用 <code>drawImage()</code>  函数将图片绘制到画布上</li>
</ol>
<h5 id="核心方法"><a class="markdownIt-Anchor" href="#核心方法">#</a> 核心方法</h5>
<p><code>drawImage(imgObj,x,y,width,height,dx,dy,dWith,dHeight)</code></p>
<p>其中 imgObj 是 image 或者 canvas 对象，x 和 y 是在 canvas 里的起始坐标。后面两个参数是可选的，默认是当前画布设置的大小。这两个参数用来控制当前 canvas 缩放的大小。</p>
<p>如果是 8 个参数，用来控制做切片显示，前四个参数是定义图像源后的切片位置和大小，后四个参数是定义切片的目标显示的位置和大小</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703121156876.png" alt=""></p>
<p><strong>例子：一个简单的线图</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>).getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span></span><br><span class="line"><span class="javascript">            img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                ctx.drawImage(img, 0, 0);</span><br><span class="line">                ctx.beginPath();</span><br><span class="line">                ctx.moveTo(123, 400);</span><br><span class="line">                ctx.lineTo(198, 350);</span><br><span class="line">                ctx.lineTo(300, 200);</span><br><span class="line">                ctx.lineTo(500, 150);</span><br><span class="line">                ctx.stroke();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            img.src = <span class="string">&#x27;image-20190703114102416.png&#x27;</span>;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703114728769.png" alt=""></p>
<h4 id="状态的保存和恢复"><a class="markdownIt-Anchor" href="#状态的保存和恢复">#</a> 状态的保存和恢复</h4>
<p><code>save()</code></p>
<p>保存画布的所有状态</p>
<p><code>restore()</code></p>
<p>save 和 restore 方法是用来保存和恢复 canvas 状态的。都没有参数。</p>
<p><strong>栗子：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>).getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">150</span>);<span class="comment">//默认绘制一个矩形</span></span></span><br><span class="line"><span class="javascript">                ctx.save();<span class="comment">//保存当前状态</span></span></span><br><span class="line"><span class="javascript">                ctx.fillStyle = <span class="string">&#x27;red&#x27;</span>; <span class="comment">//在原有配置基础上对颜色发生改变</span></span></span><br><span class="line">                ctx.fillRect(15,15,120,120);</span><br><span class="line"><span class="javascript">                ctx.save();<span class="comment">//保存当前状态</span></span></span><br><span class="line"><span class="javascript">                ctx.fillStyle = <span class="string">&#x27;green&#x27;</span>; <span class="comment">//再次改变颜色</span></span></span><br><span class="line"><span class="javascript">                ctx.globalAlpha = <span class="number">0.5</span>; <span class="comment">//改变透明度</span></span></span><br><span class="line"><span class="javascript">                ctx.fillRect(<span class="number">30</span>,<span class="number">30</span>,<span class="number">90</span>,<span class="number">90</span>);<span class="comment">//使用新的配置绘制一个矩形</span></span></span><br><span class="line"><span class="javascript">                ctx.restore(); <span class="comment">//重载之前的颜色状态 (红色)</span></span></span><br><span class="line"><span class="javascript">                ctx.fillRect(<span class="number">45</span>,<span class="number">45</span>,<span class="number">60</span>,<span class="number">60</span>); <span class="comment">//使用上一次的配置绘制一个矩形</span></span></span><br><span class="line"><span class="javascript">                ctx.restore(); <span class="comment">//加载默认的颜色配置</span></span></span><br><span class="line"><span class="javascript">                ctx.fillRect(<span class="number">60</span>,<span class="number">60</span>,<span class="number">30</span>,<span class="number">30</span>); <span class="comment">//使用默认配置绘制矩形</span></span></span><br><span class="line">            &#125;</span><br><span class="line">            draw();</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703141914667.png" alt=""></p>
<h5 id="移动-translate"><a class="markdownIt-Anchor" href="#移动-translate">#</a> 移动 translate</h5>
<p><code>translate(x,y)</code></p>
<p>translate 方法接收两个参数。x 是左右偏移量，y 是上下偏移量。<strong>在做变形之前先保存状态是良好的一个习惯</strong></p>
<p><strong>栗子</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function draw() &#123;</span><br><span class="line">  var ctx = document.getElementById(&#x27;canvas&#x27;).getContext(&#x27;2d&#x27;);</span><br><span class="line">  for (var i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">    for (var j = 0; j &lt; 3; j++) &#123;</span><br><span class="line">      ctx.save();</span><br><span class="line">      ctx.fillStyle = &#x27;rgb(&#x27; + (51 * i) + &#x27;, &#x27; + (255 - 51 * i) + &#x27;, 255)&#x27;;</span><br><span class="line">      ctx.translate(10 + j * 50, 10 + i * 50);</span><br><span class="line">      ctx.fillRect(0, 0, 25, 25);</span><br><span class="line">      ctx.restore();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703143629007.png" alt=""></p>
<h5 id="旋转"><a class="markdownIt-Anchor" href="#旋转">#</a> 旋转</h5>
<p><code>rotate(angle)</code></p>
<p>只接受一个参数：选装的角度。顺时针方向</p>
<h4 id="基本动画"><a class="markdownIt-Anchor" href="#基本动画">#</a> 基本动画</h4>
<p>如何通过 canvas 来制作动画呢？</p>
<p>步骤：</p>
<ol>
<li>
<p><strong>清空 canvas</strong></p>
<p>通过 <code>clearReact()</code>  来清空 canvas，保证自己的画布是干净的</p>
</li>
<li>
<p><strong>保存 canvas 状态</strong></p>
</li>
<li>
<p><strong>绘制动画图形</strong></p>
</li>
<li>
<p><strong>恢复 canvas</strong> 状态</p>
</li>
</ol>
<h5 id="操控动画的方法"><a class="markdownIt-Anchor" href="#操控动画的方法">#</a> 操控动画的方法</h5>
<p><code>setInterval(functuon,delay)</code></p>
<p>在设定好间隔时间后，function 会定期执行</p>
<p><code>setTimeout(function,delay)</code></p>
<p>在设定好的时间之后执行函数</p>
<p><code>requestAnimationFrame(callback)</code></p>
<p>此方法一般每秒钟回到函数执行 60 次。告诉浏览器你希望执行一个动画，并在重绘之前，请求浏览器执行一个特定的函数来更新动画。</p>
<p><strong>做三个案例效果</strong></p>
<p><strong>1. 太阳系动画</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canva&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> sun = <span class="keyword">new</span> Image();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> moon = <span class="keyword">new</span> Image();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> earth = <span class="keyword">new</span> Image();</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 初始化方法 */</span></span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    sun.src = <span class="string">&quot;sun.png&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    moon.src = <span class="string">&quot;moon.png&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    earth.src = <span class="string">&quot;earth.png&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">window</span>.requestAnimationFrame(draw);</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 1.获取上下文</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canva&#x27;</span>).getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                    ctx.globalCompositeOperation = <span class="string">&#x27;destination-over&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 2.清空canvas</span></span></span><br><span class="line">                    ctx.clearRect(0, 0, 500, 500);</span><br><span class="line"><span class="javascript">                    <span class="comment">// 3.设置背景填充色和边框色</span></span></span><br><span class="line"><span class="javascript">                    ctx.fillStyle = <span class="string">&quot;rgba(0,0,0,0.4)&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    ctx.strokeStyle = <span class="string">&quot;rgba(0,153,255,0.4)&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 4.保存状态</span></span></span><br><span class="line">                    ctx.save();</span><br><span class="line"><span class="javascript">                    <span class="comment">// 5.设置位移</span></span></span><br><span class="line">                    ctx.translate(150, 150);</span><br><span class="line"><span class="javascript">                    <span class="comment">// 6.地球</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 6.1 地球选装</span></span></span><br><span class="line"><span class="javascript">                    ctx.rotate(((<span class="number">2</span> * <span class="built_in">Math</span>.PI) / <span class="number">60</span>) * time.getSeconds() + ((<span class="number">2</span> * <span class="built_in">Math</span>.PI) / <span class="number">60000</span>) * time.getMilliseconds());</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 6.2 地球位移</span></span></span><br><span class="line">                    ctx.translate(105, 0);</span><br><span class="line"><span class="javascript">                    <span class="comment">// 6.3 填充图形</span></span></span><br><span class="line"><span class="javascript">                    ctx.fillRect(<span class="number">0</span>, -<span class="number">12</span>, <span class="number">50</span>, <span class="number">24</span>); <span class="comment">// Shadow</span></span></span><br><span class="line">                    ctx.drawImage(earth, -12, -12);</span><br><span class="line"><span class="javascript">                    <span class="comment">// Moon</span></span></span><br><span class="line">                    ctx.save();</span><br><span class="line"><span class="javascript">                    ctx.rotate(((<span class="number">2</span> * <span class="built_in">Math</span>.PI) / <span class="number">6</span>) * time.getSeconds() + ((<span class="number">2</span> * <span class="built_in">Math</span>.PI) / <span class="number">6000</span>) * time.getMilliseconds());</span></span><br><span class="line">                    ctx.translate(0, 28.5);</span><br><span class="line">                    ctx.drawImage(moon,-2.5,-2.5);</span><br><span class="line">                    ctx.restore();</span><br><span class="line"><span class="javascript">                    ctx.restore();<span class="comment">//恢复到初始的状态</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 开始画圆</span></span></span><br><span class="line">                    ctx.beginPath();</span><br><span class="line"><span class="javascript">                    <span class="comment">// 画圆</span></span></span><br><span class="line"><span class="javascript">                    ctx.arc(<span class="number">150</span>, <span class="number">150</span>, <span class="number">105</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">false</span>); <span class="comment">// Earth orbit</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 描边</span></span></span><br><span class="line">                    ctx.stroke();</span><br><span class="line">                    ctx.drawImage(sun, 0, 0, 300, 300);</span><br><span class="line"><span class="javascript">                    <span class="built_in">window</span>.requestAnimationFrame(draw);</span></span><br><span class="line">                &#125;</span><br><span class="line">                init();</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/3.gif" alt=""></p>
<h4 id="高级动画"><a class="markdownIt-Anchor" href="#高级动画">#</a> 高级动画</h4>
<p><strong>制作高级动画小球</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;600&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px solid #000000;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> raf;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> running = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ball = &#123;</span></span><br><span class="line"><span class="javascript">                x: <span class="number">100</span>, <span class="comment">//x坐标</span></span></span><br><span class="line"><span class="javascript">                y: <span class="number">100</span>, <span class="comment">//y坐标</span></span></span><br><span class="line"><span class="javascript">                vx: <span class="number">5</span>, <span class="comment">//x轴方向步伐</span></span></span><br><span class="line"><span class="javascript">                vy: <span class="number">2</span>, <span class="comment">//y轴方向步伐</span></span></span><br><span class="line"><span class="javascript">                radius: <span class="number">25</span>, <span class="comment">//半径</span></span></span><br><span class="line"><span class="javascript">                color: <span class="string">&#x27;blue&#x27;</span>, <span class="comment">//颜色</span></span></span><br><span class="line"><span class="javascript">                drawBall: drawBall <span class="comment">// 画的动作</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 画球的方法</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">drawBall</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                ctx.beginPath();</span><br><span class="line"><span class="javascript">                ctx.arc(<span class="built_in">this</span>.x, <span class="built_in">this</span>.y, <span class="built_in">this</span>.radius, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">true</span>);</span></span><br><span class="line">                ctx.closePath();</span><br><span class="line"><span class="javascript">                ctx.fillStyle = <span class="built_in">this</span>.color;</span></span><br><span class="line">                ctx.fill();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                ctx.fillStyle = <span class="string">&#x27;rgb(255,255,255,0.3)&#x27;</span>;</span></span><br><span class="line">                ctx.fillRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                clear();</span><br><span class="line"><span class="javascript">                <span class="comment">// 之前用clearReact()方法来清除前一帧动画,换成filleReact()方法来实现长尾效果</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// ctx.clearRect(0, 0, canvas.width, canvas.height);</span></span></span><br><span class="line">                ball.drawBall();</span><br><span class="line">                ball.x += ball.vx;</span><br><span class="line">                ball.y += ball.vy;</span><br><span class="line"><span class="javascript">                <span class="comment">// 处理边界</span></span></span><br><span class="line">                if (ball.y + ball.vy &gt; canvas.height || ball.y + ball.vy &lt; 0) &#123;</span><br><span class="line">                    ball.vy = -ball.vy;</span><br><span class="line">                &#125;</span><br><span class="line">                if (ball.x + ball.vx &gt; canvas.width || ball.x + ball.vx &lt; 0) &#123;</span><br><span class="line">                    ball.vx = -ball.vx;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                raf = <span class="built_in">window</span>.requestAnimationFrame(draw);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// canvas.addEventListener(&#x27;mouseover&#x27;, function() &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     raf = window.requestAnimationFrame(draw);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            canvas.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line">                if(!running)&#123;</span><br><span class="line">                    clear();</span><br><span class="line">                    ball.x = e.clientX;</span><br><span class="line">                    ball.y = e.clientY;</span><br><span class="line">                    ball.drawBall();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            canvas.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                if(!running)&#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">window</span>.requestAnimationFrame(draw);</span></span><br><span class="line"><span class="javascript">                    running = <span class="literal">true</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            canvas.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.cancelAnimationFrame(raf);</span></span><br><span class="line"><span class="javascript">                running = <span class="literal">false</span>;</span></span><br><span class="line">            &#125;);</span><br><span class="line">            ball.drawBall();</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果显示:</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/4.gif" alt=""></p>
<h3 id="svg"><a class="markdownIt-Anchor" href="#svg">#</a> SVG</h3>
<p>SVG 是一种基于 XML 语法的图像格式，全称是可缩放矢量图（Scalable Vector Graphics）。其他图像格式都是基于像素处理的，SVG 则是属于对图像的形状描述，所以它本质上是文本文件，体积较小，且不管放大多少倍都不会失真。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703180548964.png" alt=""></p>
<h4 id="语法以及常用标签"><a class="markdownIt-Anchor" href="#语法以及常用标签">#</a> 语法以及常用标签</h4>
<h5 id="1svg-标签"><a class="markdownIt-Anchor" href="#1svg-标签">#</a> 1.svg 标签</h5>
<p>SVG 代码都放在顶层标签 <code>SVG</code>  之中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span> <span class="attr">id</span>=<span class="string">&quot;mycircle&quot;</span> <span class="attr">cx</span>=<span class="string">&quot;50&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;50&quot;</span> <span class="attr">r</span>=<span class="string">&quot;50&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>svg</code>  的 <code>width</code>  属性和 <code>height</code>  属性，指定 SVG 图像在 HTML 元素中所占据的宽度和高度。如果不指定，默认大小是 300px 宽，150px 高</p>
<h5 id="2circle-标签"><a class="markdownIt-Anchor" href="#2circle-标签">#</a> 2.circle 标签</h5>
<p><code>circle</code>  标签代表圆形</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;30&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;50&quot;</span> <span class="attr">r</span>=<span class="string">&quot;25&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;90&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;50&quot;</span> <span class="attr">r</span>=<span class="string">&quot;25&quot;</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;150&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;50&quot;</span> <span class="attr">r</span>=<span class="string">&quot;25&quot;</span> <span class="attr">class</span>=<span class="string">&quot;fancy&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面代码定义了三个圆。 <code>circle</code>  标签 <code>cx</code> , <code>cy</code> , <code>r</code>  属性分别为横坐标、纵坐标和半径，单位为像素。坐标都是相对于 <code>svg</code>  画布的左上角原点。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184136878.png" alt=""></p>
<p><code>class</code>  属性用来指定对应的 css 类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.red &#123;    fill: red;&#125;.fancy &#123;    fill: none;    stroke: black;    stroke-width: 3pt;&#125;</span><br></pre></td></tr></table></figure>
<p>SVG 的 CSS 属性与网页元素有所不同。</p>
<ul>
<li>fill：填充色</li>
<li>stroke：描边色</li>
<li>stroke-width：边框宽度</li>
</ul>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184122130.png" alt=""></p>
<h5 id="3line-标签"><a class="markdownIt-Anchor" href="#3line-标签">#</a> 3.line 标签</h5>
<p><code>line</code>  标签用来绘制直线</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y1</span>=<span class="string">&quot;0&quot;</span> <span class="attr">x2</span>=<span class="string">&quot;200&quot;</span> <span class="attr">y2</span>=<span class="string">&quot;0&quot;</span> <span class="attr">style</span>=<span class="string">&quot;stroke:rgb(0,0,0);stroke-width:5&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>x1：线段起点的横坐标</li>
<li>y1：起点纵坐标</li>
<li>x2： 终点的横坐标</li>
<li>y2：终点的纵坐标</li>
<li>style：线段的样式</li>
</ul>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184106728.png" alt=""></p>
<h5 id="4polyline-标签"><a class="markdownIt-Anchor" href="#4polyline-标签">#</a> 4.polyline 标签</h5>
<p>绘制一根折线</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">polyline</span> <span class="attr">points</span>=<span class="string">&quot;3,3 30,28 3,53&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;none&quot;</span> <span class="attr">stroke</span>=<span class="string">&quot;black&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;polyline&gt;</code>  的 <code>points</code>  属性指定了每个端点的坐标，横坐标与纵坐标之间与逗号分隔，点与点之间用空格分隔。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184032294.png" alt=""></p>
<h5 id="5rect-标签"><a class="markdownIt-Anchor" href="#5rect-标签">#</a> 5.rect 标签</h5>
<p>绘制矩形</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;rect x&#x3D;&quot;0&quot; y&#x3D;&quot;0&quot; height&#x3D;&quot;100&quot; width&#x3D;&quot;200&quot; style&#x3D;&quot;stroke: #70d5dd; fill: #dd524b&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
<p><code>&lt;rect&gt;</code>  的 <code>x</code>  属性和 <code>y</code>  属性，指定了矩形左上角端点的横坐标和纵坐标； <code>width</code>  属性和 <code>height</code>  属性指定了矩形的宽度和高度（单位像素）。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184018489.png" alt=""></p>
<h5 id="6ellipse-标签"><a class="markdownIt-Anchor" href="#6ellipse-标签">#</a> 6.ellipse 标签</h5>
<p>绘制椭圆</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;ellipse</span><br><span class="line">    cx=&quot;60&quot;</span><br><span class="line">    cy=&quot;60&quot;</span><br><span class="line">    ry=&quot;20&quot;</span><br><span class="line">    rx=&quot;40&quot;</span><br><span class="line">    stroke=&quot;black&quot;</span><br><span class="line">    stroke-width=&quot;5&quot;</span><br><span class="line">    fill=&quot;silver&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p><code>&lt;ellipse&gt;</code>  的 <code>cx</code>  属性和 <code>cy</code>  属性，指定了椭圆中心的横坐标和纵坐标（单位像素）； <code>rx</code>  属性和 <code>ry</code>  属性，指定了椭圆横向轴和纵向轴的半径（单位像素）。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184003935.png" alt=""></p>
<h5 id="7polygon-标签"><a class="markdownIt-Anchor" href="#7polygon-标签">#</a> 7.polygon 标签</h5>
<p>绘制多边形</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;polygon</span><br><span class="line">    fill=&quot;green&quot;</span><br><span class="line">    stroke=&quot;orange&quot;</span><br><span class="line">    stroke-width=&quot;1&quot;</span><br><span class="line">    points=&quot;0,0 100,0 100,100 0&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p><code>&lt;polygon&gt;</code>  的 <code>points</code>  属性指定了每个端点的坐标，横坐标与纵坐标之间与逗号分隔，点与点之间用空格分隔。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703183951130.png" alt=""></p>
<h5 id="8path-标签"><a class="markdownIt-Anchor" href="#8path-标签">#</a> 8.path 标签</h5>
<p>制作路径</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;path</span><br><span class="line">    d=&quot;  M 18,3  L 46,3  L 46,40  L 61,40  L 32,68  L 3,40  L 18,40  Z&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;path&gt;</code>  的 <code>d</code>  属性表示绘制顺序，它的值是一个长字符串，每个字母表示一个绘制动作，后面跟着坐标</p>
<ul>
<li>M：移动到（moveto）</li>
<li>L：画直线到（lineto）</li>
<li>Z：闭合路径</li>
</ul>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703183915762.png" alt=""></p>
<h5 id="9text-标签"><a class="markdownIt-Anchor" href="#9text-标签">#</a> 9.text 标签</h5>
<p>绘制文本</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">x</span>=<span class="string">&quot;50&quot;</span> <span class="attr">y</span>=<span class="string">&quot;25&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;text&gt;</code>  的 <code>x</code>  属性和 <code>y</code>  属性，表示文本区块基线（baseline）起点的横坐标和纵坐标。文字的样式可以用 <code>class</code>  或 <code>style</code>  属性指定。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703183854326.png" alt=""></p>
<h5 id="10use-标签"><a class="markdownIt-Anchor" href="#10use-标签">#</a> 10.use 标签</h5>
<p>复制一个形状</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">circle</span> <span class="attr">id</span>=<span class="string">&quot;myCircle&quot;</span> <span class="attr">cx</span>=<span class="string">&quot;5&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;5&quot;</span> <span class="attr">r</span>=<span class="string">&quot;4&quot;</span> /&gt;</span>&lt;use</span><br><span class="line">    href=&quot;#myCircle&quot;</span><br><span class="line">    x=&quot;10&quot;</span><br><span class="line">    y=&quot;0&quot;</span><br><span class="line">    fill=&quot;blue&quot;</span><br><span class="line">/&gt;<span class="tag">&lt;<span class="name">use</span> <span class="attr">href</span>=<span class="string">&quot;#myCircle&quot;</span> <span class="attr">x</span>=<span class="string">&quot;20&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;white&quot;</span> <span class="attr">stroke</span>=<span class="string">&quot;blue&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;use&gt;</code>  的 <code>href</code>  属性指定所要复制的节点， <code>x</code>  属性和 <code>y</code>  属性是 <code>&lt;use&gt;</code>  左上角的坐标。另外，还可以指定 <code>width</code>  和 <code>height</code>  坐标。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703183805232.png" alt=""></p>
<h5 id="11g-标签"><a class="markdownIt-Anchor" href="#11g-标签">#</a> 11.g 标签</h5>
<p>用于将多个形状组成一个组 (group), 方便复用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g</span> <span class="attr">id</span>=<span class="string">&quot;myCircle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">x</span>=<span class="string">&quot;25&quot;</span> <span class="attr">y</span>=<span class="string">&quot;20&quot;</span>&gt;</span>圆形<span class="tag">&lt;/<span class="name">text</span>&gt;</span> <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;50&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;50&quot;</span> <span class="attr">r</span>=<span class="string">&quot;20&quot;</span> /&gt;</span>&lt;/g</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">use</span> <span class="attr">href</span>=<span class="string">&quot;#myCircle&quot;</span> <span class="attr">x</span>=<span class="string">&quot;100&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;blue&quot;</span> /&gt;</span>&lt;use</span><br><span class="line">    href=&quot;#myCircle&quot;</span><br><span class="line">    x=&quot;200&quot;</span><br><span class="line">    y=&quot;0&quot;</span><br><span class="line">    fill=&quot;white&quot;</span><br><span class="line">    stroke=&quot;blue&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703183727008.png" alt=""></p>
<h5 id="12defs-标签"><a class="markdownIt-Anchor" href="#12defs-标签">#</a> 12.defs 标签</h5>
<p>用于自定义形状。它内部的代码不会显示，仅供引用</p>
<h5 id="13image-标签"><a class="markdownIt-Anchor" href="#13image-标签">#</a> 13.image 标签</h5>
<p>用于插入图片文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">xlink:href</span>=<span class="string">&quot;img_submit.gif&quot;</span> <span class="attr">width</span>=<span class="string">&quot;20%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;20%&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;image&gt;</code>  的 <code>xlink:href</code>  属性表示图像的来源。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/image-20190703184914061.png" alt=""></p>
<h5 id="14animate-标签"><a class="markdownIt-Anchor" href="#14animate-标签">#</a> 14.animate 标签</h5>
<p>产生动画效果</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;#feac5e&quot;</span>&gt;</span></span><br><span class="line">    &lt;animate</span><br><span class="line">        attributeName=&quot;x&quot;</span><br><span class="line">        from=&quot;0&quot;</span><br><span class="line">        to=&quot;500&quot;</span><br><span class="line">        dur=&quot;2s&quot;</span><br><span class="line">        repeatCount=&quot;indefinite&quot;</span><br><span class="line">/&gt;<span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>矩形会在水平反向上不断移动，产生动画效果。</p>
<ul>
<li>attributeName：发生动画效果的属性名。</li>
<li>from：单次动画的初始值。</li>
<li>to：单次动画的结束值。</li>
<li>dur：单次动画的持续时间。</li>
<li>repeatCount：动画的循环模式。</li>
</ul>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/5.gif" alt=""></p>
<p>定制多个 animate</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;animate</span><br><span class="line">    attributeName=&quot;x&quot;</span><br><span class="line">    from=&quot;0&quot;</span><br><span class="line">    to=&quot;500&quot;</span><br><span class="line">    dur=&quot;2s&quot;</span><br><span class="line">    repeatCount=&quot;indefinite&quot;</span><br><span class="line">/&gt;<span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">&quot;height&quot;</span> <span class="attr">to</span>=<span class="string">&quot;500&quot;</span> <span class="attr">dur</span>=<span class="string">&quot;2s&quot;</span> <span class="attr">repeatCount</span>=<span class="string">&quot;indefinite&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/6.gif" alt=""></p>
<h5 id="15animatetransform-标签"><a class="markdownIt-Anchor" href="#15animatetransform-标签">#</a> 15.animateTransform 标签</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;250&quot;</span> <span class="attr">y</span>=<span class="string">&quot;250&quot;</span> <span class="attr">width</span>=<span class="string">&quot;50&quot;</span> <span class="attr">height</span>=<span class="string">&quot;50&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;#4bc0c8&quot;</span>&gt;</span></span><br><span class="line">    &lt;animateTransform</span><br><span class="line">        attributeName=&quot;transform&quot;</span><br><span class="line">        type=&quot;rotate&quot;</span><br><span class="line">        begin=&quot;0s&quot;</span><br><span class="line">        dur=&quot;10s&quot;</span><br><span class="line">        from=&quot;0 200 200&quot;</span><br><span class="line">        to=&quot;360 400 400&quot;</span><br><span class="line">        repeatCount=&quot;indefinite&quot;</span><br><span class="line">/&gt;<span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;animateTransform&gt;</code>  的效果为旋转（ <code>rotate</code> ），这时 <code>from</code>  和 <code>to</code>  属性值有三个数字，第一个数字是角度值，第二个值和第三个值是旋转中心的坐标。 <code>from=&quot;0 200 200&quot;</code>  表示开始时，角度为 0，围绕 <code>(200, 200)</code>  开始旋转； <code>to=&quot;360 400 400&quot;</code>  表示结束时，角度为 360，围绕 <code>(400, 400)</code>  旋转。</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/7.gif" alt=""></p>
<p>关于 SVG 其实跟 canvas 差不了多少，都是可以做一下复杂的图形和动画效果。SVG 的入门教学先写到这里。如果有同学在公司用到了 SVG 的高级特效，可以参考 MDN<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvU1ZH">SVG</span>。</p>
<h3 id="拖拽拖放"><a class="markdownIt-Anchor" href="#拖拽拖放">#</a> 拖拽 / 拖放</h3>
<p>拖放 (drap&amp;drop) 在我们平时的工作中，经常遇到。它表示：抓取对象以后拖放到另一个位置。目前，它是 HTML5 标准的一部分。</p>
<h4 id="拖放的基本操作"><a class="markdownIt-Anchor" href="#拖放的基本操作">#</a> 拖放的基本操作</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选中&#x3D;&gt;拖动&#x3D;&gt;释放</span><br></pre></td></tr></table></figure>
<h5 id="选中"><a class="markdownIt-Anchor" href="#选中">#</a> 选中</h5>
<p>在 H5 标准中，为了使元素克拖动，把 <code>draggable</code>  属性设置为 <code>true</code> 。文本、图片和链接式默认可以拖放的，它们的 <code>draggable</code>  属性默认被设置了 true。</p>
<p>图片和链接按住鼠标左键选中，就可以拖放。</p>
<p>文本只有在被选中的情况下才能拖放。如果显示设置为恩本的 <code>draggable</code>  属性为 <code>true</code> , 按住鼠标左边也可以直接拖放。</p>
<p><strong>语法</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">element</span> <span class="attr">draggle</span>=<span class="string">&quot;true|false|auto&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">element</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>true: 可以拖动</li>
<li>false: 禁止拖动</li>
<li>auto: 跟随浏览器定义是否可以拖动</li>
</ul>
<h5 id="拖动"><a class="markdownIt-Anchor" href="#拖动">#</a> 拖动</h5>
<p>每个可拖动的元素，在拖动过程中，都会经历三个过程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">拖动开始&#x3D;&gt;拖动过程中&#x3D;&gt;拖动结束</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>对象</th>
<th>事件名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>被拖动的元素对象</td>
<td>dragstart</td>
<td>在元素开始被拖动时候触发</td>
</tr>
<tr>
<td></td>
<td>drag</td>
<td>在元素被拖动时反复触发</td>
</tr>
<tr>
<td></td>
<td>dragend</td>
<td>在拖动操作完成时触发</td>
</tr>
</tbody>
<tbody>
<tr>
<td>对象</td>
<td>事件名称</td>
<td>描述</td>
</tr>
<tr>
<td>--------</td>
<td>---------</td>
<td>--------------------------------------------</td>
</tr>
<tr>
<td>目标对象</td>
<td>dragenter</td>
<td>当被拖动元素进入目标元素占据的屏幕空间时触发</td>
</tr>
<tr>
<td></td>
<td>dragover</td>
<td>当被拖动元素在目标元素内时触发</td>
</tr>
<tr>
<td></td>
<td>dragleave</td>
<td>当被拖动元素没有放下就离开目标元素时触发</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意:dragenter 和 dragover 事件的默认行为是拒绝接受任何被拖放的元素。因此，我们必须阻止浏览器这种默认行为。e.prevenDefault ();</p>
</blockquote>
<h5 id="释放"><a class="markdownIt-Anchor" href="#释放">#</a> 释放</h5>
<p>到达目的地之后，释放元素事件</p>
<table>
<thead>
<tr>
<th>对象</th>
<th>事件名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>目标对象</td>
<td>drop</td>
<td>当被拖动元素在目标元素里放下时触发，一般需要取消浏览器的默认行为。</td>
</tr>
</tbody>
</table>
<p>看个例子演示每个 API</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>拖放示例-文本<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        #current&#123;</span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        #target&#123;</span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#f00</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .box&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#FF6700</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>不能被拖拽的文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;current&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span>&gt;</span>可拖拽的文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img_submit.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;target&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> text = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;text&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> target = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;target&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            text.ondragstart = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;元素开始被拖动&#x27;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            text.ondrag = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(&#x27;一直被拖拽着&#x27;);</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            text.ondragend = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;拖拽操作完成时触发&#x27;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            target.ondragenter = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;进入了所要的目标对象中&#x27;</span>);</span></span><br><span class="line">                e.preventDefault()</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            target.ondragover = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;在目标元素内触发&#x27;</span>);</span></span><br><span class="line">                e.preventDefault();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            target.ondragleave = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;拖拽着元素没有放下，并离开目标对象时&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// e.preventDefault();</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            target.ondrop = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;被拖拽元素在目标元素里放下是触发&#x27;</span>);</span></span><br><span class="line">                event.preventDefault();</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示:</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/8.gif" alt=""></p>
<p>由上个例子我们可以看出我们确实实现了拖放的功能，猜想：能否让我们拖拽的元素放到指定的目标对象上呢？答案是可以的，如果想实现该功能，就要学一下 <code>DataTransfer</code>  对象了</p>
<h4 id="datatransfer-对象"><a class="markdownIt-Anchor" href="#datatransfer-对象">#</a> DataTransfer 对象</h4>
<p>在进行拖放操作时， <code>DataTransfer</code>  对象用来保存，通过拖放操作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.DataTransfer</span><br></pre></td></tr></table></figure>
<h5 id="方法"><a class="markdownIt-Anchor" href="#方法">#</a> 方法</h5>
<p>【1】 <code>DataTransfer.setData()</code></p>
<p>该方法用来设置拖动操作的当前数据</p>
<p>语法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataTransfer.setData(format,data);</span><br></pre></td></tr></table></figure>
<ul>
<li>format 拖动数据的 MIME 类型，通常 <code>text/plain</code>  和 <code>text/uri-list</code></li>
<li>data 要添加的数据</li>
</ul>
<p>【2】 <code>DataTransfer.getData()</code></p>
<p>接收指定类型的拖放数据。如果拖放行为没有操作任何数据，则返回一个空字符串。返回值是字符串类型</p>
<p>语法:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataTransfer.getData(format);</span><br></pre></td></tr></table></figure>
<ul>
<li>format 拖动数据的 MIME 类型，通常 <code>text/plain</code>  和 <code>text/uri-list</code></li>
</ul>
<p>【3】 <code>DataTransfer.clearData()</code></p>
<p>删除给定类型拖动操作的数据。</p>
<p>【4】 <code>DataTransfer.setDragImage()</code></p>
<p>可以使用该方法来拖拽图片</p>
<p>语法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataTransfer.setDragImage(img,xOffset,yOffset)</span><br></pre></td></tr></table></figure>
<ul>
<li>img: 拖拽图像的当前元素</li>
<li>xOffset : 图片的横向偏移量</li>
<li>yOffset: 图片的纵向偏移量</li>
</ul>
<h4 id="定义拖动效果"><a class="markdownIt-Anchor" href="#定义拖动效果">#</a> 定义拖动效果</h4>
<p><code>dropEffect</code>  属性可以定义完成具体的效果</p>
<p>我们可以定义三种效果：</p>
<ol>
<li><code>copy</code>  表示拖动的数据将从其当前位置复制到放置位置。</li>
<li><code>move</code>  表示拖动的数据将从其当前位置移动到放置位置。</li>
<li><code>link</code>  表示将在源位置和放置位置之间创建某种形式的关系或连接。</li>
</ol>
<h4 id="例子实现复制和移动元素"><a class="markdownIt-Anchor" href="#例子实现复制和移动元素">#</a> 例子：实现复制和移动元素</h4>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            #copy,#move&#123;</span><br><span class="line"><span class="css">                <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            #copyTarget,#moveTarget&#123;</span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#FF0000</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            #newId&#123;</span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">border</span>: <span class="number">1px</span> solid darkcyan;</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>使用拖拽实现移动和复制功能<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span> <span class="attr">id</span>=<span class="string">&quot;copy&quot;</span>&gt;</span>要复制的元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;copyTarget&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span> <span class="attr">id</span>=<span class="string">&quot;move&quot;</span>&gt;</span>要移动的元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;moveTarget&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 复制</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;copy&#x27;</span>).ondragstart = handler_dragstart;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;copy&#x27;</span>).ondragend = handler_dragend;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;copyTarget&#x27;</span>).ondragover = hander_dragover;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;copyTarget&#x27;</span>).ondragleave = handler_dragLeave</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;copyTarget&#x27;</span>).ondrop = handler_drop;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 移动</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;move&#x27;</span>).ondragstart = handler_dragstart;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;move&#x27;</span>).ondragend = handler_dragend;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;moveTarget&#x27;</span>).ondragover = hander_dragover;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;moveTarget&#x27;</span>).ondragleave = handler_dragLeave</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&#x27;moveTarget&#x27;</span>).ondrop = handler_drop;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">handler_dragstart</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">&#x27;拖拽开始&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 设置数据</span></span></span><br><span class="line"><span class="javascript">                    event.dataTransfer.setData(<span class="string">&#x27;text/plain&#x27;</span>, event.target.id);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 设置拖动效果 设置既复制又移动</span></span></span><br><span class="line"><span class="javascript">                    event.effectAllowed = <span class="string">&#x27;copyMove&#x27;</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">handler_dragend</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 拖动操作完成时 清空设置的数据</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// event.target.style.borderColor = &#x27;black&#x27;;</span></span></span><br><span class="line">                    event.dataTransfer.clearData();</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="comment">// 当被拖动元素在目标元素内时触发</span></span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">hander_dragover</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    event.target.style.background = <span class="string">&#x27;lightblue&#x27;</span>;</span></span><br><span class="line">                    event.preventDefault();</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">handler_drop</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line">                    event.preventDefault();</span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取设置的数据</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> id = event.dataTransfer.getData(<span class="string">&#x27;text/plain&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (id === <span class="string">&#x27;copy&#x27;</span> &amp;&amp; event.target.id == <span class="string">&#x27;copyTarget&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> nodeCopy = <span class="built_in">document</span>.getElementById(id).cloneNode(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">                        nodeCopy.id = <span class="string">&#x27;newId&#x27;</span>;</span></span><br><span class="line">                        event.target.appendChild(nodeCopy);</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(id === <span class="string">&#x27;move&#x27;</span> &amp;&amp; event.target.id == <span class="string">&#x27;moveTarget&#x27;</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        event.target.appendChild(<span class="built_in">document</span>.getElementById(id));</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(event.target.children);</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">handler_dragLeave</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    event.target.style.background = <span class="string">&#x27;white&#x27;</span>;</span></span><br><span class="line">                    event.preventDefault();</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">ele</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(ele);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果展示：</p>
<p><img data-src="https://book.apeland.cn/media/images/2019/07/18/9.gif" alt=""></p>
<h4 id="例子实现简单拖拽购物车功能"><a class="markdownIt-Anchor" href="#例子实现简单拖拽购物车功能">#</a> 例子：实现简单拖拽购物车功能</h4>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>使用拖放API将商品拖入购物车<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">font-size</span>: <span class="number">12px</span></span></span><br><span class="line">            &#125;</span><br><span class="line">            .liT &#123;</span><br><span class="line"><span class="css">                <span class="attribute">border-bottom</span>: solid <span class="number">1px</span> <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">font-weight</span>: bold</span></span><br><span class="line">            &#125;</span><br><span class="line">            .liF &#123;</span><br><span class="line"><span class="css">                <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">                <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">list-style-type</span>: none;</span></span><br><span class="line"><span class="css">                <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">106px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">330px</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">68px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">96px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">border</span>: solid <span class="number">1px</span> <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">padding</span>: <span class="number">3px</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">70px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;liF&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image01.png&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img02&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;42&quot;</span> <span class="attr">title</span>=<span class="string">&quot;2006作品&quot;</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;liF&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image02.png&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img03&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;56&quot;</span> <span class="attr">title</span>=<span class="string">&quot;2008作品&quot;</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;liF&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image03.png&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img04&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;52&quot;</span> <span class="attr">title</span>=<span class="string">&quot;2010作品&quot;</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ulCart&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;liT&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>书名<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>定价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>数量<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>总价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line">            pageload();</span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">$$</span>(<span class="params">id</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">               <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(id);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">//自定义页面加载时调用的函数</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">pageload</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取全部的图书商品</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> Drag = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;img&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//遍历每一个图书商品</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> intI = <span class="number">0</span>; intI &lt; Drag.length; intI++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(Drag[intI]);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//为每一个商品添加被拖放元素的dragstart事件</span></span></span><br><span class="line"><span class="javascript">                    Drag[intI].addEventListener(<span class="string">&quot;dragstart&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line">                        e.dataTransfer.clearData();</span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> objDtf = e.dataTransfer;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(objDtf);</span></span><br><span class="line"><span class="javascript">                        objDtf.setData(<span class="string">&quot;text/plain&quot;</span>, addCart(<span class="built_in">this</span>.title, <span class="built_in">this</span>.alt, <span class="number">1</span>));</span></span><br><span class="line"><span class="javascript">                    &#125;,<span class="literal">true</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> Cart = $$(<span class="string">&quot;ulCart&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//添加目标元素的drop事件</span></span></span><br><span class="line"><span class="javascript">               Cart.addEventListener(<span class="string">&quot;drop&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> objDtf = e.dataTransfer;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> strHTML = objDtf.getData(<span class="string">&quot;text/plain&quot;</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> num = top_();</span></span><br><span class="line">                    Cart.innerHTML += strHTML;</span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> lists = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;liC&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lists.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> spans = lists[i].children;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(spans);</span></span><br><span class="line">                        spans[2].innerHTML = num;</span><br><span class="line">                        spans[3].innerHTML = num * spans[1].innerHTML;</span><br><span class="line">                    &#125;</span><br><span class="line">                    e.preventDefault();</span><br><span class="line">                    e.stopPropagation();</span><br><span class="line"><span class="javascript">                &#125;,<span class="literal">false</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">//添加页面的dragover事件</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.ondragover = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//阻止默认方法,取消拒绝被拖放</span></span></span><br><span class="line">                e.preventDefault();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">//添加页面drop事件</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.ondrop = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//阻止默认方法,取消拒绝被拖放</span></span></span><br><span class="line">                e.preventDefault();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">//自定义向购物车中添加记录的函数</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addCart</span>(<span class="params">a, b, c</span>) </span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">                var strHTML = `<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span> = <span class="string">&#x27;liC&#x27;</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>$&#123;a&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;price&quot;</span>&gt;</span>$&#123;b&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;num&quot;</span>&gt;</span>$&#123;c&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sum&quot;</span>&gt;</span>$&#123;b*c&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span>`</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> strHTML;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">//提示输入框</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">top_</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> str = prompt(<span class="string">&quot;请输入要购买的数量&quot;</span>, <span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> str;</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      <div class="tags">
          <a href="/tags/html/" rel="tag"><i class="ic i-tag"></i> html</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2021-10-18 13:27:10" itemprop="dateModified" datetime="2021-10-18T13:27:10+08:00">2021-10-18</time>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2020/07/16/excerpt-poem/" itemprop="url" rel="prev" data-background-image="&#x2F;2020&#x2F;07&#x2F;16&#x2F;excerpt-poem&#x2F;custom_cover.jpg" title="古诗词">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> excerpt</span>
  <h3>古诗词</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2020/07/18/json/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeybxm1pj20zk0m8niv.jpg" title="Json">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Json</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#html5-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text"> HTML5 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-html5"><span class="toc-number">1.1.</span> <span class="toc-text"> 什么是 HTML5</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#html5-%E6%9C%89%E8%B6%A3%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.</span> <span class="toc-text"> HTML5 有趣的新特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#html5-%E7%9A%84%E6%96%87%E6%A1%A3%E5%A3%B0%E6%98%8E"><span class="toc-number">1.3.</span> <span class="toc-text"> HTML5 的文档声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#html5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%AF%E6%8C%81"><span class="toc-number">1.4.</span> <span class="toc-text"> HTML5 浏览器支持</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#html5-%E6%96%B0%E6%A0%87%E7%AD%BE"><span class="toc-number">2.</span> <span class="toc-text"> HTML5 新标签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E4%B8%AA%E6%96%B0%E8%AF%AD%E4%B9%89%E5%85%83%E7%B4%A0%E5%92%8C%E6%96%B0%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.</span> <span class="toc-text"> 8 个新语义元素和新属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%9A%84%E6%A0%87%E7%AD%BE%E9%83%BD%E6%94%AF%E6%8C%81-html5-%E6%96%B0%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.1.</span> <span class="toc-text"> 所有的标签都支持 HTML5 新属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1nav-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.2.</span> <span class="toc-text"> 1.nav 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2header-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.3.</span> <span class="toc-text"> 2.header 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3main-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.4.</span> <span class="toc-text"> 3.main 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4aside-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.5.</span> <span class="toc-text"> 4.aside 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5section-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.6.</span> <span class="toc-text"> 5.section 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6article-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.7.</span> <span class="toc-text"> 6.article 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7figure-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.8.</span> <span class="toc-text"> 7.figure 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8footer-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.1.9.</span> <span class="toc-text"> 8.footer 标签</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E7%9A%84%E6%96%B0%E8%AF%AD%E4%B9%89%E5%8C%96%E6%A0%87%E7%AD%BE"><span class="toc-number">2.2.</span> <span class="toc-text"> 其它的新语义化标签</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mark"><span class="toc-number">2.2.1.</span> <span class="toc-text"> mark</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#progress"><span class="toc-number">2.2.2.</span> <span class="toc-text"> progress</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#address"><span class="toc-number">2.2.3.</span> <span class="toc-text"> address</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E7%9A%84%E8%A1%A8%E5%8D%95%E7%89%B9%E6%80%A7"><span class="toc-number">2.3.</span> <span class="toc-text"> 新的表单特性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#datalist"><span class="toc-number">2.3.1.</span> <span class="toc-text"> datalist</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#kegen%E4%BA%86%E8%A7%A3"><span class="toc-number">2.3.2.</span> <span class="toc-text"> kegen (了解)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#output"><span class="toc-number">2.3.3.</span> <span class="toc-text"> output</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#html5-%E6%96%B0%E7%9A%84%E8%A1%A8%E5%8D%95%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.</span> <span class="toc-text"> HTML5 新的表单属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#form-%E6%96%B0%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.1.</span> <span class="toc-text"> form 新属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#input-%E6%96%B0%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.2.</span> <span class="toc-text"> input 新属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E7%9A%84-input-%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.3.</span> <span class="toc-text"> 新的 input 类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#htm5-%E4%B8%AD%E7%9A%84-api"><span class="toc-number">3.</span> <span class="toc-text"> HTM5 中的 API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95"><span class="toc-number">3.1.</span> <span class="toc-text"> 新的操作方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">3.1.1.</span> <span class="toc-text"> 1. 获取元素的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E7%B1%BB%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.2.</span> <span class="toc-text"> 2. 类的操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="toc-number">3.1.3.</span> <span class="toc-text"> 3. 自定义属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="toc-number">3.2.</span> <span class="toc-text"> 文件读取</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#filereader-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.1.</span> <span class="toc-text"> FileReader 常用方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#filereader-%E6%8F%90%E4%BE%9B%E7%9A%84%E4%BA%8B%E4%BB%B6"><span class="toc-number">3.2.2.</span> <span class="toc-text"> FileReader 提供的事件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.2.3.</span> <span class="toc-text"> 读取文件实例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81"><span class="toc-number">3.3.</span> <span class="toc-text"> 获取网络状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE%E5%AE%9A%E4%BD%8D"><span class="toc-number">3.4.</span> <span class="toc-text"> 地理位置定位</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#geolocation-%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.4.1.</span> <span class="toc-text"> geolocation 对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E5%AE%9A%E4%BD%8D"><span class="toc-number">3.4.2.</span> <span class="toc-text"> 获取当前定位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E5%AE%9A%E4%BD%8D"><span class="toc-number">3.4.3.</span> <span class="toc-text"> 百度地图定位</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8"><span class="toc-number">3.5.</span> <span class="toc-text"> 本地存储</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#localstorage"><span class="toc-number">3.5.1.</span> <span class="toc-text"> localStorage</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.5.1.1.</span> <span class="toc-text"> 常用方法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sessionstorage"><span class="toc-number">3.5.2.</span> <span class="toc-text"> sessionStorage</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91-audio"><span class="toc-number">3.6.</span> <span class="toc-text"> 音频 audio</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91-audio-2"><span class="toc-number">3.6.1.</span> <span class="toc-text"> 音频 audio</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.6.2.</span> <span class="toc-text"> 基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%AF%E6%8C%81"><span class="toc-number">3.6.3.</span> <span class="toc-text"> 浏览器支持</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BA%AF-js-%E5%AE%9E%E7%8E%B0%E5%8F%A4%E9%A3%8E%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-number">3.6.4.</span> <span class="toc-text"> 纯 js 实现古风音乐播放器</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%86%E9%A2%91-video"><span class="toc-number">3.7.</span> <span class="toc-text"> 视频 video</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-2"><span class="toc-number">3.7.1.</span> <span class="toc-text"> 基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%AF%E6%8C%81-2"><span class="toc-number">3.7.2.</span> <span class="toc-text"> 浏览器支持</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%A7%86%E9%A2%91%E7%9A%84-dom-%E6%93%8D%E4%BD%9C"><span class="toc-number">3.7.3.</span> <span class="toc-text"> 简单视频的 DOM 操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#html5-%E5%AE%9E%E7%8E%B0%E8%B0%83%E7%94%A8%E6%91%84%E5%83%8F%E5%A4%B4"><span class="toc-number">3.8.</span> <span class="toc-text"> HTML5 实现调用摄像头</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#canvas-%E7%94%BB%E5%B8%83"><span class="toc-number">4.</span> <span class="toc-text"> Canvas 画布</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text"> 基本用法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.1.1.</span> <span class="toc-text"> 渲染上下文对象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%BD%A2%E7%8A%B6"><span class="toc-number">4.2.</span> <span class="toc-text"> 绘制形状</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%85%E6%A0%BC%E4%BA%86%E8%A7%A3"><span class="toc-number">4.2.1.</span> <span class="toc-text"> 栅格 (了解)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%9F%A9%E5%BD%A2%E5%B8%B8%E7%94%A8-api"><span class="toc-number">4.2.2.</span> <span class="toc-text"> 绘制矩形常用 API</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A1%AB%E5%85%85%E9%A2%9C%E8%89%B2%E5%92%8C%E6%8F%8F%E8%BE%B9%E9%A2%9C%E8%89%B2%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.2.3.</span> <span class="toc-text"> 填充颜色和描边颜色设置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%B7%AF%E5%BE%84%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2"><span class="toc-number">4.3.</span> <span class="toc-text"> 使用路径绘制图形</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E8%B7%AF%E5%BE%84%E5%B8%B8%E7%94%A8-api"><span class="toc-number">4.3.1.</span> <span class="toc-text"> 绘制路径常用 api</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#beginpath"><span class="toc-number">4.3.1.1.</span> <span class="toc-text"> beginPath()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#closepath"><span class="toc-number">4.3.1.2.</span> <span class="toc-text"> closePath()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#stroke"><span class="toc-number">4.3.1.3.</span> <span class="toc-text"> stroke()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#fill"><span class="toc-number">4.3.1.4.</span> <span class="toc-text"> fill()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#movetoxy"><span class="toc-number">4.3.1.5.</span> <span class="toc-text"> moveTo(x,y)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#linetoxy"><span class="toc-number">4.3.1.6.</span> <span class="toc-text"> lineTo(x,y)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#arc"><span class="toc-number">4.3.1.7.</span> <span class="toc-text"> arc()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#quadraticcurvetocp1xcp1yxy"><span class="toc-number">4.3.1.8.</span> <span class="toc-text"> quadraticCurveTo(cp1x,cp1y,x,y)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#beziercurvetocp1x-cp1y-cp2x-cp2y-x-y"><span class="toc-number">4.3.1.9.</span> <span class="toc-text"> bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#rectxywidthheight"><span class="toc-number">4.3.1.10.</span> <span class="toc-text"> rect(x,y,width,height)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E5%BC%8F%E5%92%8C%E9%A2%9C%E8%89%B2"><span class="toc-number">4.4.</span> <span class="toc-text"> 样式和颜色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%96%87%E6%9C%AC"><span class="toc-number">4.5.</span> <span class="toc-text"> 绘制文本</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%89%E6%A0%B7%E5%BC%8F%E7%9A%84%E6%96%87%E6%9C%AC"><span class="toc-number">4.5.1.</span> <span class="toc-text"> 有样式的文本</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87"><span class="toc-number">4.6.</span> <span class="toc-text"> 使用图片</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95"><span class="toc-number">4.6.1.</span> <span class="toc-text"> 核心方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%9A%84%E4%BF%9D%E5%AD%98%E5%92%8C%E6%81%A2%E5%A4%8D"><span class="toc-number">4.7.</span> <span class="toc-text"> 状态的保存和恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8-translate"><span class="toc-number">4.7.1.</span> <span class="toc-text"> 移动 translate</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%8B%E8%BD%AC"><span class="toc-number">4.7.2.</span> <span class="toc-text"> 旋转</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%A8%E7%94%BB"><span class="toc-number">4.8.</span> <span class="toc-text"> 基本动画</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E6%8E%A7%E5%8A%A8%E7%94%BB%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.8.1.</span> <span class="toc-text"> 操控动画的方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%8A%A8%E7%94%BB"><span class="toc-number">4.9.</span> <span class="toc-text"> 高级动画</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#svg"><span class="toc-number">5.</span> <span class="toc-text"> SVG</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.</span> <span class="toc-text"> 语法以及常用标签</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1svg-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.1.</span> <span class="toc-text"> 1.svg 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2circle-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.2.</span> <span class="toc-text"> 2.circle 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3line-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.3.</span> <span class="toc-text"> 3.line 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4polyline-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.4.</span> <span class="toc-text"> 4.polyline 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5rect-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.5.</span> <span class="toc-text"> 5.rect 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6ellipse-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.6.</span> <span class="toc-text"> 6.ellipse 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7polygon-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.7.</span> <span class="toc-text"> 7.polygon 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8path-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.8.</span> <span class="toc-text"> 8.path 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9text-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.9.</span> <span class="toc-text"> 9.text 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10use-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.10.</span> <span class="toc-text"> 10.use 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11g-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.11.</span> <span class="toc-text"> 11.g 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12defs-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.12.</span> <span class="toc-text"> 12.defs 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13image-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.13.</span> <span class="toc-text"> 13.image 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14animate-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.14.</span> <span class="toc-text"> 14.animate 标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15animatetransform-%E6%A0%87%E7%AD%BE"><span class="toc-number">5.1.15.</span> <span class="toc-text"> 15.animateTransform 标签</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%96%E6%8B%BD%E6%8B%96%E6%94%BE"><span class="toc-number">6.</span> <span class="toc-text"> 拖拽 &#x2F; 拖放</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%96%E6%94%BE%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">6.1.</span> <span class="toc-text"> 拖放的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%89%E4%B8%AD"><span class="toc-number">6.1.1.</span> <span class="toc-text"> 选中</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%96%E5%8A%A8"><span class="toc-number">6.1.2.</span> <span class="toc-text"> 拖动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8A%E6%94%BE"><span class="toc-number">6.1.3.</span> <span class="toc-text"> 释放</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#datatransfer-%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.</span> <span class="toc-text"> DataTransfer 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">6.2.1.</span> <span class="toc-text"> 方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%8B%96%E5%8A%A8%E6%95%88%E6%9E%9C"><span class="toc-number">6.3.</span> <span class="toc-text"> 定义拖动效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90%E5%AE%9E%E7%8E%B0%E5%A4%8D%E5%88%B6%E5%92%8C%E7%A7%BB%E5%8A%A8%E5%85%83%E7%B4%A0"><span class="toc-number">6.4.</span> <span class="toc-text"> 例子：实现复制和移动元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%8B%96%E6%8B%BD%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD"><span class="toc-number">6.5.</span> <span class="toc-text"> 例子：实现简单拖拽购物车功能</span></a></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="江边鸟"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">江边鸟</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">280</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">2</span>
        <span class="name">categories</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">40</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xoY2hlbjc0" title="https:&#x2F;&#x2F;github.com&#x2F;lhchen74"><i class="ic i-github"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;"><i class="ic i-cloud-music"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>About</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>Friends</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2020/07/16/excerpt-poem/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2020/07/18/json/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2022</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">江边鸟 @ D E W</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2020/07/17/html5/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
