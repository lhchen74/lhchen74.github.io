



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="露の世" href="https://lhchen74.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="露の世" href="https://lhchen74.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="露の世" href="https://lhchen74.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CFira%20Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="rust" />


<link rel="canonical" href="https://lhchen74.github.io/2020/07/12/rust-pattern-enum/">



  <title>
Rust for JavaScript Developers - Pattern Matching and Enums |
D E W = 露の世</title>
<meta name="generator" content="Hexo 5.4.2"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Rust for JavaScript Developers - Pattern Matching and Enums
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2020-07-12 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2020-07-12T00:00:00+08:00">2020-07-12</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">D E W</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="/anime/index/葬送的芙莉莲-2.jpg"></li>
          <li class="item" data-background-image="/anime/index/千与千寻-1.jpg"></li>
          <li class="item" data-background-image="/anime/index/胆大党.jpg"></li>
          <li class="item" data-background-image="/anime/index/混沌武士-3.jpg"></li>
          <li class="item" data-background-image="/anime/index/排球少年-1.jpg"></li>
          <li class="item" data-background-image="/anime/index/与变成了异世界美少女的大叔一起冒险.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://lhchen74.github.io/2020/07/12/rust-pattern-enum/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="江边鸟">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="露の世">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="rust-for-javascript-developers-pattern-matching-and-enums"><a class="markdownIt-Anchor" href="#rust-for-javascript-developers-pattern-matching-and-enums">#</a> Rust for JavaScript Developers - Pattern Matching and Enums</h1>
<p>This is the fourth part in a series about introducing the Rust language to JavaScript developers. Here are all the chapters:</p>
<ol>
<li><span class="exturl" data-url="aHR0cDovL3d3dy5zaGVzaGJhYnUuY29tL3Bvc3RzL3J1c3QtZm9yLWphdmFzY3JpcHQtZGV2ZWxvcGVycy10b29saW5nLWVjb3N5c3RlbS1vdmVydmlldy8=">Tooling Ecosystem Overview</span></li>
<li><span class="exturl" data-url="aHR0cDovL3d3dy5zaGVzaGJhYnUuY29tL3Bvc3RzL3J1c3QtZm9yLWphdmFzY3JpcHQtZGV2ZWxvcGVycy12YXJpYWJsZXMtYW5kLWRhdGEtdHlwZXMv">Variables and Data Types</span></li>
<li><span class="exturl" data-url="aHR0cDovL3d3dy5zaGVzaGJhYnUuY29tL3Bvc3RzL3J1c3QtZm9yLWphdmFzY3JpcHQtZGV2ZWxvcGVycy1mdW5jdGlvbnMtYW5kLWNvbnRyb2wtZmxvdy8=">Functions and Control Flow</span></li>
<li><span class="exturl" data-url="aHR0cDovL3d3dy5zaGVzaGJhYnUuY29tL3Bvc3RzL3J1c3QtZm9yLWphdmFzY3JpcHQtZGV2ZWxvcGVycy1wYXR0ZXJuLW1hdGNoaW5nLWFuZC1lbnVtcy8=">Pattern Matching and Enums</span></li>
</ol>
<h2 id="pattern-matching"><a class="markdownIt-Anchor" href="#pattern-matching">#</a> Pattern Matching</h2>
<p>To understand Pattern Matching, let’s start with something familiar in JavaScript - Switch Case.</p>
<p>Here’s a simple example that uses  <code>switch case</code>  in JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print_color</span>(<span class="params">color</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (color) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;rose&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;roses are red,&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;violet&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;violets are blue,&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;sugar is sweet, and so are you.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_color(<span class="string">&quot;rose&quot;</span>); <span class="comment">// roses are red,</span></span><br><span class="line">print_color(<span class="string">&quot;violet&quot;</span>); <span class="comment">// violets are blue,</span></span><br><span class="line">print_color(<span class="string">&quot;you&quot;</span>); <span class="comment">// sugar is sweet, and so are you.</span></span><br></pre></td></tr></table></figure>
<p>Here’s the equivalent Rust code:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">print_color</span></span>(color: &amp;<span class="built_in">str</span>) &#123;</span><br><span class="line">  <span class="keyword">match</span> color &#123;</span><br><span class="line">    <span class="string">&quot;rose&quot;</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;roses are red,&quot;</span>),</span><br><span class="line">    <span class="string">&quot;violet&quot;</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;violets are blue,&quot;</span>),</span><br><span class="line">    _ =&gt; <span class="built_in">println!</span>(<span class="string">&quot;sugar is sweet, and so are you.&quot;</span>),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  print_color(<span class="string">&quot;rose&quot;</span>); <span class="comment">// roses are red,</span></span><br><span class="line">  print_color(<span class="string">&quot;violet&quot;</span>); <span class="comment">// violets are blue,</span></span><br><span class="line">  print_color(<span class="string">&quot;you&quot;</span>); <span class="comment">// sugar is sweet, and so are you.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Most of the code should be immediately understandable. The  <code>match</code>  expression has the following signature:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> VALUE &#123;</span><br><span class="line">  PATTERN1 =&gt; EXPRESSION1,</span><br><span class="line">  PATTERN2 =&gt; EXPRESSION2,</span><br><span class="line">  PATTERN3 =&gt; EXPRESSION3,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The fat arrow  <code>=&gt;</code>  syntax might trip us up because of the similarities with JavaScript arrow functions but they’re unrelated. The last pattern that uses underscore  <code>_</code>  is called the catchall pattern and is similar to the default case in switch case. Each  <code>PATTERN =&gt; EXPRESSION</code>  combination is called a  <code>match arm</code> .</p>
<p>The above example doesn’t really convey how useful pattern matching is - it just looks like switch case with a different syntax and a fancy name. Let’s talk about destructuring and enums to understand why pattern matching is useful.</p>
<h2 id="destructuring"><a class="markdownIt-Anchor" href="#destructuring">#</a> Destructuring</h2>
<p>Destructuring is the process of extracting the inner fields of an array or struct into separate variables. If you have used destructuring in JavaScript, it is very similar in Rust.</p>
<p>Here’s an example in JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> rgb = [<span class="number">96</span>, <span class="number">172</span>, <span class="number">57</span>];</span><br><span class="line"><span class="keyword">let</span> [red, green, blue] = rgb;</span><br><span class="line"><span class="built_in">console</span>.log(red); <span class="comment">// 96</span></span><br><span class="line"><span class="built_in">console</span>.log(green); <span class="comment">// 172</span></span><br><span class="line"><span class="built_in">console</span>.log(blue); <span class="comment">// 57</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&quot;shesh&quot;</span>, <span class="attr">city</span>: <span class="string">&quot;singapore&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; name, city &#125; = person;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// name</span></span><br><span class="line"><span class="built_in">console</span>.log(city); <span class="comment">// city</span></span><br></pre></td></tr></table></figure>
<p>Here’s the same example in Rust:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span></span> &#123;</span><br><span class="line">  name: <span class="built_in">String</span>,</span><br><span class="line">  city: <span class="built_in">String</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  <span class="keyword">let</span> rgb = [<span class="number">96</span>, <span class="number">172</span>, <span class="number">57</span>];</span><br><span class="line">  <span class="keyword">let</span> [red, green, blue] = rgb;</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, red); <span class="comment">// 96</span></span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, green); <span class="comment">// 172</span></span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, blue); <span class="comment">// 57</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> person = Person &#123;</span><br><span class="line">    name: <span class="string">&quot;shesh&quot;</span>.to_string(),</span><br><span class="line">    city: <span class="string">&quot;singapore&quot;</span>.to_string(),</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">let</span> Person &#123; name, city &#125; = person;</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, name); <span class="comment">// name</span></span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, city); <span class="comment">// city</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="comparing-structs"><a class="markdownIt-Anchor" href="#comparing-structs">#</a> Comparing Structs</h2>
<p>It’s very common to write “if this then that” type of code. Combining destructuring and pattern matching allows us to write these type of logic in a very concise way.</p>
<p>Let’s take this following example in JavaScript. It’s contrived but you have probably written something like this sometime in your career:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> point = &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">30</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; x, y &#125; = point;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x === <span class="number">0</span> &amp;&amp; y === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;both are zero&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (x === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`x is zero and y is <span class="subst">$&#123;y&#125;</span>`</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (y === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`x is <span class="subst">$&#123;x&#125;</span> and y is zero`</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`x is <span class="subst">$&#123;x&#125;</span> and y is <span class="subst">$&#123;y&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Let’s write the same code in Rust using pattern matching:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span> &#123;</span><br><span class="line">  x: <span class="built_in">i32</span>,</span><br><span class="line">  y: <span class="built_in">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  <span class="keyword">let</span> point = Point &#123; x: <span class="number">10</span>, y: <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">match</span> point &#123;</span><br><span class="line">    Point &#123; x: <span class="number">0</span>, y: <span class="number">0</span> &#125; =&gt; <span class="built_in">println!</span>(<span class="string">&quot;both are zero&quot;</span>),</span><br><span class="line">    Point &#123; x: <span class="number">0</span>, y &#125; =&gt; <span class="built_in">println!</span>(<span class="string">&quot;x is zero and y is &#123;&#125;&quot;</span>, y),</span><br><span class="line">    Point &#123; x, y: <span class="number">0</span> &#125; =&gt; <span class="built_in">println!</span>(<span class="string">&quot;x is &#123;&#125; and y is zero&quot;</span>, x),</span><br><span class="line">    Point &#123; x, y &#125; =&gt; <span class="built_in">println!</span>(<span class="string">&quot;x is &#123;&#125; and y is &#123;&#125;&quot;</span>, x, y),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It’s a bit concise compared to the  <code>if else</code>  logic but also might be confusing as we’re performing comparison, destructuring and variable binding at the same time.</p>
<p>This is how it looks like visually:</p>
<p><img data-src="http://www.sheshbabu.com/images/2020-rust-for-javascript-developers-4/pattern-matching-rust-1.png" alt=""><br>
<img data-src="http://www.sheshbabu.com/images/2020-rust-for-javascript-developers-4/pattern-matching-rust-2.png" alt=""></p>
<p>We begin to see why it’s named as “pattern matching” - we take an input and see which pattern in the match arms “fits” better - It’s like the <span class="exturl" data-url="aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT1zaGFwZStzb3J0ZXI=">shape sorter</span> toys that kids play with. Apart from comparison, we also do variable binding in the 2nd, 3rd and 4th match arms. We pass variables x or y or both to their respective expressions.</p>
<p>Pattern matching is also  <code>exhaustive</code>  - that is, it forces you to handle all the possible cases. Try removing the last match arm and Rust won’t let you compile the code.</p>
<h2 id="enum"><a class="markdownIt-Anchor" href="#enum">#</a> Enum</h2>
<p>JavaScript doesn’t have Enums but if you’ve used TypeScript, you can think of Rust’s Enums as a combination of TypeScript’s <span class="exturl" data-url="aHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svZW51bXMuaHRtbA==">Enums</span> and TypeScript’s <span class="exturl" data-url="aHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svYWR2YW5jZWQtdHlwZXMuaHRtbCNkaXNjcmltaW5hdGVkLXVuaW9ucw==">Discriminated Unions</span></p>
<p>In the simplest case, Enums can be used as a group of constants.</p>
<p>For example, even though JavaScript doesn’t have Enums, you might have used this pattern:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> DIRECTION = &#123;</span><br><span class="line">    FORWARD: <span class="string">&quot;FORWARD&quot;</span>,</span><br><span class="line">    BACKWARD: <span class="string">&quot;BACKWARD&quot;</span>,</span><br><span class="line">    LEFT: <span class="string">&quot;LEFT&quot;</span>,</span><br><span class="line">    RIGHT: <span class="string">&quot;RIGHT&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move_drone</span>(<span class="params">direction</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">        <span class="keyword">case</span> DIRECTION.FORWARD:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Forward&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> DIRECTION.BACKWARD:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Backward&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> DIRECTION.LEFT:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Left&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> DIRECTION.RIGHT:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Right&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move_drone(DIRECTION.FORWARD); <span class="comment">// &quot;Move Forward&quot;</span></span><br></pre></td></tr></table></figure>
<p>Here, we could’ve defined the FORWARD, BACKWARD, LEFT and RIGHT as separate constants, yet grouping it inside the DIRECTION object has the following benefits:</p>
<ul>
<li>The names FORWARD, BACKWARD, LEFT and RIGHT are namespaced under DIRECTION so naming conflicts can be avoided</li>
<li>It is self-documenting as we can quickly see all the valid directions available in the codebase</li>
</ul>
<p>However, there are some problems with this approach:</p>
<ul>
<li>What if someone passes NORTH or UP as an argument to move_drone? To fix this, we can add a validation to make sure that only values present in the DIRECTION object is allowed in the move function.</li>
<li>What if we decide to support UP and DOWN in future or rename LEFT/RIGHT to PORT/STARBOARD? We need to find all the places where similar switch-case or if-else is used. There’s a chance that we might miss out a few places which would cause issues in production.</li>
</ul>
<p>Enums in strongly typed languages like Rust are more powerful as they solve these problems without us writing extra code.</p>
<ul>
<li>If a function can take in only a small set of valid inputs, Enums can be used to enforce this constraint</li>
<li>Enums with pattern matching force you to cover all cases. Useful when you’re updating Enums in future</li>
</ul>
<p>Here’s the equivalent Rust example:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span></span> &#123;</span><br><span class="line">  Forward,</span><br><span class="line">  Backward,</span><br><span class="line">  Left,</span><br><span class="line">  Right,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">move_drone</span></span>(direction: Direction) &#123;</span><br><span class="line">  <span class="keyword">match</span> direction &#123;</span><br><span class="line">    Direction::Forward =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Forward&quot;</span>),</span><br><span class="line">    Direction::Backward =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Backward&quot;</span>),</span><br><span class="line">    Direction::Left =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Left&quot;</span>),</span><br><span class="line">    Direction::Right =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Right&quot;</span>),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  move_drone(Direction::Forward);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We access the  <code>variants</code>  inside Enum using the  <code>::</code>  notation. Try editing this code by calling “move_drone(Direction::Up)” or adding “Down” as a new item in the Direction enum. In the first case, the compiler will throw an error saying that “Up” is not found in “Direction” and in the second case, the compiler will complain that we haven’t covered “Down” in the match block.</p>
<p>Rust Enums can do much more than act as a group of constants - we can also associate data with an Enum variant.</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span></span> &#123;</span><br><span class="line">  Forward,</span><br><span class="line">  Backward,</span><br><span class="line">  Left,</span><br><span class="line">  Right,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Operation</span></span> &#123;</span><br><span class="line">  PowerOn,</span><br><span class="line">  PowerOff,</span><br><span class="line">  Move(Direction),</span><br><span class="line">  Rotate,</span><br><span class="line">  TakePhoto &#123; is_landscape: <span class="built_in">bool</span>, zoom_level: <span class="built_in">i32</span> &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">operate_drone</span></span>(operation: Operation) &#123;</span><br><span class="line">  <span class="keyword">match</span> operation &#123;</span><br><span class="line">    Operation::PowerOn =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Power On&quot;</span>),</span><br><span class="line">    Operation::PowerOff =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Power Off&quot;</span>),</span><br><span class="line">    Operation::Move(direction) =&gt; move_drone(direction),</span><br><span class="line">    Operation::Rotate =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Rotate&quot;</span>),</span><br><span class="line">    Operation::TakePhoto &#123;</span><br><span class="line">      is_landscape,</span><br><span class="line">      zoom_level,</span><br><span class="line">    &#125; =&gt; <span class="built_in">println!</span>(<span class="string">&quot;TakePhoto &#123;&#125;, &#123;&#125;&quot;</span>, is_landscape, zoom_level),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">move_drone</span></span>(direction: Direction) &#123;</span><br><span class="line">  <span class="keyword">match</span> direction &#123;</span><br><span class="line">    Direction::Forward =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Forward&quot;</span>),</span><br><span class="line">    Direction::Backward =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Backward&quot;</span>),</span><br><span class="line">    Direction::Left =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Left&quot;</span>),</span><br><span class="line">    Direction::Right =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Move Right&quot;</span>),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  operate_drone(Operation::Move(Direction::Forward));</span><br><span class="line">  operate_drone(Operation::TakePhoto &#123;</span><br><span class="line">    is_landscape: <span class="literal">true</span>,</span><br><span class="line">    zoom_level: <span class="number">10</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here, we’ve added one more Enum called Operation that contains “unit like” variants (PowerOn, PowerOff, Rotate) and “struct like” variants (Move, TakePhoto). Notice how we’ve used pattern matching with destructuring and variable binding.</p>
<p>If you’ve used TypeScript or Flow, this is similar to  <code>discriminated unions</code>  or  <code>sum types</code> :</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> PowerOn &#123;</span><br><span class="line">    kind: <span class="string">&quot;PowerOn&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> PowerOff &#123;</span><br><span class="line">    kind: <span class="string">&quot;PowerOff&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Direction = <span class="string">&quot;Forward&quot;</span> | <span class="string">&quot;Backward&quot;</span> | <span class="string">&quot;Left&quot;</span> | <span class="string">&quot;Right&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Move &#123;</span><br><span class="line">    kind: <span class="string">&quot;Move&quot;</span>;</span><br><span class="line">    direction: Direction;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Rotate &#123;</span><br><span class="line">    kind: <span class="string">&quot;Rotate&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> TakePhoto &#123;</span><br><span class="line">    kind: <span class="string">&quot;TakePhoto&quot;</span>;</span><br><span class="line">    is_landscape: <span class="built_in">boolean</span>;</span><br><span class="line">    zoom_level: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Operation = PowerOn | PowerOff | Move | Rotate | TakePhoto;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">operate_drone</span>(<span class="params">operation: Operation</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (operation.kind) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;PowerOn&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Power On&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;PowerOff&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Power Off&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Move&quot;</span>:</span><br><span class="line">            move_drone(operation.direction);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Rotate&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Rotate&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;TakePhoto&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(</span><br><span class="line">                <span class="string">`TakePhoto <span class="subst">$&#123;operation.is_landscape&#125;</span>, <span class="subst">$&#123;operation.zoom_level&#125;</span>`</span></span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move_drone</span>(<span class="params">direction: Direction</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Forward&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Forward&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Backward&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Backward&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Left&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Left&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Right&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;Move Right&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">operate_drone(&#123;</span><br><span class="line">    kind: <span class="string">&quot;Move&quot;</span>,</span><br><span class="line">    direction: <span class="string">&quot;Forward&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">operate_drone(&#123;</span><br><span class="line">    kind: <span class="string">&quot;TakePhoto&quot;</span>,</span><br><span class="line">    is_landscape: <span class="literal">true</span>,</span><br><span class="line">    zoom_level: <span class="number">10</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="option"><a class="markdownIt-Anchor" href="#option">#</a> Option</h2>
<p>We learnt about the  <code>Option</code>  type in <span class="exturl" data-url="aHR0cDovL3d3dy5zaGVzaGJhYnUuY29tL3Bvc3RzL3J1c3QtZm9yLWphdmFzY3JpcHQtZGV2ZWxvcGVycy12YXJpYWJsZXMtYW5kLWRhdGEtdHlwZXMv">chapter 2</span>. Option is actually an Enum with two variants -  <code>Some</code>  and  <code>None</code> :</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Option</span></span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="literal">Some</span>(T),</span><br><span class="line">  <span class="literal">None</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is how we handled the Option value in that chapter:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">read_file</span></span>(path: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">Option</span>&lt;&amp;<span class="built_in">str</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> contents = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> path != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">Some</span>(contents);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">None</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  <span class="keyword">let</span> file = read_file(<span class="string">&quot;path/to/file&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> file.is_some() &#123;</span><br><span class="line">    <span class="keyword">let</span> contents = file.unwrap();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, contents);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Empty!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Using pattern matching, we can refactor the logic as follows:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">  <span class="keyword">let</span> file = read_file(<span class="string">&quot;path/to/file&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">match</span> file &#123;</span><br><span class="line">    <span class="literal">Some</span>(contents) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, contents),</span><br><span class="line">    <span class="literal">None</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Empty!&quot;</span>),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      <div class="tags">
          <a href="/tags/rust/" rel="tag"><i class="ic i-tag"></i> rust</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2021-10-18 13:27:20" itemprop="dateModified" datetime="2021-10-18T13:27:20+08:00">2021-10-18</time>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2020/07/09/java-robot/" itemprop="url" rel="prev" data-background-image="&#x2F;anime&#x2F;index&#x2F;悬崖上的金鱼姬-1.jpg" title="Robot Automation">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Robot Automation</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2020/07/14/rust-modules/" itemprop="url" rel="next" data-background-image="&#x2F;anime&#x2F;index&#x2F;关于前辈很烦人的事.jpg" title="Clear explanation of Rust’s module system">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Clear explanation of Rust’s module system</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#rust-for-javascript-developers-pattern-matching-and-enums"><span class="toc-number">1.</span> <span class="toc-text"> Rust for JavaScript Developers - Pattern Matching and Enums</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pattern-matching"><span class="toc-number">1.1.</span> <span class="toc-text"> Pattern Matching</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#destructuring"><span class="toc-number">1.2.</span> <span class="toc-text"> Destructuring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#comparing-structs"><span class="toc-number">1.3.</span> <span class="toc-text"> Comparing Structs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#enum"><span class="toc-number">1.4.</span> <span class="toc-text"> Enum</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#option"><span class="toc-number">1.5.</span> <span class="toc-text"> Option</span></a></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="江边鸟"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">江边鸟</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">378</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">2</span>
        <span class="name">categories</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">51</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xoY2hlbjc0" title="https:&#x2F;&#x2F;github.com&#x2F;lhchen74"><i class="ic i-github"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item codepen" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2xoY2hlbjc0" title="https:&#x2F;&#x2F;codepen.io&#x2F;lhchen74"><i class="ic i-address-card"></i></span>
      <span class="exturl item anki" data-url="aHR0cHM6Ly9hbmtpd2ViLm5ldC9kZWNrcy8=" title="https:&#x2F;&#x2F;ankiweb.net&#x2F;decks&#x2F;"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>About</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>Friends</a>
  </li>

    
  <li class="item">
    <a href="/anime/" rel="section"><i class="ic i-magic"></i>Anime</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2020/07/09/java-robot/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2020/07/14/rust-modules/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">江边鸟 @ D E W</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2020/07/12/rust-pattern-enum/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
