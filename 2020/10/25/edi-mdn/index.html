



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="露の世" href="https://lhchen74.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="露の世" href="https://lhchen74.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="露の世" href="https://lhchen74.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="edi" />


<link rel="canonical" href="https://lhchen74.github.io/2020/10/25/edi-mdn/">



  <title>
What is an AS2 MDN? |
Dew's World = 露の世</title>
<meta name="generator" content="Hexo 5.4.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">What is an AS2 MDN?
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2020-10-25 00:00:00">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2020-10-25T00:00:00+08:00">2020-10-25</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Dew's World</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipewkhf1zj20zk0m81kx.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gicitspjpbj20zk0m81ky.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipevarprfj20zk0m8npd.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipesrnqv3j20zk0m8ava.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipeyhsblkj20zk0m81kx.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclgrvbd6j20zk0m8qv5.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://lhchen74.github.io/2020/10/25/edi-mdn/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="江边鸟">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="露の世">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <blockquote>
<p>Reproduced <span class="exturl" data-url="aHR0cHM6Ly93d3cuanNjYXBlLmNvbS9ibG9nL2JpZC8xMDA2NzEvV2hhdC1pcy1hbi1BUzItTUROIzp+OnRleHQ9QW4lMjBNRE4lMjBpcyUyMGFuJTIwZWxlY3Ryb25pYyxhbmQlMjBub24lMkRyZXB1ZGlhdGlvbiUyMGluJTIwQVMyLg==">What is an AS2 MDN?</span></p>
</blockquote>
<h3 id="overview"><a class="markdownIt-Anchor" href="#overview">#</a> Overview</h3>
<p>An MDN is an electronic return receipt which a trading partner can optionally request during an <span class="exturl" data-url="aHR0cHM6Ly93d3cuanNjYXBlLmNvbS9ibG9nL2JpZC8xMDA0MzUvQVMyLVNpbXBsaWZpZWQ=">AS2 interchange</span>. The use of MDNs help enforce data integrity and non-repudiation in AS2. In this post, we’ll talk more about the value of issuing an AS2 MDN, what options you have when using it, and an overview of the usual configurable MDN settings in a managed file transfer server.</p>
<h3 id="why-use-an-mdn"><a class="markdownIt-Anchor" href="#why-use-an-mdn">#</a> Why use an MDN</h3>
<p>After transmitting an EDI message to a trading partner, we usually want to confirm whether the message - in all its entirety - actually went through. More so if our EDI (Electronic Data Interchange) is carried out over the Internet, where message packets may have to go through a number of hops. This concern can be easily addressed if you do your EDI over AS2. That’s because AS2 provides an electronic return receipt known as an MDN (Message Disposition Notification).</p>
<p>The Message Disposition Notification process is initiated by the EDI message sender and is usually concluded once the sender receives the requested MDN. Let me show you a typical AS2 transmission that utilizes this process:</p>
<p><em>Figure 1</em></p>
<img data-src="/2020/10/25/edi-mdn/as2_with_mdn.png" class="" title="as2 with mdn">
<p>Let’s go through those steps briefly:</p>
<p>\1. The sender encrypts the EDI message, affixes its <span class="exturl" data-url="aHR0cHM6Ly93d3cuanNjYXBlLmNvbS9ibG9nL3doYXQtaXMtYS1kaWdpdGFsLXNpZ25hdHVyZQ==">digital signature</span>, and specifies an MDN option. We’ll talk more about MDN options in a short while. But in the meantime, let’s assume the option simply amounts to a request for the return receipt;</p>
<p>\2. The EDI message is transmitted over the Internet via AS2;</p>
<p>\3. The receiver decrypts the message and validates the sender’s digital signature;</p>
<p>\4. The receiver recognizes the request for an MDN, prepares the MDN, affixes its own digital signature to it, and then sends it back to the original sender.</p>
<p>\5. Finally, the sender receives the MDN, validates the receiver’s digital signature, and then closes the connection.</p>
<p>So, basically, the MDN serves to inform the sender about two things: 1) That the AS2 transmission completed successfully and 2) That the EDI message was received by the intended recipient devoid of any unauthorized modifications (i.e., data integrity was preserved).</p>
<p>This can be confirmed through the digital signature affixed to the MDN and can be used for non-repudiation. Hence, MDNs can be vital in establishing that certain SLA requirements have been met as well as in settling disputes concerning AS2 EDI transmissions.</p>
<p>But how does each trading partner validate the digital signature it receives?</p>
<h3 id="as2-mdn-digital-signatures"><a class="markdownIt-Anchor" href="#as2-mdn-digital-signatures">#</a> AS2 MDN Digital Signatures</h3>
<p>Before two parties start sending EDI messages over AS2, they first share public keys with one another. Each public key corresponds to a specific private key, which is used for generating a digital signature and is held by the party who owns that particular signature.</p>
<p>The private key is kept secret and hence is never shared. The function of the public key is to validate the digital signature. Only the private key that corresponds to a particular public key can generate a signature that the public key can validate.</p>
<p><em>Figure 2</em></p>
<img data-src="/2020/10/25/edi-mdn/public_key_authentication_as2.png" class="" title="public key authentication as2">
<p>wherein:</p>
<p>\1. TP - A generates a digital signature using its private key;</p>
<p>\2. TP - A’s digital signature is sent along with an AS2 EDI message;</p>
<p>\3. TP - B validates TP - A’s digital signature using TP - A’s public key that’s already in its possession.</p>
<p>Once the signature has been validated, TP - B can already be sure that the EDI message came from a trusted trading partner and that the data was unaltered along the way.</p>
<p>The same thing happens when TP - B responds with an MDN:</p>
<p><em>Figure 3</em></p>
<img data-src="/2020/10/25/edi-mdn/mdn_with_digital_signature.png" class="" title="mdn with digital signature">
<p>wherein:</p>
<p>\1. TP - B generates a digital signature using its private key;</p>
<p>\2. TP - B’s digital signature is sent along with an AS2 MDN;</p>
<p>\3. TP - A validates TP - B’s digital signature using TP - B’s public key that’s already in its possession.</p>
<p>Once the signature has been validated, TP - A can already be sure the MDN came from the trading partner it sent the AS2 EDI message to and that the AS2 transmission completed successfully.</p>
<p>For more information on public key cryptography and the use of public and private keys, I suggest you read the following articles:</p>
<p>✔ <em>Roles of Server and Client Keys in Secure File Transfers</em></p>
<p>✔ <em>What is an SSL File Transfer?</em></p>
<p>✔ <em>Securing Data at Rest with OpenPGP</em></p>
<p>As mentioned earlier in Step 1, the message sender is supposed to specify an MDN option. One of those options is to forgo the MDN. Of course, we don’t recommend that. If you want a secure file transfer, then you will want to stick with the options that amount to an MDN transmission. And among those options there are two that are commonly used: AS2 with Sync MDN and AS2 with ASync MDN.</p>
<h3 id="synchronous-vs-asynchronous-mdn"><a class="markdownIt-Anchor" href="#synchronous-vs-asynchronous-mdn">#</a> Synchronous vs Asynchronous MDN</h3>
<p>Synchronous or Sync MDN is an option wherein the MDN is sent to the message sender via the same HTTP/S connection that was used to deliver the original EDI message. On the other hand, Asynchronous or ASync MDN is an option wherein the MDN is sent at a later time via a different HTTP/S connection.</p>
<p>To illustrate the difference between these two options:</p>
<p><em>Figure 4</em></p>
<img data-src="/2020/10/25/edi-mdn/as2_with_sync-mdn.png" class="" title="as2 with sync mdn">
<p><em>Figure 5</em></p>
<img data-src="/2020/10/25/edi-mdn/as2_with_async_mdn.png" class="" title="as2 with async mdn">
<p>Because it uses the same HTTP connection as the original transmission, Sync MDN is the faster option. However, it is not suitable for large file transfers because it may be abruptly cancelled during timeout, especially in low-bandwidth conditions. So if you need to transfer large files but you or your trading partner are subject to poor network conditions, then ASync MDN would be a better choice.</p>
<p>MDN is only one of a handful of security features in AS2. To learn more about AS2, I recommend you read the blog post entitled <em>AS2 Simplified</em>.</p>
<h3 id="typical-mdn-settings"><a class="markdownIt-Anchor" href="#typical-mdn-settings">#</a> Typical MDN Settings</h3>
<p>This section is meant to give you a glimpse of the MDN settings you would normally configure on your favorite managed file transfer server. In our case, that managed file transfer server would be <span class="exturl" data-url="aHR0cHM6Ly93d3cuanNjYXBlLmNvbS9wcm9kdWN0cy9maWxlLXRyYW5zZmVyLXNlcnZlcnMvanNjYXBlLW1mdC1zZXJ2ZXIv">JSCAPE MFT Server</span>.</p>
<p>All MDNs will of course contain a FROM and TO ID. The FROM ID uniquely identifies where the AS2 message is coming from, while the TO ID uniquely identifies where it is being sent.</p>
<p><em>Figure 6</em></p>
<img data-src="/2020/10/25/edi-mdn/as2-mdn-settings.png" class="" title="as2 mdn settings">
<p>See that drop-down list box labeled ‘Receipt’? (See <em>Figure 6</em>) The items on that box correspond to the MDN options we talked about earlier. ‘None’ simply refers to the option where no MDN will be transmitted. If you choose ‘synchronous’, you would also need to specify a ‘Receipt timeout’ (See <em>Figure 7</em>). When that timeout value is reached, the connection will automatically disconnect.</p>
<p><em>Figure 7</em></p>
<img data-src="/2020/10/25/edi-mdn/as2-mdn-encryption-digital-signature.png" class="" title="as2 mdn encryption and digital signature">
<p>As you can see from the screenshot, you may also take advantage of optional security features like:</p>
<p>✔ Encryption - which you specify using the ‘Encryption key’ and ‘Encryption algorithm’ settings, and</p>
<p>✔ Digital signing - which you specify using the ‘Signing key’ and ‘Signature algorithm’ settings.</p>
<h3 id="recommended-download"><a class="markdownIt-Anchor" href="#recommended-download">#</a> Recommended Download</h3>
<p>That concludes our discussion on AS2 MDN. If you want to give AS2 a test run, download the FREE, fully-functional evaluation edition of JSCAPE MFT Server.</p>

      <div class="tags">
          <a href="/tags/edi/" rel="tag"><i class="ic i-tag"></i> edi</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2020-10-25 15:12:54" itemprop="dateModified" datetime="2020-10-25T15:12:54+08:00">2020-10-25</time>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2020/09/16/sql-mysql/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipet4bz0yj20zk0m8e81.jpg" title="mysql basic">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>mysql basic</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2020/11/23/java-error/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicmnywqgpj20zk0m8dwx.jpg" title="java error">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>java error</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#overview"><span class="toc-number">1.</span> <span class="toc-text"> Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#why-use-an-mdn"><span class="toc-number">2.</span> <span class="toc-text"> Why use an MDN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#as2-mdn-digital-signatures"><span class="toc-number">3.</span> <span class="toc-text"> AS2 MDN Digital Signatures</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#synchronous-vs-asynchronous-mdn"><span class="toc-number">4.</span> <span class="toc-text"> Synchronous vs Asynchronous MDN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typical-mdn-settings"><span class="toc-number">5.</span> <span class="toc-text"> Typical MDN Settings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#recommended-download"><span class="toc-number">6.</span> <span class="toc-text"> Recommended Download</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="江边鸟"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">江边鸟</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">239</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">29</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xoY2hlbjc0" title="https:&#x2F;&#x2F;github.com&#x2F;lhchen74"><i class="ic i-github"></i></span>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span>
      <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>About</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a>
  </li>

    
  <li class="item">
    <a href="/links/" rel="section"><i class="ic i-magic"></i>links</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2020/09/16/sql-mysql/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2020/11/23/java-error/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2021</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">江边鸟 @ Dew's World</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2020/10/25/edi-mdn/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
